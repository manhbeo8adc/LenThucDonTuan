2025-05-02 09:41:20,481 - api.openai_api - INFO - Sending request to OpenAI API with model: gpt-4.1-nano
2025-05-02 09:41:28,397 - api.openai_api - INFO - Raw API Response Object:
2025-05-02 09:41:28,397 - api.openai_api - INFO - {
  "id": "chatcmpl-BSadW7jh14n79c90AtPqI4ChEl3Tb",
  "object": "chat.completion",
  "created": 1746153714,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"menu\": {\n    \"Th\u1ee9 hai\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u00e0 b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"B\u00e1nh m\u00ec\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u \u0103n c\u01a1m\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 ba\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u00e0 b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"B\u00e1nh m\u00ec\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u \u0103n c\u01a1m\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 t\u01b0\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u00e0 b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"B\u00e1nh m\u00ec\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u \u0103n c\u01a1m\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 n\u0103m\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u00e0 b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"B\u00e1nh m\u00ec\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u \u0103n c\u01a1m\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 s\u00e1u\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u00e0 b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"B\u00e1nh m\u00ec\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u \u0103n c\u01a1m\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 b\u1ea3y\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u00e0 b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"B\u00e1nh m\u00ec\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa tr\u01b0a\": {\n",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "length"
    }
  ],
  "usage": {
    "prompt_tokens": 313,
    "completion_tokens": 1500,
    "total_tokens": 1813,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 09:41:28,401 - api.openai_api - INFO - Raw API Response:
2025-05-02 09:41:28,401 - api.openai_api - INFO - {
  "menu": {
    "Thứ hai": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la và bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Bánh mì", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu ăn cơm",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ ba": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la và bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Bánh mì", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu ăn cơm",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ tư": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la và bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Bánh mì", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu ăn cơm",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ năm": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la và bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Bánh mì", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu ăn cơm",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ sáu": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la và bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Bánh mì", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu ăn cơm",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ bảy": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la và bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Bánh mì", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa trưa": {

2025-05-02 09:41:28,404 - api.openai_api - WARNING - Direct JSON parsing failed, attempting to clean response
2025-05-02 09:41:28,405 - api.openai_api - INFO - Cleaned JSON content:
2025-05-02 09:41:28,405 - api.openai_api - INFO - {
  "menu": {
    "Thứ hai": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la và bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Bánh mì", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu ăn cơm",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ ba": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la và bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Bánh mì", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu ăn cơm",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ tư": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la và bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Bánh mì", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu ăn cơm",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ năm": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la và bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Bánh mì", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu ăn cơm",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ sáu": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la và bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Bánh mì", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu ăn cơm",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ bảy": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la và bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Bánh mì", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      }
2025-05-02 09:41:28,409 - api.openai_api - ERROR - JSON parsing error after cleaning: Expecting ',' delimiter: line 125 column 8 (char 4400)
2025-05-02 09:42:34,177 - api.openai_api - INFO - Sending request to OpenAI API with model: gpt-4.1-nano
2025-05-02 09:42:42,639 - api.openai_api - INFO - Raw API Response Object:
2025-05-02 09:42:42,639 - api.openai_api - INFO - {
  "id": "chatcmpl-BSaejm6Mro09xtDIaYrrILIQpMltw",
  "object": "chat.completion",
  "created": 1746153789,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"menu\": {\n    \"Th\u1ee9 hai\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"Tr\u1ee9ng g\u00e0 \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 60000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 45,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      }\n    },\n    \"Th\u1ee9 ba\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\"],\n        \"preparation_time\": 15,\n        \"estimated_cost\": 50000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 45,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"S\u01b0\u1eddn heo\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 t\u01b0\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"Tr\u1ee9ng g\u00e0 \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 60000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 45,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"S\u01b0\u1eddn heo\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 n\u0103m\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"Tr\u1ee9ng g\u00e0 \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 60000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 45,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"S\u01b0\u1eddn heo\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 s\u00e1u\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"Tr\u1ee9ng g\u00e0 \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 60000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 45,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"S\u01b0\u1eddn heo\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 b\u1ea3y\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\"],\n        \"preparation_time\": 15,\n        \"estimated_cost\": 50000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 45,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"S\u01b0\u1eddn heo\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Ch\u1ee7 nh\u1eadt\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"Tr\u1ee9ng g\u00e0 \u1ed1p la v\u1edbi b\u00ed",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "length"
    }
  ],
  "usage": {
    "prompt_tokens": 313,
    "completion_tokens": 1500,
    "total_tokens": 1813,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 09:42:42,643 - api.openai_api - INFO - Raw API Response:
2025-05-02 09:42:42,643 - api.openai_api - INFO - {
  "menu": {
    "Thứ hai": {
      "Bữa sáng": {
        "name": "Trứng gà ốp la với bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi"],
        "preparation_time": 20,
        "estimated_cost": 60000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": []
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 45,
        "estimated_cost": 70000,
        "reused_ingredients": []
      }
    },
    "Thứ ba": {
      "Bữa sáng": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["Bí đỏ", "Tỏi"],
        "preparation_time": 15,
        "estimated_cost": 50000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 45,
        "estimated_cost": 70000,
        "reused_ingredients": ["Sườn heo", "Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ tư": {
      "Bữa sáng": {
        "name": "Trứng gà ốp la với bí đỏ",
        "ingredients": ["Trứng gà", "Bí đỏ"],
        "preparation_time": 20,
        "estimated_cost": 60000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 45,
        "estimated_cost": 70000,
        "reused_ingredients": ["Sườn heo", "Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ năm": {
      "Bữa sáng": {
        "name": "Trứng gà ốp la với bí đỏ",
        "ingredients": ["Trứng gà", "Bí đỏ"],
        "preparation_time": 20,
        "estimated_cost": 60000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 45,
        "estimated_cost": 70000,
        "reused_ingredients": ["Sườn heo", "Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ sáu": {
      "Bữa sáng": {
        "name": "Trứng gà ốp la với bí đỏ",
        "ingredients": ["Trứng gà", "Bí đỏ"],
        "preparation_time": 20,
        "estimated_cost": 60000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 45,
        "estimated_cost": 70000,
        "reused_ingredients": ["Sườn heo", "Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ bảy": {
      "Bữa sáng": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["Bí đỏ", "Tỏi"],
        "preparation_time": 15,
        "estimated_cost": 50000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 45,
        "estimated_cost": 70000,
        "reused_ingredients": ["Sườn heo", "Nước mắm", "Hạt tiêu"]
      }
    },
    "Chủ nhật": {
      "Bữa sáng": {
        "name": "Trứng gà ốp la với bí
2025-05-02 09:42:42,649 - api.openai_api - WARNING - Direct JSON parsing failed, attempting to clean response
2025-05-02 09:42:42,650 - api.openai_api - INFO - Cleaned JSON content:
2025-05-02 09:42:42,650 - api.openai_api - INFO - {  "menu": {    "Thứ hai": {      "Bữa sáng": {        "name": "Trứng gà ốp la với bí đỏ xào tỏi",        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi"],        "preparation_time": 20,        "estimated_cost": 60000,        "reused_ingredients": []      },      "Bữa trưa": {        "name": "Thịt kho tàu",        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],        "preparation_time": 60,        "estimated_cost": 70000,        "reused_ingredients": []      },      "Bữa tối": {        "name": "Sườn rim dứa",        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],        "preparation_time": 45,        "estimated_cost": 70000,        "reused_ingredients": []      }    },    "Thứ ba": {      "Bữa sáng": {        "name": "Bí đỏ xào tỏi",        "ingredients": ["Bí đỏ", "Tỏi"],        "preparation_time": 15,        "estimated_cost": 50000,        "reused_ingredients": []      },      "Bữa trưa": {        "name": "Thịt kho tàu",        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],        "preparation_time": 60,        "estimated_cost": 70000,        "reused_ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"]      },      "Bữa tối": {        "name": "Sườn rim dứa",        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],        "preparation_time": 45,        "estimated_cost": 70000,        "reused_ingredients": ["Sườn heo", "Nước mắm", "Hạt tiêu"]      }    },    "Thứ tư": {      "Bữa sáng": {        "name": "Trứng gà ốp la với bí đỏ",        "ingredients": ["Trứng gà", "Bí đỏ"],        "preparation_time": 20,        "estimated_cost": 60000,        "reused_ingredients": []      },      "Bữa trưa": {        "name": "Thịt kho tàu",        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],        "preparation_time": 60,        "estimated_cost": 70000,        "reused_ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"]      },      "Bữa tối": {        "name": "Sườn rim dứa",        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],        "preparation_time": 45,        "estimated_cost": 70000,        "reused_ingredients": ["Sườn heo", "Nước mắm", "Hạt tiêu"]      }    },    "Thứ năm": {      "Bữa sáng": {        "name": "Trứng gà ốp la với bí đỏ",        "ingredients": ["Trứng gà", "Bí đỏ"],        "preparation_time": 20,        "estimated_cost": 60000,        "reused_ingredients": []      },      "Bữa trưa": {        "name": "Thịt kho tàu",        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],        "preparation_time": 60,        "estimated_cost": 70000,        "reused_ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"]      },      "Bữa tối": {        "name": "Sườn rim dứa",        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],        "preparation_time": 45,        "estimated_cost": 70000,        "reused_ingredients": ["Sườn heo", "Nước mắm", "Hạt tiêu"]      }    },    "Thứ sáu": {      "Bữa sáng": {        "name": "Trứng gà ốp la với bí đỏ",        "ingredients": ["Trứng gà", "Bí đỏ"],        "preparation_time": 20,        "estimated_cost": 60000,        "reused_ingredients": []      },      "Bữa trưa": {        "name": "Thịt kho tàu",        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],        "preparation_time": 60,        "estimated_cost": 70000,        "reused_ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"]      },      "Bữa tối": {        "name": "Sườn rim dứa",        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],        "preparation_time": 45,        "estimated_cost": 70000,        "reused_ingredients": ["Sườn heo", "Nước mắm", "Hạt tiêu"]      }    },    "Thứ bảy": {      "Bữa sáng": {        "name": "Bí đỏ xào tỏi",        "ingredients": ["Bí đỏ", "Tỏi"],        "preparation_time": 15,        "estimated_cost": 50000,        "reused_ingredients": []      },      "Bữa trưa": {        "name": "Thịt kho tàu",        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],        "preparation_time": 60,        "estimated_cost": 70000,        "reused_ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"]      },      "Bữa tối": {        "name": "Sườn rim dứa",        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],        "preparation_time": 45,        "estimated_cost": 70000,        "reused_ingredients": ["Sườn heo", "Nước mắm", "Hạt tiêu"]      }    }
2025-05-02 09:42:42,651 - api.openai_api - ERROR - JSON parsing error after cleaning: Expecting ',' delimiter: line 1 column 4344 (char 4343)
2025-05-02 09:42:42,651 - api.openai_api - ERROR - JSON parsing error after all cleaning attempts: Expecting ',' delimiter: line 1 column 4344 (char 4343)
2025-05-02 09:44:09,289 - api.openai_api - INFO - Sending request to OpenAI API with model: gpt-4.1-nano
2025-05-02 09:44:17,603 - api.openai_api - INFO - Raw API Response Object:
2025-05-02 09:44:17,603 - api.openai_api - INFO - {
  "id": "chatcmpl-BSagGznIViuBDM0bhnCt7TK8iD5OD",
  "object": "chat.completion",
  "created": 1746153884,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"menu\": {\n    \"Th\u1ee9 hai\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"B\u00e1nh m\u00ec\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 30,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 ba\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 60000,\n        \"reused_ingredients\": [\"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"C\u01a1m + Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"Ng\u00f4 ng\u1ecdt lu\u1ed9c\",\n        \"ingredients\": [\"Ng\u00f4 ng\u1ecdt\"],\n        \"preparation_time\": 15,\n        \"estimated_cost\": 30000,\n        \"reused_ingredients\": []\n      }\n    },\n    \"Th\u1ee9 t\u01b0\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"Tr\u1ee9ng g\u00e0 \u1ed1p la\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\"],\n        \"preparation_time\": 10,\n        \"estimated_cost\": 20000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 60000,\n        \"reused_ingredients\": [\"H\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 n\u0103m\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00e1nh m\u00ec\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 60000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"Ng\u00f4 ng\u1ecdt lu\u1ed9c\",\n        \"ingredients\": [\"Ng\u00f4 ng\u1ecdt\"],\n        \"preparation_time\": 15,\n        \"estimated_cost\": 30000,\n        \"reused_ingredients\": []\n      }\n    },\n    \"Th\u1ee9 s\u00e1u\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"Tr\u1ee9ng g\u00e0 \u1ed1p la\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\"],\n        \"preparation_time\": 10,\n        \"estimated_cost\": 20000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 60000,\n        \"reused_ingredients\": [\"H\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 b\u1ea3y\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00e1nh m\u00ec\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 60000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"Ng\u00f4 ng\u1ecdt lu\u1ed9c\",\n        \"ingredients\": [\"Ng\u00f4 ng\u1ecdt\"],\n        \"preparation_time\": 15,\n        \"estimated_cost\": 30000,\n        \"reused_ingredients\": []\n      }\n    },\n    \"Ch\u1ee7 nh\u1eadt\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"Tr\u1ee9ng g\u00e0 \u1ed1p la\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\"],\n        \"preparation_time\": 10,\n        \"estimated_cost\": 20000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 60000,\n        \"reused_ingredients\": [\"H\u1ea1t ti\u00eau\"]\n      }\n    }\n  },\n  \"optimization_notes\": [\n    \"Ch\u1ecdn c\u00e1c m\u00f3n \u0111\u01a1n gi\u1ea3n, nhanh \u0111\u1ec3 ph\u00f9 h\u1ee3p v\u1edbi th\u1eddi gian t\u1ed1i \u0111a 60 ph\u00fat.\",\n    \"S\u1eed d\u1ee5ng nguy\u00ean li\u1ec7u chung nh\u01b0 n\u01b0\u1edbc m\u1eafm, h\u1ea1t ti\u00eau \u0111\u1ec3 ti\u1ebft ki\u1ec7m ng\u00e2n s\u00e1ch.\",\n    \"Th\u1ef1c \u0111\u01a1n t\u1eadp trung v\u00e0o c\u00e1c m\u00f3n mi\u1ec1n B\u1eafc ph\u00f9 h\u1ee3p phong c\u00e1ch y\u00eau th\u00edch.\",\n    \"C\u00e1c m\u00f3n \u0111\u1ec1u ph\u00f9 h\u1ee3p ng\u00e2n s\u00e1ch 70,000\u0111/b\u1eefa v\u00e0 \u0111\u1ea3m b\u1ea3o \u0111\u1ee7 dinh d\u01b0\u1ee1ng.\"\n  ]\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 313,
    "completion_tokens": 1682,
    "total_tokens": 1995,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 09:44:17,607 - api.openai_api - INFO - Raw API Response:
2025-05-02 09:44:17,607 - api.openai_api - INFO - {
  "menu": {
    "Thứ hai": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la với bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Bánh mì", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 30,
        "estimated_cost": 65000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      }
    },
    "Thứ ba": {
      "Bữa sáng": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["Bí đỏ", "Tỏi", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 60000,
        "reused_ingredients": ["Hạt tiêu"]
      },
      "Bữa trưa": {
        "name": "Cơm + Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Ngô ngọt luộc",
        "ingredients": ["Ngô ngọt"],
        "preparation_time": 15,
        "estimated_cost": 30000,
        "reused_ingredients": []
      }
    },
    "Thứ tư": {
      "Bữa sáng": {
        "name": "Trứng gà ốp la",
        "ingredients": ["Trứng gà"],
        "preparation_time": 10,
        "estimated_cost": 20000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["Bí đỏ", "Tỏi", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 60000,
        "reused_ingredients": ["Hạt tiêu"]
      }
    },
    "Thứ năm": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la",
        "ingredients": ["Trứng gà", "Bánh mì"],
        "preparation_time": 20,
        "estimated_cost": 60000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Ngô ngọt luộc",
        "ingredients": ["Ngô ngọt"],
        "preparation_time": 15,
        "estimated_cost": 30000,
        "reused_ingredients": []
      }
    },
    "Thứ sáu": {
      "Bữa sáng": {
        "name": "Trứng gà ốp la",
        "ingredients": ["Trứng gà"],
        "preparation_time": 10,
        "estimated_cost": 20000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["Bí đỏ", "Tỏi", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 60000,
        "reused_ingredients": ["Hạt tiêu"]
      }
    },
    "Thứ bảy": {
      "Bữa sáng": {
        "name": "Bánh mì trứng ốp la",
        "ingredients": ["Trứng gà", "Bánh mì"],
        "preparation_time": 20,
        "estimated_cost": 60000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Ngô ngọt luộc",
        "ingredients": ["Ngô ngọt"],
        "preparation_time": 15,
        "estimated_cost": 30000,
        "reused_ingredients": []
      }
    },
    "Chủ nhật": {
      "Bữa sáng": {
        "name": "Trứng gà ốp la",
        "ingredients": ["Trứng gà"],
        "preparation_time": 10,
        "estimated_cost": 20000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["Bí đỏ", "Tỏi", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 60000,
        "reused_ingredients": ["Hạt tiêu"]
      }
    }
  },
  "optimization_notes": [
    "Chọn các món đơn giản, nhanh để phù hợp với thời gian tối đa 60 phút.",
    "Sử dụng nguyên liệu chung như nước mắm, hạt tiêu để tiết kiệm ngân sách.",
    "Thực đơn tập trung vào các món miền Bắc phù hợp phong cách yêu thích.",
    "Các món đều phù hợp ngân sách 70,000đ/bữa và đảm bảo đủ dinh dưỡng."
  ]
}
2025-05-02 09:47:14,465 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 09:47:15,819 - api.openai_api - INFO - Raw response for Thứ hai:
2025-05-02 09:47:15,819 - api.openai_api - INFO - {
  "Thứ hai": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi",
      "ingredients": ["bí đỏ", "tỏi", "dầu ăn", "muối"],
      "preparation_time": 15,
      "estimated_cost": 20000,
      "reused_ingredients": []
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu",
      "ingredients": ["trứng gà", "thịt ba chỉ", "nước mắm", "hạt tiêu", "tỏi", "đường", "dầu ăn"],
      "preparation_time": 45,
      "estimated_cost": 35000,
      "reused_ingredients": []
    },
    "Bữa tối": {
      "name": "Sườn rim dứa",
      "ingredients": ["sườn heo", "dứa", "nước mắm", "hạt tiêu", "tỏi", "dầu ăn"],
      "preparation_time": 40,
      "estimated_cost": 35000,
      "reused_ingredients": []
    }
  }
}
2025-05-02 09:47:15,820 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 09:47:17,187 - api.openai_api - INFO - Raw response for Thứ ba:
2025-05-02 09:47:17,188 - api.openai_api - INFO - {
  "Thứ ba": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi",
      "ingredients": ["bí đỏ", "tỏi", "dầu ăn", "muối"],
      "preparation_time": 15,
      "estimated_cost": 25000,
      "reused_ingredients": []
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu",
      "ingredients": ["trứng gà", "thịt ba chỉ", "nước mắm", "hạt tiêu", "tỏi", "đường", "dầu ăn"],
      "preparation_time": 45,
      "estimated_cost": 35000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"]
    },
    "Bữa tối": {
      "name": "Sườn rim dứa",
      "ingredients": ["sườn heo", "dứa", "nước mắm", "hạt tiêu", "tỏi", "dầu ăn"],
      "preparation_time": 45,
      "estimated_cost": 35000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"]
    }
  }
}
2025-05-02 09:47:17,188 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 09:47:18,700 - api.openai_api - INFO - Raw response for Thứ tư:
2025-05-02 09:47:18,701 - api.openai_api - INFO - {
  "Thứ tư": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi",
      "ingredients": ["bí đỏ", "tỏi", "dầu ăn", "muối", "hạt tiêu"],
      "preparation_time": 15,
      "estimated_cost": 20000,
      "reused_ingredients": []
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu",
      "ingredients": ["thịt ba chỉ", "nước mắm", "hạt tiêu", "đường", "tỏi", "trứng gà"],
      "preparation_time": 45,
      "estimated_cost": 35000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"]
    },
    "Bữa tối": {
      "name": "Sườn rim dứa",
      "ingredients": ["sườn heo", "dứa", "nước mắm", "hạt tiêu", "đường", "tỏi"],
      "preparation_time": 45,
      "estimated_cost": 35000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"]
    }
  }
}
2025-05-02 09:47:18,702 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 09:47:20,221 - api.openai_api - INFO - Raw response for Thứ năm:
2025-05-02 09:47:20,221 - api.openai_api - INFO - {
  "Thứ năm": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi",
      "ingredients": ["bí đỏ", "tỏi", "dầu ăn", "muối"],
      "preparation_time": 15,
      "estimated_cost": 25000,
      "reused_ingredients": []
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu",
      "ingredients": ["trứng gà", "thịt ba chỉ", "nước mắm", "hạt tiêu", "tỏi", "đường", "dầu ăn"],
      "preparation_time": 40,
      "estimated_cost": 40000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"]
    },
    "Bữa tối": {
      "name": "Sườn rim dứa",
      "ingredients": ["sườn heo", "dứa", "nước mắm", "hạt tiêu", "tỏi", "dầu ăn"],
      "preparation_time": 45,
      "estimated_cost": 65000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"]
    }
  }
}
2025-05-02 09:47:20,221 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 09:47:21,708 - api.openai_api - INFO - Raw response for Thứ sáu:
2025-05-02 09:47:21,708 - api.openai_api - INFO - {
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "Trứng gà ốp la với bí đỏ xào tỏi",
      "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Dầu ăn"],
      "preparation_time": 15,
      "estimated_cost": 25000,
      "reused_ingredients": []
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu",
      "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu", "Tỏi", "Đường", "Nước"],
      "preparation_time": 40,
      "estimated_cost": 35000,
      "reused_ingredients": []
    },
    "Bữa tối": {
      "name": "Sườn rim dứa",
      "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu", "Tỏi", "Dầu ăn"],
      "preparation_time": 40,
      "estimated_cost": 35000,
      "reused_ingredients": []
    }
  }
}
2025-05-02 09:47:21,709 - api.openai_api - INFO - Generating menu for Thứ bảy
2025-05-02 09:47:23,252 - api.openai_api - INFO - Raw response for Thứ bảy:
2025-05-02 09:47:23,253 - api.openai_api - INFO - {
  "Thứ bảy": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi",
      "ingredients": ["bí đỏ", "tỏi", "hạt tiêu"],
      "preparation_time": 15,
      "estimated_cost": 20000,
      "reused_ingredients": []
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu",
      "ingredients": ["trứng gà", "thịt ba chỉ", "nước mắm", "hạt tiêu"],
      "preparation_time": 30,
      "estimated_cost": 35000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"]
    },
    "Bữa tối": {
      "name": "Sườn rim dứa",
      "ingredients": ["sườn heo", "dứa", "ớt", "nước mắm", "hạt tiêu"],
      "preparation_time": 30,
      "estimated_cost": 15000,
      "reused_ingredients": ["nước mắm", "hạt tiêu", "ớt"]
    }
  }
}
2025-05-02 09:47:23,253 - api.openai_api - INFO - Generating menu for Chủ nhật
2025-05-02 09:47:24,598 - api.openai_api - INFO - Raw response for Chủ nhật:
2025-05-02 09:47:24,598 - api.openai_api - INFO - {
  "Chủ nhật": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi",
      "ingredients": ["bí đỏ", "tỏi", "dầu ăn", "muối"],
      "preparation_time": 15,
      "estimated_cost": 15000,
      "reused_ingredients": []
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu",
      "ingredients": ["trứng gà", "thịt ba chỉ", "nước mắm", "hạt tiêu", "tỏi", "đường", "dầu ăn"],
      "preparation_time": 45,
      "estimated_cost": 35000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"]
    },
    "Bữa tối": {
      "name": "Sườn rim dứa",
      "ingredients": ["sườn heo", "dứa", "tỏi", "nước mắm", "hạt tiêu", "dầu ăn"],
      "preparation_time": 45,
      "estimated_cost": 20000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"]
    }
  }
}
2025-05-02 09:49:10,041 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 09:49:18,401 - api.openai_api - INFO - Raw response for Thứ hai:
2025-05-02 09:49:18,403 - api.openai_api - INFO - {
  "Thứ hai": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi",
      "ingredients": ["bí đỏ", "tỏi", "dầu ăn"],
      "preparation_time": 15,
      "estimated_cost": 20000,
      "reused_ingredients": []
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu",
      "ingredients": ["thịt ba chỉ", "trứng gà", "nước mắm", "hạt tiêu"],
      "preparation_time": 45,
      "estimated_cost": 35000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"]
    },
    "Bữa tối": {
      "name": "Sườn rim dứa",
      "ingredients": ["sườn heo", "dứa", "nước mắm", "hạt tiêu"],
      "preparation_time": 50,
      "estimated_cost": 35000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"]
    }
  }
}
2025-05-02 09:49:18,403 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 09:49:19,559 - api.openai_api - INFO - Raw response for Thứ ba:
2025-05-02 09:49:19,559 - api.openai_api - INFO - {
  "Thứ ba": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi",
      "ingredients": ["bí đỏ", "tỏi", "dầu ăn"],
      "preparation_time": 15,
      "estimated_cost": 25000,
      "reused_ingredients": []
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu",
      "ingredients": ["trứng gà", "thịt ba chỉ", "nước mắm", "hạt tiêu"],
      "preparation_time": 45,
      "estimated_cost": 35000,
      "reused_ingredients": []
    },
    "Bữa tối": {
      "name": "Sườn rim dứa",
      "ingredients": ["sườn heo", "dứa", "nước mắm", "hạt tiêu"],
      "preparation_time": 50,
      "estimated_cost": 37000,
      "reused_ingredients": []
    }
  }
}
2025-05-02 09:49:19,560 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 09:49:20,871 - api.openai_api - INFO - Raw response for Thứ tư:
2025-05-02 09:49:20,872 - api.openai_api - INFO - {
  "Thứ tư": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi",
      "ingredients": ["bí đỏ", "tỏi", "dầu ăn"],
      "preparation_time": 15,
      "estimated_cost": 25000,
      "reused_ingredients": []
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu",
      "ingredients": ["thịt ba chỉ", "Nước mắm", "Hạt tiêu", "đường", "tỏi", "dầu ăn"],
      "preparation_time": 60,
      "estimated_cost": 35000,
      "reused_ingredients": []
    },
    "Bữa tối": {
      "name": "Sườn rim dứa",
      "ingredients": ["sườn heo", "dứa", "Nước mắm", "Hạt tiêu", "tỏi", "dầu ăn"],
      "preparation_time": 50,
      "estimated_cost": 35000,
      "reused_ingredients": []
    }
  }
}
2025-05-02 09:49:20,873 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 09:49:22,311 - api.openai_api - INFO - Raw response for Thứ năm:
2025-05-02 09:49:22,311 - api.openai_api - INFO - {
  "Thứ năm": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi",
      "ingredients": ["bí đỏ", "tỏi", "dầu ăn"],
      "preparation_time": 15,
      "estimated_cost": 20000,
      "reused_ingredients": []
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu",
      "ingredients": ["thịt ba chỉ", "nước mắm", "hạt tiêu", "trứng gà"],
      "preparation_time": 45,
      "estimated_cost": 35000,
      "reused_ingredients": []
    },
    "Bữa tối": {
      "name": "Sườn rim dứa",
      "ingredients": ["sườn heo", "dứa", "nước mắm", "hạt tiêu"],
      "preparation_time": 45,
      "estimated_cost": 35000,
      "reused_ingredients": []
    }
  }
}
2025-05-02 09:49:22,311 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 09:49:24,391 - api.openai_api - INFO - Raw response for Thứ sáu:
2025-05-02 09:49:24,391 - api.openai_api - INFO - {
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi",
      "ingredients": ["bí đỏ", "tỏi", "dầu ăn", "muối"],
      "preparation_time": 15,
      "estimated_cost": 20000,
      "reused_ingredients": []
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu",
      "ingredients": ["trứng gà", "thịt ba chỉ", "nước mắm", "hạt tiêu", "đường", "tỏi"],
      "preparation_time": 45,
      "estimated_cost": 35000,
      "reused_ingredients": []
    },
    "Bữa tối": {
      "name": "Sườn rim dứa",
      "ingredients": ["sườn heo", "dứa", "nước mắm", "hạt tiêu", "tỏi"],
      "preparation_time": 50,
      "estimated_cost": 35000,
      "reused_ingredients": []
    }
  }
}
2025-05-02 09:49:24,392 - api.openai_api - INFO - Generating menu for Thứ bảy
2025-05-02 09:49:25,948 - api.openai_api - INFO - Raw response for Thứ bảy:
2025-05-02 09:49:25,949 - api.openai_api - INFO - {
  "Thứ bảy": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi",
      "ingredients": ["bí đỏ", "tỏi", "dầu ăn", "muối"],
      "preparation_time": 15,
      "estimated_cost": 20000,
      "reused_ingredients": []
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu",
      "ingredients": ["thịt ba chỉ", "trứng gà", "nước mắm", "hạt tiêu", "đường", "tỏi", "dầu ăn"],
      "preparation_time": 45,
      "estimated_cost": 35000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"]
    },
    "Bữa tối": {
      "name": "Sườn rim dứa",
      "ingredients": ["sườn heo", "dứa", "nước mắm", "hạt tiêu", "đường", "tỏi", "dầu ăn"],
      "preparation_time": 50,
      "estimated_cost": 35000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"]
    }
  }
}
2025-05-02 09:49:25,950 - api.openai_api - INFO - Generating menu for Chủ nhật
2025-05-02 09:49:27,311 - api.openai_api - INFO - Raw response for Chủ nhật:
2025-05-02 09:49:27,311 - api.openai_api - INFO - {
  "Chủ nhật": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi",
      "ingredients": ["bí đỏ", "tỏi", "dầu ăn"],
      "preparation_time": 15,
      "estimated_cost": 20000,
      "reused_ingredients": []
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu",
      "ingredients": ["thịt ba chỉ", "nước mắm", "hạt tiêu", "đường", "tỏi"],
      "preparation_time": 45,
      "estimated_cost": 35000,
      "reused_ingredients": []
    },
    "Bữa tối": {
      "name": "Sườn rim dứa",
      "ingredients": ["sườn heo", "dứa", "nước mắm", "hạt tiêu", "tỏi"],
      "preparation_time": 50,
      "estimated_cost": 35000,
      "reused_ingredients": ["nước mắm", "hạt tiêu", "tỏi"]
    }
  }
}
2025-05-02 09:56:02,000 - api.openai_api - ERROR - Error generating menu: '\n  "menu"'
2025-05-02 09:56:32,393 - api.openai_api - ERROR - Error generating menu: '\n  "menu"'
2025-05-02 09:58:18,447 - api.openai_api - ERROR - Error generating menu: '\n  "menu"'
2025-05-02 09:59:23,983 - api.openai_api - INFO - Sending request to OpenAI API with model: gpt-4.1-nano
2025-05-02 09:59:31,811 - api.openai_api - INFO - Raw API Response Object:
2025-05-02 09:59:31,812 - api.openai_api - INFO - {
  "id": "chatcmpl-BSav0cfu8rLeU7HhTBxty9GVl8NjA",
  "object": "chat.completion",
  "created": 1746154798,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"menu\": {\n    \"Th\u1ee9 hai\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"Tr\u1ee9ng g\u00e0 lu\u1ed9c v\u00e0 B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      }\n    },\n    \"Th\u1ee9 ba\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"B\u00ed \u0111\u1ecf\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      }\n    },\n    \"Th\u1ee9 t\u01b0\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"Tr\u1ee9ng g\u00e0 lu\u1ed9c v\u00e0 B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      }\n    },\n    \"Th\u1ee9 n\u0103m\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"B\u00ed \u0111\u1ecf\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      }\n    },\n    \"Th\u1ee9 s\u00e1u\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"Tr\u1ee9ng g\u00e0 lu\u1ed9c v\u00e0 B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      }\n    },\n    \"Th\u1ee9 b\u1ea3y\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"B\u00ed \u0111\u1ecf\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      }\n    },\n    \"Ch\u1ee7 nh\u1eadt\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"Tr\u1ee9ng g\u00e0 lu\u1ed9c v\u00e0 B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": []\n      }\n    }\n  },\n  \"optimization_notes\": [\n    \"C\u00e1c m\u00f3n \u0103n l\u1eb7p l\u1ea1i ph\u00f9 h\u1ee3p v\u1edbi s\u1edf th\u00edch v\u00e0 ng\u00e2n s\u00e1ch, \u0111\u1ea3m b\u1ea3o th\u1eddi gian ch\u1ebf bi\u1ebfn d\u01b0\u1edbi 60 ph\u00fat.\",\n    \"Ch\u1ecdn nguy\u00ean li\u1ec7u ph\u00f9 h\u1ee3p \u0111\u1ec3 gi\u1eef ng\u00e2n s\u00e1ch 70,000\u0111 m\u1ed7i b\u1eefa.\",\n    \"Kh\u00f4ng s\u1eed d\u1ee5ng h\u00e0nh l\u00e1 hay m\u01b0\u1edbp \u0111\u1eafng \u0111\u1ec3 ph\u00f9 h\u1ee3p s\u1edf th\u00edch c\u00e1 nh\u00e2n.\",\n    \"C\u00e1c m\u00f3n \u0111\u1ec1u mang phong c\u00e1ch \u1ea9m th\u1ef1c mi\u1ec1n B\u1eafc Vi\u1ec7t Nam, t\u1eadp trung v\u00e0o c\u00e1c nguy\u00ean li\u1ec7u nh\u01b0 th\u1ecbt, b\u00ed \u0111\u1ecf, s\u01b0\u1eddn heo, ng\u00f4 ng\u1ecdt, \u1edbt, n\u01b0\u1edbc m\u1eafm, h\u1ea1t ti\u00eau.\"\n  ]\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 313,
    "completion_tokens": 1716,
    "total_tokens": 2029,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 09:59:31,815 - api.openai_api - INFO - Raw API Response:
2025-05-02 09:59:31,815 - api.openai_api - INFO - {
  "menu": {
    "Thứ hai": {
      "Bữa sáng": {
        "name": "Trứng gà luộc và Bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": []
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": []
      }
    },
    "Thứ ba": {
      "Bữa sáng": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["Bí đỏ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": []
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": []
      }
    },
    "Thứ tư": {
      "Bữa sáng": {
        "name": "Trứng gà luộc và Bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": []
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": []
      }
    },
    "Thứ năm": {
      "Bữa sáng": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["Bí đỏ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": []
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": []
      }
    },
    "Thứ sáu": {
      "Bữa sáng": {
        "name": "Trứng gà luộc và Bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": []
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": []
      }
    },
    "Thứ bảy": {
      "Bữa sáng": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["Bí đỏ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": []
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": []
      }
    },
    "Chủ nhật": {
      "Bữa sáng": {
        "name": "Trứng gà luộc và Bí đỏ xào tỏi",
        "ingredients": ["Trứng gà", "Bí đỏ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": []
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": []
      }
    }
  },
  "optimization_notes": [
    "Các món ăn lặp lại phù hợp với sở thích và ngân sách, đảm bảo thời gian chế biến dưới 60 phút.",
    "Chọn nguyên liệu phù hợp để giữ ngân sách 70,000đ mỗi bữa.",
    "Không sử dụng hành lá hay mướp đắng để phù hợp sở thích cá nhân.",
    "Các món đều mang phong cách ẩm thực miền Bắc Việt Nam, tập trung vào các nguyên liệu như thịt, bí đỏ, sườn heo, ngô ngọt, ớt, nước mắm, hạt tiêu."
  ]
}
2025-05-02 10:19:52,270 - api.openai_api - INFO - Sending request to OpenAI API with model: gpt-4.1-nano
2025-05-02 10:19:53,265 - openai - INFO - error_code=invalid_api_key error_message='Incorrect API key provided: sk-proj-********************************************************************************************************************************************************uLQA. You can find your API key at https://platform.openai.com/account/api-keys.' error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2025-05-02 10:19:53,265 - api.openai_api - ERROR - Error in generate_weekly_menu: Incorrect API key provided: sk-proj-********************************************************************************************************************************************************uLQA. You can find your API key at https://platform.openai.com/account/api-keys.
2025-05-02 10:21:23,141 - api.openai_api - INFO - Sending request to OpenAI API with model: gpt-4.1-nano
2025-05-02 10:21:23,680 - openai - INFO - error_code=invalid_api_key error_message='Incorrect API key provided: sk-proj-********************************************************************************************************************************************************uLQA. You can find your API key at https://platform.openai.com/account/api-keys.' error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2025-05-02 10:21:23,680 - api.openai_api - ERROR - Error in generate_weekly_menu: Incorrect API key provided: sk-proj-********************************************************************************************************************************************************uLQA. You can find your API key at https://platform.openai.com/account/api-keys.
2025-05-02 10:28:54,948 - api.openai_api - INFO - Sending request to OpenAI API with model: gpt-4.1-nano
2025-05-02 10:28:55,371 - openai - INFO - error_code=invalid_api_key error_message='Incorrect API key provided: sk-proj-********************************************************************************************************************************************************uLQA. You can find your API key at https://platform.openai.com/account/api-keys.' error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2025-05-02 10:28:55,371 - api.openai_api - ERROR - Error in generate_weekly_menu: Incorrect API key provided: sk-proj-********************************************************************************************************************************************************uLQA. You can find your API key at https://platform.openai.com/account/api-keys.
2025-05-02 10:32:02,148 - api.openai_api - INFO - Sending request to OpenAI API with model: gpt-4.1-nano
2025-05-02 10:32:02,534 - openai - INFO - error_code=invalid_api_key error_message='Incorrect API key provided: sk-proj-********************************************************************************************************************************************************uLQA. You can find your API key at https://platform.openai.com/account/api-keys.' error_param=None error_type=invalid_request_error message='OpenAI API error received' stream_error=False
2025-05-02 10:32:02,535 - api.openai_api - ERROR - Error in generate_weekly_menu: Incorrect API key provided: sk-proj-********************************************************************************************************************************************************uLQA. You can find your API key at https://platform.openai.com/account/api-keys.
2025-05-02 10:35:36,190 - api.openai_api - INFO - Sending request to OpenAI API with model: gpt-4.1-nano
2025-05-02 10:35:44,857 - api.openai_api - INFO - Raw API Response Object:
2025-05-02 10:35:44,858 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbU2f2pcmtZSVDYeJw0H1gudPpzA",
  "object": "chat.completion",
  "created": 1746156970,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"menu\": {\n    \"Th\u1ee9 hai\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\"],\n        \"preparation_time\": 15,\n        \"estimated_cost\": 25000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"tr\u1ee9ng g\u00e0\", \"th\u1ecbt ba ch\u1ec9\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"\u1edbt\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 ba\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\"],\n        \"preparation_time\": 15,\n        \"estimated_cost\": 25000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"tr\u1ee9ng g\u00e0\", \"th\u1ecbt ba ch\u1ec9\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"\u1edbt\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 t\u01b0\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\"],\n        \"preparation_time\": 15,\n        \"estimated_cost\": 25000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"tr\u1ee9ng g\u00e0\", \"th\u1ecbt ba ch\u1ec9\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"\u1edbt\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 n\u0103m\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\"],\n        \"preparation_time\": 15,\n        \"estimated_cost\": 25000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"tr\u1ee9ng g\u00e0\", \"th\u1ecbt ba ch\u1ec9\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"\u1edbt\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 s\u00e1u\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\"],\n        \"preparation_time\": 15,\n        \"estimated_cost\": 25000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"tr\u1ee9ng g\u00e0\", \"th\u1ecbt ba ch\u1ec9\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"\u1edbt\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Th\u1ee9 b\u1ea3y\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\"],\n        \"preparation_time\": 15,\n        \"estimated_cost\": 25000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"tr\u1ee9ng g\u00e0\", \"th\u1ecbt ba ch\u1ec9\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"\u1edbt\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"]\n      }\n    },\n    \"Ch\u1ee7 nh\u1eadt\": {\n      \"B\u1eefa s\u00e1ng\": {\n        \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n        \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\"],\n        \"preparation_time\": 15,\n        \"estimated_cost\": 25000,\n        \"reused_ingredients\": []\n      },\n      \"B\u1eefa tr\u01b0a\": {\n        \"name\": \"Th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"tr\u1ee9ng g\u00e0\", \"th\u1ecbt ba ch\u1ec9\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 60,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"]\n      },\n      \"B\u1eefa t\u1ed1i\": {\n        \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n        \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"\u1edbt\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"]\n      }\n    }\n  },\n  \"optimization_notes\": [\n    \"C\u00e1c m\u00f3n \u0111\u1ec1u ph\u00f9 h\u1ee3p v\u1edbi phong c\u00e1ch \u1ea9m th\u1ef1c mi\u1ec1n B\u1eafc Vi\u1ec7t Nam.\",\n    \"Ng\u00e2n s\u00e1ch m\u1ed7i b\u1eefa \u0111\u01b0\u1ee3c gi\u1eef \u1edf m\u1ee9c 70,000\u0111, ph\u00f9 h\u1ee3p v\u1edbi ng\u00e2n s\u00e1ch \u0111\u1ec1 ra.\",\n    \"Th\u1eddi gian chu\u1ea9n b\u1ecb c\u00e1c m\u00f3n \u0111\u1ec1u d\u01b0\u1edbi 60 ph\u00fat, ph\u00f9 h\u1ee3p v\u1edbi th\u1eddi gian t\u1ed1i \u0111a.\",\n    \"C\u00e1c nguy\u00ean li\u1ec7u s\u1eed d\u1ee5ng ch\u1ee7 y\u1ebfu l\u00e0 b\u00ed \u0111\u1ecf, tr\u1ee9ng g\u00e0, th\u1ecbt ba ch\u1ec9, s\u01b0\u1eddn heo, ng\u00f4 ng\u1ecdt, \u1edbt, n\u01b0\u1edbc m\u1eafm, h\u1ea1t ti\u00eau, \u0111\u1ea3m b\u1ea3o kh\u00f4ng d\u00f9ng h\u00e0nh l\u00e1 hay m\u01b0\u1edbp \u0111\u1eafng.\",\n    \"Vi\u1ec7c t\u00e1i s\u1eed d\u1ee5ng c\u00e1c nguy\u00ean li\u1ec7u nh\u01b0 n\u01b0\u1edbc m\u1eafm v\u00e0 h\u1ea1t ti\u00eau gi\u00fap t\u1ed1i \u01b0u ng\u00e2n s\u00e1ch v\u00e0 th\u1eddi gian chu\u1ea9n b\u1ecb.\"\n  ]\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 313,
    "completion_tokens": 1856,
    "total_tokens": 2169,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 10:35:44,864 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:35:44,864 - api.openai_api - INFO - {
  "menu": {
    "Thứ hai": {
      "Bữa sáng": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["bí đỏ", "tỏi"],
        "preparation_time": 15,
        "estimated_cost": 25000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["trứng gà", "thịt ba chỉ", "nước mắm", "hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["nước mắm", "hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["sườn heo", "dứa", "ớt", "nước mắm", "hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["nước mắm", "hạt tiêu"]
      }
    },
    "Thứ ba": {
      "Bữa sáng": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["bí đỏ", "tỏi"],
        "preparation_time": 15,
        "estimated_cost": 25000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["trứng gà", "thịt ba chỉ", "nước mắm", "hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["nước mắm", "hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["sườn heo", "dứa", "ớt", "nước mắm", "hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["nước mắm", "hạt tiêu"]
      }
    },
    "Thứ tư": {
      "Bữa sáng": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["bí đỏ", "tỏi"],
        "preparation_time": 15,
        "estimated_cost": 25000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["trứng gà", "thịt ba chỉ", "nước mắm", "hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["nước mắm", "hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["sườn heo", "dứa", "ớt", "nước mắm", "hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["nước mắm", "hạt tiêu"]
      }
    },
    "Thứ năm": {
      "Bữa sáng": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["bí đỏ", "tỏi"],
        "preparation_time": 15,
        "estimated_cost": 25000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["trứng gà", "thịt ba chỉ", "nước mắm", "hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["nước mắm", "hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["sườn heo", "dứa", "ớt", "nước mắm", "hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["nước mắm", "hạt tiêu"]
      }
    },
    "Thứ sáu": {
      "Bữa sáng": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["bí đỏ", "tỏi"],
        "preparation_time": 15,
        "estimated_cost": 25000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["trứng gà", "thịt ba chỉ", "nước mắm", "hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["nước mắm", "hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["sườn heo", "dứa", "ớt", "nước mắm", "hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["nước mắm", "hạt tiêu"]
      }
    },
    "Thứ bảy": {
      "Bữa sáng": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["bí đỏ", "tỏi"],
        "preparation_time": 15,
        "estimated_cost": 25000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["trứng gà", "thịt ba chỉ", "nước mắm", "hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["nước mắm", "hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["sườn heo", "dứa", "ớt", "nước mắm", "hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["nước mắm", "hạt tiêu"]
      }
    },
    "Chủ nhật": {
      "Bữa sáng": {
        "name": "Bí đỏ xào tỏi",
        "ingredients": ["bí đỏ", "tỏi"],
        "preparation_time": 15,
        "estimated_cost": 25000,
        "reused_ingredients": []
      },
      "Bữa trưa": {
        "name": "Thịt kho tàu",
        "ingredients": ["trứng gà", "thịt ba chỉ", "nước mắm", "hạt tiêu"],
        "preparation_time": 60,
        "estimated_cost": 70000,
        "reused_ingredients": ["nước mắm", "hạt tiêu"]
      },
      "Bữa tối": {
        "name": "Sườn rim dứa",
        "ingredients": ["sườn heo", "dứa", "ớt", "nước mắm", "hạt tiêu"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["nước mắm", "hạt tiêu"]
      }
    }
  },
  "optimization_notes": [
    "Các món đều phù hợp với phong cách ẩm thực miền Bắc Việt Nam.",
    "Ngân sách mỗi bữa được giữ ở mức 70,000đ, phù hợp với ngân sách đề ra.",
    "Thời gian chuẩn bị các món đều dưới 60 phút, phù hợp với thời gian tối đa.",
    "Các nguyên liệu sử dụng chủ yếu là bí đỏ, trứng gà, thịt ba chỉ, sườn heo, ngô ngọt, ớt, nước mắm, hạt tiêu, đảm bảo không dùng hành lá hay mướp đắng.",
    "Việc tái sử dụng các nguyên liệu như nước mắm và hạt tiêu giúp tối ưu ngân sách và thời gian chuẩn bị."
  ]
}
2025-05-02 10:41:19,894 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 10:41:19,894 - api.openai_api - INFO - Generated prompt for Thứ hai:
2025-05-02 10:41:19,894 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ hai với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "day": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:41:19,897 - api.openai_api - INFO - Sending request to OpenAI API for Thứ hai
2025-05-02 10:41:22,750 - api.openai_api - INFO - Raw API Response for Thứ hai:
2025-05-02 10:41:22,751 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbZZmhVEUMR1JfpFUyO6YVz2TNP9",
  "object": "chat.completion",
  "created": 1746157313,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"day\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng g\u00e0 \u1ed1p la \u0103n k\u00e8m b\u00ed \u0111\u1ecf h\u1ea5p\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"D\u1ea7u \u0103n\", \"Gia v\u1ecb\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"6\",\n        \"carbs\": \"15\",\n        \"fat\": \"10\",\n        \"calories\": \"180\"\n      },\n      \"cooking_method\": \"Chi\u00ean tr\u1ee9ng, h\u1ea5p b\u00ed \u0111\u1ecf\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 ng\u00f4 ng\u1ecdt x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"Ng\u00f4 ng\u1ecdt\", \"T\u1ecfi\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"18\",\n        \"carbs\": \"30\",\n        \"fat\": \"15\",\n        \"calories\": \"350\"\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng s\u01b0\u1eddn, x\u00e0o ng\u00f4, rim s\u01b0\u1eddn\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u v\u1edbi b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 55,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20\",\n        \"carbs\": \"20\",\n        \"fat\": \"25\",\n        \"calories\": \"400\"\n      },\n      \"cooking_method\": \"H\u1ea7m th\u1ecbt, x\u00e0o b\u00ed \u0111\u1ecf\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 481,
    "completion_tokens": 529,
    "total_tokens": 1010,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:41:22,752 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:41:22,752 - api.openai_api - INFO - {
  "day": {
    "Bữa sáng": {
      "name": "Trứng gà ốp la ăn kèm bí đỏ hấp",
      "ingredients": ["Trứng gà", "Bí đỏ", "Dầu ăn", "Gia vị"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": [],
      "nutrition_info": {
        "protein": "6",
        "carbs": "15",
        "fat": "10",
        "calories": "180"
      },
      "cooking_method": "Chiên trứng, hấp bí đỏ",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và ngô ngọt xào tỏi",
      "ingredients": ["Sườn heo", "Dứa", "Ngô ngọt", "Tỏi", "Nước mắm", "Hạt tiêu", "Dầu ăn"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": [],
      "nutrition_info": {
        "protein": "18",
        "carbs": "30",
        "fat": "15",
        "calories": "350"
      },
      "cooking_method": "Nướng sườn, xào ngô, rim sườn",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Thịt kho tàu với bí đỏ xào tỏi",
      "ingredients": ["Thịt ba chỉ", "Trứng gà", "Bí đỏ", "Tỏi", "Nước mắm", "Hạt tiêu", "Dầu ăn"],
      "preparation_time": 55,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm", "Hạt tiêu"],
      "nutrition_info": {
        "protein": "20",
        "carbs": "20",
        "fat": "25",
        "calories": "400"
      },
      "cooking_method": "Hầm thịt, xào bí đỏ",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 10:41:22,755 - api.openai_api - ERROR - Error in generate_weekly_menu: 'Thứ hai'
2025-05-02 10:42:24,998 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 10:42:24,998 - api.openai_api - INFO - Generated prompt for Thứ hai:
2025-05-02 10:42:24,998 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ hai với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ hai": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:42:25,001 - api.openai_api - INFO - Sending request to OpenAI API for Thứ hai
2025-05-02 10:42:26,967 - api.openai_api - INFO - Raw API Response for Thứ hai:
2025-05-02 10:42:26,968 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbacwHTnS6XjjorBXUdTYVfnSt3B",
  "object": "chat.completion",
  "created": 1746157378,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa\": {\n      \"name\": \"B\u00fan th\u1ecbt heo n\u01b0\u1edbng s\u01a1 ri\",\n      \"ingredients\": [\n        \"th\u1ecbt ba ch\u1ec9\",\n        \"ng\u00f4 ng\u1ecdt\",\n        \"\u1edbt\",\n        \"t\u1ecfi\",\n        \"b\u00fan\",\n        \"d\u01b0a leo\",\n        \"s\u01a1 ri (qu\u1ea3 ch\u00edn) ho\u1eb7c d\u1ee9a ch\u00edn\"\n      ],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 68000,\n      \"reused_ingredients\": [\n        \"th\u1ecbt ba ch\u1ec9\",\n        \"ng\u00f4 ng\u1ecdt\",\n        \"\u1edbt\"\n      ],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"60g\",\n        \"fat\": \"20g\",\n        \"calories\": \"550kcal\"\n      },\n      \"cooking_method\": \"n\u01b0\u1edbng, x\u00e0o, lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 483,
    "completion_tokens": 225,
    "total_tokens": 708,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:42:26,970 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:42:26,970 - api.openai_api - INFO - {
  "Thứ hai": {
    "Bữa": {
      "name": "Bún thịt heo nướng sơ ri",
      "ingredients": [
        "thịt ba chỉ",
        "ngô ngọt",
        "ớt",
        "tỏi",
        "bún",
        "dưa leo",
        "sơ ri (quả chín) hoặc dứa chín"
      ],
      "preparation_time": 45,
      "estimated_cost": 68000,
      "reused_ingredients": [
        "thịt ba chỉ",
        "ngô ngọt",
        "ớt"
      ],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "60g",
        "fat": "20g",
        "calories": "550kcal"
      },
      "cooking_method": "nướng, xào, luộc",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 10:42:26,972 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 10:42:26,972 - api.openai_api - INFO - Generated prompt for Thứ ba:
2025-05-02 10:42:26,972 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ ba với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ ba": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:42:26,974 - api.openai_api - INFO - Sending request to OpenAI API for Thứ ba
2025-05-02 10:42:29,591 - api.openai_api - INFO - Raw API Response for Thứ ba:
2025-05-02 10:42:29,591 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbae02cTfGaCLt5Udh6HVIgnsSHH",
  "object": "chat.completion",
  "created": 1746157380,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng g\u00e0 x\u00e0o b\u00ed \u0111\u1ecf\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"H\u1ea1t ti\u00eau\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"10g\",\n        \"calories\": \"210 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"T\u1ecfi\", \"H\u1ea1t ti\u00eau\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 35,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"12g\",\n        \"calories\": \"280 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m rim\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u v\u00e0 ng\u00f4 ng\u1ecdt h\u1ea5p\",\n      \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"Tr\u1ee9ng g\u00e0\", \"Ng\u00f4 ng\u1ecdt\", \"N\u01b0\u1edbc m\u1eafm\", \"T\u1ecfi\", \"H\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"18g\",\n        \"calories\": \"340 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea5p / Kho\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 483,
    "completion_tokens": 513,
    "total_tokens": 996,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:42:29,593 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:42:29,593 - api.openai_api - INFO - {
  "Thứ ba": {
    "Bữa sáng": {
      "name": "Trứng gà xào bí đỏ",
      "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Hạt tiêu", "Dầu ăn"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["Hạt tiêu"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "20g",
        "fat": "10g",
        "calories": "210 kcal"
      },
      "cooking_method": "Xào",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa",
      "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Tỏi", "Hạt tiêu", "Dầu ăn"],
      "preparation_time": 35,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm", "Hạt tiêu"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "25g",
        "fat": "12g",
        "calories": "280 kcal"
      },
      "cooking_method": "Hầm rim",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Thịt kho tàu và ngô ngọt hấp",
      "ingredients": ["Thịt ba chỉ", "Trứng gà", "Ngô ngọt", "Nước mắm", "Tỏi", "Hạt tiêu"],
      "preparation_time": 50,
      "estimated_cost": 69000,
      "reused_ingredients": ["Nước mắm", "Hạt tiêu"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "30g",
        "fat": "18g",
        "calories": "340 kcal"
      },
      "cooking_method": "Hấp / Kho",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 10:42:29,594 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 10:42:29,594 - api.openai_api - INFO - Generated prompt for Thứ tư:
2025-05-02 10:42:29,594 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ tư với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ tư": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:42:29,596 - api.openai_api - INFO - Sending request to OpenAI API for Thứ tư
2025-05-02 10:42:32,465 - api.openai_api - INFO - Raw API Response for Thứ tư:
2025-05-02 10:42:32,466 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbahEzO6cUQ2ILy3aHBapUDjlcoG",
  "object": "chat.completion",
  "created": 1746157383,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng cu\u1ed9n b\u00ed \u0111\u1ecf t\u01b0\u01a1i ngon\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"\u1edat\", \"D\u1ea7u \u0103n\", \"Gia v\u1ecb\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"6g\",\n        \"carbs\": \"12g\",\n        \"fat\": \"10g\",\n        \"calories\": \"180 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o, cu\u1ed9n\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u1edbi ng\u00f4 ng\u1ecdt\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"Ng\u00f4 ng\u1ecdt\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"D\u1ea7u \u0103n\", \"Gia v\u1ecb\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea5p, rim, lu\u1ed9c\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"G\u00e0 h\u1ea5p h\u00e0nh t\u1ecfi v\u00e0 rau c\u1ee7 m\u00f9a\",\n      \"ingredients\": [\"Th\u1ecbt g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"\u1edat\", \"T\u1ecfi\", \"Rau c\u1ee7 m\u00f9a\", \"N\u01b0\u1edbc m\u1eafm\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"D\u1ea7u \u0103n\", \"\u1edat\"],\n      \"nutrition_info\": {\n        \"protein\": \"25g\",\n        \"carbs\": \"18g\",\n        \"fat\": \"8g\",\n        \"calories\": \"220 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea5p, x\u00e0o\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 483,
    "completion_tokens": 524,
    "total_tokens": 1007,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:42:32,469 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:42:32,470 - api.openai_api - INFO - {
  "Thứ tư": {
    "Bữa sáng": {
      "name": "Trứng cuộn bí đỏ tươi ngon",
      "ingredients": ["Trứng gà", "Bí đỏ", "Ớt", "Dầu ăn", "Gia vị"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": [],
      "nutrition_info": {
        "protein": "6g",
        "carbs": "12g",
        "fat": "10g",
        "calories": "180 kcal"
      },
      "cooking_method": "Xào, cuộn",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa với ngô ngọt",
      "ingredients": ["Sườn heo", "Dứa", "Ngô ngọt", "Nước mắm", "Hạt tiêu", "Dầu ăn", "Gia vị"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": [],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "30g",
        "fat": "15g",
        "calories": "350 kcal"
      },
      "cooking_method": "Hấp, rim, luộc",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Gà hấp hành tỏi và rau củ mùa",
      "ingredients": ["Thịt gà", "Bí đỏ", "Ớt", "Tỏi", "Rau củ mùa", "Nước mắm", "Dầu ăn"],
      "preparation_time": 50,
      "estimated_cost": 69000,
      "reused_ingredients": ["Nước mắm", "Dầu ăn", "Ớt"],
      "nutrition_info": {
        "protein": "25g",
        "carbs": "18g",
        "fat": "8g",
        "calories": "220 kcal"
      },
      "cooking_method": "Hấp, xào",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 10:42:32,473 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 10:42:32,474 - api.openai_api - INFO - Generated prompt for Thứ năm:
2025-05-02 10:42:32,474 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ năm với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ năm": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:42:32,476 - api.openai_api - INFO - Sending request to OpenAI API for Thứ năm
2025-05-02 10:42:36,406 - api.openai_api - INFO - Raw API Response for Thứ năm:
2025-05-02 10:42:36,407 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbakDmCmM1AUzAknXfG0RNnKoC3G",
  "object": "chat.completion",
  "created": 1746157386,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng \u1ed1p la \u0103n k\u00e8m b\u00ed \u0111\u1ecf lu\u1ed9c\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 60000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"10g\",\n        \"calories\": \"180 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o b\u00ed \u0111\u1ecf, chi\u00ean tr\u1ee9ng\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m t\u1ebb\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"G\u1ea1o\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"60g\",\n        \"fat\": \"15g\",\n        \"calories\": \"550 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m s\u01b0\u1eddn rim, lu\u1ed9c c\u01a1m\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"G\u00e0 x\u00e0o \u1edbt v\u00e0 canh b\u00ed \u0111\u1ecf h\u1ea5p\",\n      \"ingredients\": [\"Th\u1ecbt g\u00e0\", \"\u1edat\", \"B\u00ed \u0111\u1ecf\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"18g\",\n        \"fat\": \"8g\",\n        \"calories\": \"200 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o g\u00e0 v\u1edbi \u1edbt, h\u1ea5p b\u00ed \u0111\u1ecf\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 483,
    "completion_tokens": 501,
    "total_tokens": 984,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:42:36,412 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:42:36,412 - api.openai_api - INFO - {
  "Thứ năm": {
    "Bữa sáng": {
      "name": "Trứng ốp la ăn kèm bí đỏ luộc",
      "ingredients": ["Trứng gà", "Bí đỏ"],
      "preparation_time": 20,
      "estimated_cost": 60000,
      "reused_ingredients": ["Nước mắm"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "15g",
        "fat": "10g",
        "calories": "180 kcal"
      },
      "cooking_method": "Xào bí đỏ, chiên trứng",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm tẻ",
      "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Tiêu", "Gạo"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "60g",
        "fat": "15g",
        "calories": "550 kcal"
      },
      "cooking_method": "Hầm sườn rim, luộc cơm",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Gà xào ớt và canh bí đỏ hấp",
      "ingredients": ["Thịt gà", "Ớt", "Bí đỏ"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm"],
      "nutrition_info": {
        "protein": "18g",
        "carbs": "18g",
        "fat": "8g",
        "calories": "200 kcal"
      },
      "cooking_method": "Xào gà với ớt, hấp bí đỏ",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 10:42:36,415 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 10:42:36,415 - api.openai_api - INFO - Generated prompt for Thứ sáu:
2025-05-02 10:42:36,415 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ sáu với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ sáu": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:42:36,416 - api.openai_api - INFO - Sending request to OpenAI API for Thứ sáu
2025-05-02 10:42:40,024 - api.openai_api - INFO - Raw API Response for Thứ sáu:
2025-05-02 10:42:40,024 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbaoVKLy0wo5dkABj0Y63RhOc7hy",
  "object": "chat.completion",
  "created": 1746157390,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa\": [\n      {\n        \"name\": \"B\u1eefa s\u00e1ng: Tr\u1ee9ng g\u00e0 x\u00e0o b\u00ed \u0111\u1ecf\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"D\u1ea7u \u0103n\", \"Gia v\u1ecb (mu\u1ed1i, ti\u00eau)\"],\n        \"preparation_time\": 15,\n        \"estimated_cost\": 25000,\n        \"reused_ingredients\": [],\n        \"nutrition_info\": {\n          \"protein\": \"8g\",\n          \"carbs\": \"20g\",\n          \"fat\": \"10g\",\n          \"calories\": \"180 kcal\"\n        },\n        \"cooking_method\": \"X\u00e0o\",\n        \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n      },\n      {\n        \"name\": \"B\u1eefa tr\u01b0a: S\u01b0\u1eddn heo rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\"],\n        \"preparation_time\": 45,\n        \"estimated_cost\": 35000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n        \"nutrition_info\": {\n          \"protein\": \"15g\",\n          \"carbs\": \"25g\",\n          \"fat\": \"12g\",\n          \"calories\": \"250 kcal\"\n        },\n        \"cooking_method\": \"H\u1ea7m rim\",\n        \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n      },\n      {\n        \"name\": \"B\u1eefa t\u1ed1i: B\u00ed \u0111\u1ecf h\u1ea5p t\u1ecfi v\u00e0 th\u1ecbt kho t\u00e0u\",\n        \"ingredients\": [\"B\u00ed \u0111\u1ecf\", \"Tr\u1ee9ng g\u00e0\", \"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"T\u1ecfi\", \"Gia v\u1ecb (mu\u1ed1i, ti\u00eau)\"],\n        \"preparation_time\": 55,\n        \"estimated_cost\": 35000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"T\u1ecfi\"],\n        \"nutrition_info\": {\n          \"protein\": \"12g\",\n          \"carbs\": \"30g\",\n          \"fat\": \"15g\",\n          \"calories\": \"300 kcal\"\n        },\n        \"cooking_method\": \"Kho v\u00e0 h\u1ea5p\",\n        \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n      }\n    ]\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 485,
    "completion_tokens": 521,
    "total_tokens": 1006,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:42:40,027 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:42:40,027 - api.openai_api - INFO - {
  "Thứ sáu": {
    "Bữa": [
      {
        "name": "Bữa sáng: Trứng gà xào bí đỏ",
        "ingredients": ["Trứng gà", "Bí đỏ", "Dầu ăn", "Gia vị (muối, tiêu)"],
        "preparation_time": 15,
        "estimated_cost": 25000,
        "reused_ingredients": [],
        "nutrition_info": {
          "protein": "8g",
          "carbs": "20g",
          "fat": "10g",
          "calories": "180 kcal"
        },
        "cooking_method": "Xào",
        "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
      },
      {
        "name": "Bữa trưa: Sườn heo rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu", "Tỏi", "Dầu ăn"],
        "preparation_time": 45,
        "estimated_cost": 35000,
        "reused_ingredients": ["Nước mắm", "Hạt tiêu"],
        "nutrition_info": {
          "protein": "15g",
          "carbs": "25g",
          "fat": "12g",
          "calories": "250 kcal"
        },
        "cooking_method": "Hầm rim",
        "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
      },
      {
        "name": "Bữa tối: Bí đỏ hấp tỏi và thịt kho tàu",
        "ingredients": ["Bí đỏ", "Trứng gà", "Thịt ba chỉ", "Nước mắm", "Tỏi", "Gia vị (muối, tiêu)"],
        "preparation_time": 55,
        "estimated_cost": 35000,
        "reused_ingredients": ["Nước mắm", "Tỏi"],
        "nutrition_info": {
          "protein": "12g",
          "carbs": "30g",
          "fat": "15g",
          "calories": "300 kcal"
        },
        "cooking_method": "Kho và hấp",
        "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
      }
    ]
  }
}
2025-05-02 10:42:40,030 - api.openai_api - INFO - Generating menu for Thứ bảy
2025-05-02 10:42:40,030 - api.openai_api - INFO - Generated prompt for Thứ bảy:
2025-05-02 10:42:40,030 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ bảy với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ bảy": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:42:40,032 - api.openai_api - INFO - Sending request to OpenAI API for Thứ bảy
2025-05-02 10:42:42,723 - api.openai_api - INFO - Raw API Response for Thứ bảy:
2025-05-02 10:42:42,723 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbargc3OetqgU2DrQTdcQuI4imap",
  "object": "chat.completion",
  "created": 1746157393,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 b\u1ea3y\": {\n    \"B\u1eefa\": [\n      {\n        \"name\": \"B\u1eefa s\u00e1ng - Tr\u1ee9ng g\u00e0 x\u00e0o b\u00ed \u0111\u1ecf\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\", \"Mu\u1ed1i\", \"Ti\u00eau\"],\n        \"preparation_time\": 20,\n        \"estimated_cost\": 65000,\n        \"reused_ingredients\": [\"D\u1ea7u \u0103n\", \"Ti\u00eau\"],\n        \"nutrition_info\": {\n          \"protein\": \"12g\",\n          \"carbs\": \"20g\",\n          \"fat\": \"10g\",\n          \"calories\": \"220 kcal\"\n        },\n        \"cooking_method\": \"X\u00e0o\",\n        \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n      },\n      {\n        \"name\": \"B\u1eefa tr\u01b0a - Th\u1ecbt kho t\u00e0u v\u1edbi rau s\u1ed1ng\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"Tr\u1ee9ng g\u00e0\", \"N\u01b0\u1edbc m\u1eafm\", \"\u0110\u01b0\u1eddng\", \"T\u1ecfi\", \"\u1edat\", \"Rau s\u1ed1ng (x\u00e0 l\u00e1ch, rau th\u01a1m)\"],\n        \"preparation_time\": 45,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"T\u1ecfi\", \"\u1edat\"],\n        \"nutrition_info\": {\n          \"protein\": \"20g\",\n          \"carbs\": \"15g\",\n          \"fat\": \"25g\",\n          \"calories\": \"350 kcal\"\n        },\n        \"cooking_method\": \"H\u1ea7m/Kho\",\n        \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n      },\n      {\n        \"name\": \"B\u1eefa t\u1ed1i - S\u01b0\u1eddn heo rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a t\u01b0\u01a1i\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"T\u1ecfi\"],\n        \"preparation_time\": 50,\n        \"estimated_cost\": 70000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"T\u1ecfi\"],\n        \"nutrition_info\": {\n          \"protein\": \"18g\",\n          \"carbs\": \"25g\",\n          \"fat\": \"15g\",\n          \"calories\": \"290 kcal\"\n        },\n        \"cooking_method\": \"Rim\",\n        \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n      }\n    ]\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 485,
    "completion_tokens": 542,
    "total_tokens": 1027,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:42:42,724 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:42:42,724 - api.openai_api - INFO - {
  "Thứ bảy": {
    "Bữa": [
      {
        "name": "Bữa sáng - Trứng gà xào bí đỏ",
        "ingredients": ["Trứng gà", "Bí đỏ", "Tỏi", "Dầu ăn", "Muối", "Tiêu"],
        "preparation_time": 20,
        "estimated_cost": 65000,
        "reused_ingredients": ["Dầu ăn", "Tiêu"],
        "nutrition_info": {
          "protein": "12g",
          "carbs": "20g",
          "fat": "10g",
          "calories": "220 kcal"
        },
        "cooking_method": "Xào",
        "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
      },
      {
        "name": "Bữa trưa - Thịt kho tàu với rau sống",
        "ingredients": ["Thịt ba chỉ", "Trứng gà", "Nước mắm", "Đường", "Tỏi", "Ớt", "Rau sống (xà lách, rau thơm)"],
        "preparation_time": 45,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Tỏi", "Ớt"],
        "nutrition_info": {
          "protein": "20g",
          "carbs": "15g",
          "fat": "25g",
          "calories": "350 kcal"
        },
        "cooking_method": "Hầm/Kho",
        "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
      },
      {
        "name": "Bữa tối - Sườn heo rim dứa",
        "ingredients": ["Sườn heo", "Dứa tươi", "Nước mắm", "Tiêu", "Tỏi"],
        "preparation_time": 50,
        "estimated_cost": 70000,
        "reused_ingredients": ["Nước mắm", "Tiêu", "Tỏi"],
        "nutrition_info": {
          "protein": "18g",
          "carbs": "25g",
          "fat": "15g",
          "calories": "290 kcal"
        },
        "cooking_method": "Rim",
        "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
      }
    ]
  }
}
2025-05-02 10:42:42,725 - api.openai_api - INFO - Generating menu for Chủ nhật
2025-05-02 10:42:42,725 - api.openai_api - INFO - Generated prompt for Chủ nhật:
2025-05-02 10:42:42,725 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Chủ nhật với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Chủ nhật": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:42:42,726 - api.openai_api - INFO - Sending request to OpenAI API for Chủ nhật
2025-05-02 10:42:47,497 - api.openai_api - INFO - Raw API Response for Chủ nhật:
2025-05-02 10:42:47,498 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbauW9MJmYFFhGhIHVe7QUNaNtv4",
  "object": "chat.completion",
  "created": 1746157396,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Ch\u1ee7 nh\u1eadt\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf h\u1ea5p tr\u1ee9ng g\u00e0\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"6\",\n        \"carbs\": \"20\",\n        \"fat\": \"8\",\n        \"calories\": \"180\"\n      },\n      \"cooking_method\": \"h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20\",\n        \"carbs\": \"25\",\n        \"fat\": \"15\",\n        \"calories\": \"330\"\n      },\n      \"cooking_method\": \"h\u1ea7m/rim\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u v\u1edbi ng\u00f4 ng\u1ecdt\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"ng\u00f4 ng\u1ecdt\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"tr\u1ee9ng g\u00e0\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"18\",\n        \"carbs\": \"30\",\n        \"fat\": \"20\",\n        \"calories\": \"400\"\n      },\n      \"cooking_method\": \"kho\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 482,
    "completion_tokens": 498,
    "total_tokens": 980,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:42:47,504 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:42:47,504 - api.openai_api - INFO - {
  "Chủ nhật": {
    "Bữa sáng": {
      "name": "Bí đỏ hấp trứng gà",
      "ingredients": ["bí đỏ", "trứng gà", "nước mắm", "hạt tiêu"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "6",
        "carbs": "20",
        "fat": "8",
        "calories": "180"
      },
      "cooking_method": "hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa",
      "ingredients": ["sườn heo", "dứa", "nước mắm", "hạt tiêu", "tỏi"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "20",
        "carbs": "25",
        "fat": "15",
        "calories": "330"
      },
      "cooking_method": "hầm/rim",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Thịt kho tàu với ngô ngọt",
      "ingredients": ["thịt ba chỉ", "ngô ngọt", "nước mắm", "hạt tiêu", "trứng gà"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "18",
        "carbs": "30",
        "fat": "20",
        "calories": "400"
      },
      "cooking_method": "kho",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 10:44:04,166 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 10:44:04,167 - api.openai_api - INFO - Generated prompt for Thứ hai:
2025-05-02 10:44:04,167 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ hai với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ hai": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:44:04,167 - api.openai_api - INFO - Sending request to OpenAI API for Thứ hai
2025-05-02 10:44:07,407 - api.openai_api - INFO - Raw API Response for Thứ hai:
2025-05-02 10:44:07,408 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbcDdeX57bTdbX38l4BHHb7EDFfm",
  "object": "chat.completion",
  "created": 1746157477,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng h\u1ea5p b\u00ed \u0111\u1ecf v\u00e0 ng\u00f4 ng\u1ecdt\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"Ng\u00f4 ng\u1ecdt\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"Ng\u00f4 ng\u1ecdt\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"12g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea5p\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u v\u1edbi rau c\u1ee7\",\n      \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"B\u00ed \u0111\u1ecf\", \"Ng\u00f4 ng\u1ecdt\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"B\u00ed \u0111\u1ecf\", \"Ng\u00f4 ng\u1ecdt\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"20g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m (Kho)\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn rim d\u1ee9a n\u01b0\u1edbng\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"S\u01b0\u1eddn heo\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"12g\",\n        \"calories\": \"280 kcal\"\n      },\n      \"cooking_method\": \"Rim v\u00e0 n\u01b0\u1edbng\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 483,
    "completion_tokens": 542,
    "total_tokens": 1025,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:44:07,408 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:44:07,408 - api.openai_api - INFO - {
  "Thứ hai": {
    "Bữa sáng": {
      "name": "Trứng hấp bí đỏ và ngô ngọt",
      "ingredients": ["Trứng gà", "Bí đỏ", "Ngô ngọt", "Nước mắm", "Hạt tiêu"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["Trứng gà", "Bí đỏ", "Ngô ngọt"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "25g",
        "fat": "12g",
        "calories": "250 kcal"
      },
      "cooking_method": "Hấp",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu với rau củ",
      "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu", "Bí đỏ", "Ngô ngọt"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu", "Bí đỏ", "Ngô ngọt"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "30g",
        "fat": "20g",
        "calories": "350 kcal"
      },
      "cooking_method": "Hầm (Kho)",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn rim dứa nướng",
      "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["Sườn heo", "Nước mắm", "Hạt tiêu"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "15g",
        "fat": "12g",
        "calories": "280 kcal"
      },
      "cooking_method": "Rim và nướng",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 10:44:07,409 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 10:44:07,409 - api.openai_api - INFO - Generated prompt for Thứ ba:
2025-05-02 10:44:07,409 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ ba với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ ba": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:44:07,409 - api.openai_api - INFO - Sending request to OpenAI API for Thứ ba
2025-05-02 10:44:10,094 - api.openai_api - INFO - Raw API Response for Thứ ba:
2025-05-02 10:44:10,094 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbcHLg5xIXmH7wItRTkFdz15kKb4",
  "object": "chat.completion",
  "created": 1746157481,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng g\u00e0 x\u00e0o b\u00ed \u0111\u1ecf v\u00e0 ng\u00f4 ng\u1ecdt\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"Ng\u00f4 ng\u1ecdt\", \"D\u1ea7u \u0103n\", \"Mu\u1ed1i\", \"Ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"12g\",\n        \"calories\": \"250kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"G\u1ea1o\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"50g\",\n        \"fat\": \"20g\",\n        \"calories\": \"500kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m/ rim\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u v\u00e0 rau s\u1ed1ng\",\n      \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"Rau s\u1ed1ng (x\u00e0 l\u00e1ch, c\u00e0 chua)\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"10g\",\n        \"fat\": \"18g\",\n        \"calories\": \"300kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"Vitamin\", \"ch\u1ea5t b\u00e9o\", \"rau c\u1ee7 qu\u1ea3\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 483,
    "completion_tokens": 530,
    "total_tokens": 1013,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:44:10,095 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:44:10,095 - api.openai_api - INFO - {
  "Thứ ba": {
    "Bữa sáng": {
      "name": "Trứng gà xào bí đỏ và ngô ngọt",
      "ingredients": ["Trứng gà", "Bí đỏ", "Ngô ngọt", "Dầu ăn", "Muối", "Tiêu"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": [],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "30g",
        "fat": "12g",
        "calories": "250kcal"
      },
      "cooking_method": "Xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm trắng",
      "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu", "Gạo", "Dầu ăn"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm", "Hạt tiêu"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "50g",
        "fat": "20g",
        "calories": "500kcal"
      },
      "cooking_method": "Hầm/ rim",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Thịt kho tàu và rau sống",
      "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu", "Rau sống (xà lách, cà chua)", "Dầu ăn"],
      "preparation_time": 45,
      "estimated_cost": 69000,
      "reused_ingredients": ["Nước mắm", "Hạt tiêu"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "10g",
        "fat": "18g",
        "calories": "300kcal"
      },
      "cooking_method": "Hầm",
      "food_groups": ["đạm", "Vitamin", "chất béo", "rau củ quả"]
    }
  }
}
2025-05-02 10:44:10,099 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 10:44:10,099 - api.openai_api - INFO - Generated prompt for Thứ tư:
2025-05-02 10:44:10,099 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ tư với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ tư": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:44:10,099 - api.openai_api - INFO - Sending request to OpenAI API for Thứ tư
2025-05-02 10:44:16,327 - api.openai_api - INFO - Raw API Response for Thứ tư:
2025-05-02 10:44:16,328 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbcJ6pRC4OVJfHBP9EStyDPZFZ2j",
  "object": "chat.completion",
  "created": 1746157483,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng g\u00e0 x\u00e0o b\u00ed \u0111\u1ecf v\u00e0 ng\u00f4 ng\u1ecdt\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"Ng\u00f4 ng\u1ecdt\", \"\u1edat\", \"Gia v\u1ecb\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"\u1edat\"],\n      \"nutrition_info\": {\n        \"protein\": \"14g\",\n        \"carbs\": \"35g\",\n        \"fat\": \"12g\",\n        \"calories\": \"340 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m g\u1ea1o t\u1ebb\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"G\u1ea1o t\u1ebb\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"60g\",\n        \"fat\": \"15g\",\n        \"calories\": \"550 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea5p/Chi\u00ean rim\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u v\u1edbi b\u00ed \u0111\u1ecf h\u1ea5p\",\n      \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 55,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"Tr\u1ee9ng g\u00e0\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"20g\",\n        \"calories\": \"420 kcal\"\n      },\n      \"cooking_method\": \"Kho/ h\u1ea5p\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 483,
    "completion_tokens": 522,
    "total_tokens": 1005,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:44:16,329 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:44:16,329 - api.openai_api - INFO - {
  "Thứ tư": {
    "Bữa sáng": {
      "name": "Trứng gà xào bí đỏ và ngô ngọt",
      "ingredients": ["Trứng gà", "Bí đỏ", "Ngô ngọt", "Ớt", "Gia vị"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["Ớt"],
      "nutrition_info": {
        "protein": "14g",
        "carbs": "35g",
        "fat": "12g",
        "calories": "340 kcal"
      },
      "cooking_method": "Xào",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm gạo tẻ",
      "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu", "Gạo tẻ"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm", "Hạt tiêu"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "60g",
        "fat": "15g",
        "calories": "550 kcal"
      },
      "cooking_method": "Hấp/Chiên rim",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Thịt kho tàu với bí đỏ hấp",
      "ingredients": ["Thịt ba chỉ", "Trứng gà", "Bí đỏ", "Nước mắm", "Hạt tiêu"],
      "preparation_time": 55,
      "estimated_cost": 69000,
      "reused_ingredients": ["Nước mắm", "Hạt tiêu", "Trứng gà"],
      "nutrition_info": {
        "protein": "18g",
        "carbs": "25g",
        "fat": "20g",
        "calories": "420 kcal"
      },
      "cooking_method": "Kho/ hấp",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 10:44:16,330 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 10:44:16,330 - api.openai_api - INFO - Generated prompt for Thứ năm:
2025-05-02 10:44:16,330 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ năm với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ năm": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:44:16,330 - api.openai_api - INFO - Sending request to OpenAI API for Thứ năm
2025-05-02 10:44:19,057 - api.openai_api - INFO - Raw API Response for Thứ năm:
2025-05-02 10:44:19,057 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbcPNpdaUgxqOhUQWDIkw0sApJef",
  "object": "chat.completion",
  "created": 1746157489,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng g\u00e0 x\u00e0o b\u00ed \u0111\u1ecf\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"H\u1ea1t ti\u00eau\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 15,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"6\",\n        \"carbs\": \"20\",\n        \"fat\": \"10\",\n        \"calories\": \"180\"\n      },\n      \"cooking_method\": \"X\u00e0o\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"12\",\n        \"carbs\": \"15\",\n        \"fat\": \"20\",\n        \"calories\": \"300\"\n      },\n      \"cooking_method\": \"H\u1ea7m/rim\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Ng\u00f4 ng\u1ecdt lu\u1ed9c \u0103n k\u00e8m th\u1ecbt kho t\u00e0u\",\n      \"ingredients\": [\"Ng\u00f4 ng\u1ecdt\", \"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"T\u1ecfi\", \"Ti\u00eau\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 68000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"8\",\n        \"carbs\": \"30\",\n        \"fat\": \"15\",\n        \"calories\": \"250\"\n      },\n      \"cooking_method\": \"Lu\u1ed9c / kho\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 483,
    "completion_tokens": 486,
    "total_tokens": 969,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:44:19,057 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:44:19,057 - api.openai_api - INFO - {
  "Thứ năm": {
    "Bữa sáng": {
      "name": "Trứng gà xào bí đỏ",
      "ingredients": ["Trứng gà", "Bí đỏ", "Hạt tiêu", "Dầu ăn"],
      "preparation_time": 15,
      "estimated_cost": 65000,
      "reused_ingredients": [],
      "nutrition_info": {
        "protein": "6",
        "carbs": "20",
        "fat": "10",
        "calories": "180"
      },
      "cooking_method": "Xào",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa",
      "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Tiêu", "Dầu ăn"],
      "preparation_time": 40,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm", "Tiêu"],
      "nutrition_info": {
        "protein": "12",
        "carbs": "15",
        "fat": "20",
        "calories": "300"
      },
      "cooking_method": "Hầm/rim",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Ngô ngọt luộc ăn kèm thịt kho tàu",
      "ingredients": ["Ngô ngọt", "Thịt ba chỉ", "Nước mắm", "Tỏi", "Tiêu"],
      "preparation_time": 50,
      "estimated_cost": 68000,
      "reused_ingredients": ["Nước mắm", "Tiêu"],
      "nutrition_info": {
        "protein": "8",
        "carbs": "30",
        "fat": "15",
        "calories": "250"
      },
      "cooking_method": "Luộc / kho",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 10:44:19,058 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 10:44:19,058 - api.openai_api - INFO - Generated prompt for Thứ sáu:
2025-05-02 10:44:19,058 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ sáu với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ sáu": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:44:19,058 - api.openai_api - INFO - Sending request to OpenAI API for Thứ sáu
2025-05-02 10:44:21,421 - api.openai_api - INFO - Raw API Response for Thứ sáu:
2025-05-02 10:44:21,421 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbcSxWXdTJVXS7dGtxG3noIHXcWH",
  "object": "chat.completion",
  "created": 1746157492,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa\": [\n      {\n        \"name\": \"B\u1eefa s\u00e1ng: Tr\u1ee9ng g\u00e0 h\u1ea5p b\u00ed \u0111\u1ecf\",\n        \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"\u1edat\", \"Gia v\u1ecb\"],\n        \"preparation_time\": 15,\n        \"estimated_cost\": 35000,\n        \"reused_ingredients\": [\"\u1edat\"],\n        \"nutrition_info\": {\n          \"protein\": \"8g\",\n          \"carbs\": \"20g\",\n          \"fat\": \"5g\",\n          \"calories\": \"150 kcal\"\n        },\n        \"cooking_method\": \"H\u1ea5p\",\n        \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n      },\n      {\n        \"name\": \"B\u1eefa tr\u01b0a: Th\u1ecbt ba ch\u1ec9 kho b\u00ed \u0111\u1ecf\",\n        \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"B\u00ed \u0111\u1ecf\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"T\u1ecfi\"],\n        \"preparation_time\": 40,\n        \"estimated_cost\": 35000,\n        \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\"],\n        \"nutrition_info\": {\n          \"protein\": \"12g\",\n          \"carbs\": \"25g\",\n          \"fat\": \"15g\",\n          \"calories\": \"250 kcal\"\n        },\n        \"cooking_method\": \"X\u00e0o, kho\",\n        \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n      },\n      {\n        \"name\": \"B\u1eefa t\u1ed1i: S\u01b0\u1eddn heo rim d\u1ee9a\",\n        \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"Gia v\u1ecb\", \"H\u1ea1t ti\u00eau\"],\n        \"preparation_time\": 45,\n        \"estimated_cost\": 35000,\n        \"reused_ingredients\": [\"H\u1ea1t ti\u00eau\"],\n        \"nutrition_info\": {\n          \"protein\": \"14g\",\n          \"carbs\": \"20g\",\n          \"fat\": \"12g\",\n          \"calories\": \"220 kcal\"\n        },\n        \"cooking_method\": \"N\u01b0\u1edbng, rim\",\n        \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n      }\n    ]\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 485,
    "completion_tokens": 486,
    "total_tokens": 971,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:44:21,421 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:44:21,421 - api.openai_api - INFO - {
  "Thứ sáu": {
    "Bữa": [
      {
        "name": "Bữa sáng: Trứng gà hấp bí đỏ",
        "ingredients": ["Trứng gà", "Bí đỏ", "Ớt", "Gia vị"],
        "preparation_time": 15,
        "estimated_cost": 35000,
        "reused_ingredients": ["Ớt"],
        "nutrition_info": {
          "protein": "8g",
          "carbs": "20g",
          "fat": "5g",
          "calories": "150 kcal"
        },
        "cooking_method": "Hấp",
        "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
      },
      {
        "name": "Bữa trưa: Thịt ba chỉ kho bí đỏ",
        "ingredients": ["Thịt ba chỉ", "Bí đỏ", "Nước mắm", "Tiêu", "Tỏi"],
        "preparation_time": 40,
        "estimated_cost": 35000,
        "reused_ingredients": ["Nước mắm", "Tiêu"],
        "nutrition_info": {
          "protein": "12g",
          "carbs": "25g",
          "fat": "15g",
          "calories": "250 kcal"
        },
        "cooking_method": "Xào, kho",
        "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
      },
      {
        "name": "Bữa tối: Sườn heo rim dứa",
        "ingredients": ["Sườn heo", "Dứa", "Gia vị", "Hạt tiêu"],
        "preparation_time": 45,
        "estimated_cost": 35000,
        "reused_ingredients": ["Hạt tiêu"],
        "nutrition_info": {
          "protein": "14g",
          "carbs": "20g",
          "fat": "12g",
          "calories": "220 kcal"
        },
        "cooking_method": "Nướng, rim",
        "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
      }
    ]
  }
}
2025-05-02 10:44:21,422 - api.openai_api - INFO - Generating menu for Thứ bảy
2025-05-02 10:44:21,422 - api.openai_api - INFO - Generated prompt for Thứ bảy:
2025-05-02 10:44:21,422 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ bảy với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ bảy": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:44:21,422 - api.openai_api - INFO - Sending request to OpenAI API for Thứ bảy
2025-05-02 10:44:24,017 - api.openai_api - INFO - Raw API Response for Thứ bảy:
2025-05-02 10:44:24,017 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbcVLfmfDRnIRtOaX8bJizuaY22c",
  "object": "chat.completion",
  "created": 1746157495,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 b\u1ea3y\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng chi\u00ean l\u00f2ng \u0111\u00e0o v\u1edbi b\u00ed \u0111\u1ecf h\u1ea5p\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"Tr\u1ee9ng g\u00e0\"],\n      \"nutrition_info\": {\n        \"protein\": \"6\",\n        \"carbs\": \"15\",\n        \"fat\": \"10\",\n        \"calories\": \"180\"\n      },\n      \"cooking_method\": \"Chi\u00ean, h\u1ea5p\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u \u0111\u1eadu ph\u1ee5 v\u00e0 c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"T\u1ecfi\", \"\u0110\u1eadu ph\u1ee5\", \"G\u1ea1o\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"15\",\n        \"carbs\": \"60\",\n        \"fat\": \"25\",\n        \"calories\": \"650\"\n      },\n      \"cooking_method\": \"H\u1ea7m, lu\u1ed9c\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a \u0103n k\u00e8m ng\u00f4 ng\u1ecdt lu\u1ed9c\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"Ng\u00f4 ng\u1ecdt\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"S\u01b0\u1eddn heo\"],\n      \"nutrition_info\": {\n        \"protein\": \"20\",\n        \"carbs\": \"40\",\n        \"fat\": \"15\",\n        \"calories\": \"550\"\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng, rim, lu\u1ed9c\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 485,
    "completion_tokens": 493,
    "total_tokens": 978,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:44:24,017 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:44:24,017 - api.openai_api - INFO - {
  "Thứ bảy": {
    "Bữa sáng": {
      "name": "Trứng chiên lòng đào với bí đỏ hấp",
      "ingredients": ["Trứng gà", "Bí đỏ"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["Trứng gà"],
      "nutrition_info": {
        "protein": "6",
        "carbs": "15",
        "fat": "10",
        "calories": "180"
      },
      "cooking_method": "Chiên, hấp",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Thịt kho tàu đậu phụ và cơm trắng",
      "ingredients": ["Thịt ba chỉ", "Nước mắm", "Tỏi", "Đậu phụ", "Gạo"],
      "preparation_time": 60,
      "estimated_cost": 70000,
      "reused_ingredients": ["Thịt ba chỉ", "Nước mắm"],
      "nutrition_info": {
        "protein": "15",
        "carbs": "60",
        "fat": "25",
        "calories": "650"
      },
      "cooking_method": "Hầm, luộc",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn heo rim dứa ăn kèm ngô ngọt luộc",
      "ingredients": ["Sườn heo", "Dứa", "Ngô ngọt", "Nước mắm", "Tiêu"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["Sườn heo"],
      "nutrition_info": {
        "protein": "20",
        "carbs": "40",
        "fat": "15",
        "calories": "550"
      },
      "cooking_method": "Nướng, rim, luộc",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 10:44:24,023 - api.openai_api - INFO - Generating menu for Chủ nhật
2025-05-02 10:44:24,023 - api.openai_api - INFO - Generated prompt for Chủ nhật:
2025-05-02 10:44:24,023 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Chủ nhật với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Chủ nhật": {
    "Bữa": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    }
  }
}
2025-05-02 10:44:24,023 - api.openai_api - INFO - Sending request to OpenAI API for Chủ nhật
2025-05-02 10:44:26,798 - api.openai_api - INFO - Raw API Response for Chủ nhật:
2025-05-02 10:44:26,799 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbcXYV1GM3T0QKgqAkXQBlAkY52K",
  "object": "chat.completion",
  "created": 1746157497,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Ch\u1ee7 nh\u1eadt\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1edbt chu\u00f4ng\",\n      \"ingredients\": [\"B\u00e1nh m\u00ec\", \"Tr\u1ee9ng g\u00e0\", \"\u1edat chu\u00f4ng\", \"D\u1ea7u \u0103n\", \"H\u00e0nh t\u00edm\"],\n      \"preparation_time\": 15,\n      \"estimated_cost\": 30000,\n      \"reused_ingredients\": [\"D\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"40g\",\n        \"fat\": \"12g\",\n        \"calories\": \"300kcal\"\n      },\n      \"cooking_method\": \"Chi\u00ean, N\u01b0\u1edbng\",\n      \"food_groups\": [\"Tinh b\u1ed9t\", \"\u0110\u1ea1m\", \"Vitamin\", \"Ch\u1ea5t b\u00e9o\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn rim d\u1ee9a v\u00e0 b\u00ed \u0111\u1ecf h\u1ea5p\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a t\u01b0\u01a1i\", \"B\u00ed \u0111\u1ecf\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"T\u1ecfi\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 68000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"T\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"50g\",\n        \"fat\": \"15g\",\n        \"calories\": \"450kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m, H\u1ea5p\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Vitamin\", \"Ch\u1ea5t b\u00e9o\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u v\u00e0 ng\u00f4 ng\u1ecdt lu\u1ed9c\",\n      \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"Tr\u1ee9ng g\u00e0\", \"Ng\u00f4 ng\u1ecdt\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\"],\n      \"preparation_time\": 55,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"35g\",\n        \"fat\": \"20g\",\n        \"calories\": \"500kcal\"\n      },\n      \"cooking_method\": \"Kho, Lu\u1ed9c\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 482,
    "completion_tokens": 529,
    "total_tokens": 1011,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 10:44:26,799 - api.openai_api - INFO - Raw API Response:
2025-05-02 10:44:26,799 - api.openai_api - INFO - {
  "Chủ nhật": {
    "Bữa sáng": {
      "name": "Bánh mì trứng ớt chuông",
      "ingredients": ["Bánh mì", "Trứng gà", "Ớt chuông", "Dầu ăn", "Hành tím"],
      "preparation_time": 15,
      "estimated_cost": 30000,
      "reused_ingredients": ["Dầu ăn"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "40g",
        "fat": "12g",
        "calories": "300kcal"
      },
      "cooking_method": "Chiên, Nướng",
      "food_groups": ["Tinh bột", "Đạm", "Vitamin", "Chất béo"]
    },
    "Bữa trưa": {
      "name": "Sườn rim dứa và bí đỏ hấp",
      "ingredients": ["Sườn heo", "Dứa tươi", "Bí đỏ", "Nước mắm", "Tiêu", "Tỏi"],
      "preparation_time": 45,
      "estimated_cost": 68000,
      "reused_ingredients": ["Nước mắm", "Tiêu", "Tỏi"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "50g",
        "fat": "15g",
        "calories": "450kcal"
      },
      "cooking_method": "Hầm, Hấp",
      "food_groups": ["Đạm", "Tinh bột", "Vitamin", "Chất béo"]
    },
    "Bữa tối": {
      "name": "Thịt kho tàu và ngô ngọt luộc",
      "ingredients": ["Thịt ba chỉ", "Trứng gà", "Ngô ngọt", "Nước mắm", "Tiêu"],
      "preparation_time": 55,
      "estimated_cost": 69000,
      "reused_ingredients": ["Nước mắm", "Tiêu"],
      "nutrition_info": {
        "protein": "18g",
        "carbs": "35g",
        "fat": "20g",
        "calories": "500kcal"
      },
      "cooking_method": "Kho, Luộc",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:06:07,524 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 11:06:07,525 - api.openai_api - INFO - Generated prompt for Thứ hai:
2025-05-02 11:06:07,525 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ hai với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ hai": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:06:07,525 - api.openai_api - INFO - Sending request to OpenAI API for Thứ hai
2025-05-02 11:06:11,172 - api.openai_api - INFO - Raw API Response for Thứ hai:
2025-05-02 11:06:11,174 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbxZHEsjqd2HN8upme9KMTznK8iR",
  "object": "chat.completion",
  "created": 1746158801,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng g\u00e0 x\u00e0o b\u00ed \u0111\u1ecf\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"D\u1ea7u \u0103n\", \"Gia v\u1ecb (mu\u1ed1i, ti\u00eau)\"],\n      \"preparation_time\": 15,\n      \"estimated_cost\": 60000,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"10g\",\n        \"calories\": \"220 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o\",\n      \"food_groups\": [\"Ch\u1ea5t \u0111\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a t\u01b0\u01a1i\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"\u0110\u01b0\u1eddng\", \"T\u1ecfi\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"12g\",\n        \"calories\": \"280 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m rim\",\n      \"food_groups\": [\"Ch\u1ea5t \u0111\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Ng\u00f4 ng\u1ecdt lu\u1ed9c v\u00e0 th\u1ecbt ba ch\u1ec9 x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"Ng\u00f4 ng\u1ecdt\", \"Th\u1ecbt ba ch\u1ec9\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\", \"Gia v\u1ecb (mu\u1ed1i, ti\u00eau)\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"D\u1ea7u \u0103n\", \"Ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"15g\",\n        \"calories\": \"330 kcal\"\n      },\n      \"cooking_method\": \"Lu\u1ed9c v\u00e0 x\u00e0o\",\n      \"food_groups\": [\"Ch\u1ea5t \u0111\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 521,
    "completion_tokens": 520,
    "total_tokens": 1041,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:06:11,174 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:06:11,174 - api.openai_api - INFO - {
  "Thứ hai": {
    "Bữa sáng": {
      "name": "Trứng gà xào bí đỏ",
      "ingredients": ["Trứng gà", "Bí đỏ", "Dầu ăn", "Gia vị (muối, tiêu)"],
      "preparation_time": 15,
      "estimated_cost": 60000,
      "reused_ingredients": [],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "20g",
        "fat": "10g",
        "calories": "220 kcal"
      },
      "cooking_method": "Xào",
      "food_groups": ["Chất đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa",
      "ingredients": ["Sườn heo", "Dứa tươi", "Nước mắm", "Tiêu", "Đường", "Tỏi"],
      "preparation_time": 40,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm", "Tiêu"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "25g",
        "fat": "12g",
        "calories": "280 kcal"
      },
      "cooking_method": "Hầm rim",
      "food_groups": ["Chất đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Ngô ngọt luộc và thịt ba chỉ xào tỏi",
      "ingredients": ["Ngô ngọt", "Thịt ba chỉ", "Tỏi", "Dầu ăn", "Gia vị (muối, tiêu)"],
      "preparation_time": 30,
      "estimated_cost": 65000,
      "reused_ingredients": ["Dầu ăn", "Tiêu"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "30g",
        "fat": "15g",
        "calories": "330 kcal"
      },
      "cooking_method": "Luộc và xào",
      "food_groups": ["Chất đạm", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:06:11,178 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 11:06:11,178 - api.openai_api - INFO - Generated prompt for Thứ ba:
2025-05-02 11:06:11,178 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ ba với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ ba": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:06:11,178 - api.openai_api - INFO - Sending request to OpenAI API for Thứ ba
2025-05-02 11:06:14,384 - api.openai_api - INFO - Raw API Response for Thứ ba:
2025-05-02 11:06:14,385 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbxc2WPsgUEf6qPQllxJ7iWOnw6C",
  "object": "chat.completion",
  "created": 1746158804,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng g\u00e0 \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf h\u1ea5p\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"D\u1ea7u \u0103n\", \"Gia v\u1ecb (mu\u1ed1i, ti\u00eau)\"],\n      \"preparation_time\": 15,\n      \"estimated_cost\": 60000,\n      \"reused_ingredients\": [\"D\u1ea7u \u0103n\", \"Gia v\u1ecb\"],\n      \"nutrition_info\": {\n        \"protein\": \"6g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"10g\",\n        \"calories\": \"200 kcal\"\n      },\n      \"cooking_method\": \"Chi\u00ean tr\u1ee9ng, h\u1ea5p b\u00ed \u0111\u1ecf\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a c\u00f9ng c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a t\u01b0\u01a1i\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"Gia v\u1ecb\", \"G\u1ea1o\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"Gia v\u1ecb\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"60g\",\n        \"fat\": \"15g\",\n        \"calories\": \"550 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m rim, lu\u1ed9c c\u01a1m\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"G\u1ecfi ng\u00f4 ng\u1ecdt x\u00e0o \u1edbt v\u00e0 th\u1ecbt ba ch\u1ec9 lu\u1ed9c\",\n      \"ingredients\": [\"Ng\u00f4 ng\u1ecdt\", \"Th\u1ecbt ba ch\u1ec9\", \"\u1edat\", \"Gia v\u1ecb (mu\u1ed1i, ti\u00eau)\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"D\u1ea7u \u0103n\", \"Gia v\u1ecb\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"8g\",\n        \"calories\": \"200 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o, lu\u1ed9c\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 521,
    "completion_tokens": 543,
    "total_tokens": 1064,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:06:14,385 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:06:14,385 - api.openai_api - INFO - {
  "Thứ ba": {
    "Bữa sáng": {
      "name": "Trứng gà ốp la với bí đỏ hấp",
      "ingredients": ["Trứng gà", "Bí đỏ", "Dầu ăn", "Gia vị (muối, tiêu)"],
      "preparation_time": 15,
      "estimated_cost": 60000,
      "reused_ingredients": ["Dầu ăn", "Gia vị"],
      "nutrition_info": {
        "protein": "6g",
        "carbs": "20g",
        "fat": "10g",
        "calories": "200 kcal"
      },
      "cooking_method": "Chiên trứng, hấp bí đỏ",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa cùng cơm trắng",
      "ingredients": ["Sườn heo", "Dứa tươi", "Nước mắm", "Tiêu", "Gia vị", "Gạo"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm", "Tiêu", "Gia vị"],
      "nutrition_info": {
        "protein": "18g",
        "carbs": "60g",
        "fat": "15g",
        "calories": "550 kcal"
      },
      "cooking_method": "Hầm rim, luộc cơm",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Gỏi ngô ngọt xào ớt và thịt ba chỉ luộc",
      "ingredients": ["Ngô ngọt", "Thịt ba chỉ", "Ớt", "Gia vị (muối, tiêu)", "Dầu ăn"],
      "preparation_time": 30,
      "estimated_cost": 70000,
      "reused_ingredients": ["Dầu ăn", "Gia vị"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "25g",
        "fat": "8g",
        "calories": "200 kcal"
      },
      "cooking_method": "Xào, luộc",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:06:14,387 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 11:06:14,387 - api.openai_api - INFO - Generated prompt for Thứ tư:
2025-05-02 11:06:14,387 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ tư với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ tư": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:06:14,388 - api.openai_api - INFO - Sending request to OpenAI API for Thứ tư
2025-05-02 11:06:17,251 - api.openai_api - INFO - Raw API Response for Thứ tư:
2025-05-02 11:06:17,252 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbxgagqLPeZdy4QGzoDc0whLBJXW",
  "object": "chat.completion",
  "created": 1746158808,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Ch\u00e1o b\u00ed \u0111\u1ecf tr\u1ee9ng g\u00e0\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"g\u1ea1o t\u1ebb\", \"h\u00e0nh t\u00edm\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"55g\",\n        \"fat\": \"10g\",\n        \"calories\": \"350kcal\"\n      },\n      \"cooking_method\": \"n\u1ea5u ch\u00e1o, lu\u1ed9c tr\u1ee9ng\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"Th\u1ecbt ba ch\u1ec9 rang x\u00ec d\u1ea7u v\u1edbi ng\u00f4 ng\u1ecdt lu\u1ed9c\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"ng\u00f4 ng\u1ecdt t\u01b0\u01a1i\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 68000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"20g\",\n        \"calories\": \"400kcal\"\n      },\n      \"cooking_method\": \"rim, lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 b\u00ed \u0111\u1ecf h\u1ea5p\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"b\u00ed \u0111\u1ecf\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"15g\",\n        \"calories\": \"420kcal\"\n      },\n      \"cooking_method\": \"rim, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 521,
    "completion_tokens": 552,
    "total_tokens": 1073,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:06:17,253 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:06:17,253 - api.openai_api - INFO - {
  "Thứ tư": {
    "Bữa sáng": {
      "name": "Cháo bí đỏ trứng gà",
      "ingredients": ["bí đỏ tươi", "trứng gà", "gạo tẻ", "hành tím", "dầu ăn"],
      "preparation_time": 30,
      "estimated_cost": 65000,
      "reused_ingredients": ["dầu ăn"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "55g",
        "fat": "10g",
        "calories": "350kcal"
      },
      "cooking_method": "nấu cháo, luộc trứng",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Thịt ba chỉ rang xì dầu với ngô ngọt luộc",
      "ingredients": ["thịt ba chỉ", "ngô ngọt tươi", "nước mắm", "hạt tiêu", "tỏi", "dầu ăn"],
      "preparation_time": 50,
      "estimated_cost": 68000,
      "reused_ingredients": ["dầu ăn", "nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "25g",
        "fat": "20g",
        "calories": "400kcal"
      },
      "cooking_method": "rim, luộc",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn heo rim dứa và bí đỏ hấp",
      "ingredients": ["sườn heo", "dứa tươi", "bí đỏ", "nước mắm", "hạt tiêu", "tỏi"],
      "preparation_time": 60,
      "estimated_cost": 69000,
      "reused_ingredients": ["nước mắm", "hạt tiêu", "tỏi"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "30g",
        "fat": "15g",
        "calories": "420kcal"
      },
      "cooking_method": "rim, hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:06:17,256 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 11:06:17,257 - api.openai_api - INFO - Generated prompt for Thứ năm:
2025-05-02 11:06:17,257 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ năm với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ năm": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:06:17,257 - api.openai_api - INFO - Sending request to OpenAI API for Thứ năm
2025-05-02 11:06:20,488 - api.openai_api - INFO - Raw API Response for Thứ năm:
2025-05-02 11:06:20,488 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbxinGS1lPW8TbewGHrwCzAucXY7",
  "object": "chat.completion",
  "created": 1746158810,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u00e0 b\u00ed \u0111\u1ecf h\u1ea5p\",\n      \"ingredients\": [\"B\u00e1nh m\u00ec\", \"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"D\u1ea7u \u0103n\", \"\u1edat chu\u00f4ng\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"D\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350kcal\"\n      },\n      \"cooking_method\": \"Chi\u00ean, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a t\u01b0\u01a1i\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"G\u1ea1o\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"60g\",\n        \"fat\": \"18g\",\n        \"calories\": \"550kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m, rim\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u v\u00e0 rau s\u1ed1ng\",\n      \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"Tr\u1ee9ng g\u00e0\", \"\u1edat\", \"D\u01b0a leo\", \"Rau s\u1ed1ng\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"22g\",\n        \"carbs\": \"10g\",\n        \"fat\": \"25g\",\n        \"calories\": \"480kcal\"\n      },\n      \"cooking_method\": \"Kho, lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 521,
    "completion_tokens": 525,
    "total_tokens": 1046,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:06:20,488 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:06:20,488 - api.openai_api - INFO - {
  "Thứ năm": {
    "Bữa sáng": {
      "name": "Bánh mì trứng ốp la và bí đỏ hấp",
      "ingredients": ["Bánh mì", "Trứng gà", "Bí đỏ tươi", "Dầu ăn", "Ớt chuông"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["Dầu ăn"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "45g",
        "fat": "15g",
        "calories": "350kcal"
      },
      "cooking_method": "Chiên, hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm trắng",
      "ingredients": ["Sườn heo", "Dứa tươi", "Nước mắm", "Hạt tiêu", "Gạo"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm", "Hạt tiêu"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "60g",
        "fat": "18g",
        "calories": "550kcal"
      },
      "cooking_method": "Hầm, rim",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Thịt kho tàu và rau sống",
      "ingredients": ["Thịt ba chỉ", "Trứng gà", "Ớt", "Dưa leo", "Rau sống"],
      "preparation_time": 60,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm", "Hạt tiêu"],
      "nutrition_info": {
        "protein": "22g",
        "carbs": "10g",
        "fat": "25g",
        "calories": "480kcal"
      },
      "cooking_method": "Kho, luộc",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:06:20,493 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 11:06:20,493 - api.openai_api - INFO - Generated prompt for Thứ sáu:
2025-05-02 11:06:20,493 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ sáu với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:06:20,493 - api.openai_api - INFO - Sending request to OpenAI API for Thứ sáu
2025-05-02 11:06:23,517 - api.openai_api - INFO - Raw API Response for Thứ sáu:
2025-05-02 11:06:23,517 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbxmqaR6AV5XQ1aecb6XIPnUhMl8",
  "object": "chat.completion",
  "created": 1746158814,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng g\u00e0 x\u00e0o b\u00ed \u0111\u1ecf t\u01b0\u01a1i\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \" B\u00ed \u0111\u1ecf\", \" T\u1ecfi\", \" D\u1ea7u \u0103n\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"D\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"10g\",\n        \"calories\": \"180 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"T\u1ecfi\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"T\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"15g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m/ rim\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"G\u00e0 h\u1ea5p h\u00e0nh t\u1ecfi k\u00e8m ng\u00f4 ng\u1ecdt\",\n      \"ingredients\": [\"Th\u1ecbt g\u00e0\", \"Ng\u00f4 ng\u1ecdt\", \"T\u1ecfi\", \"H\u00e0nh t\u00edm\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"D\u1ea7u \u0103n\", \"T\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"8g\",\n        \"calories\": \"220 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea5p\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 523,
    "completion_tokens": 498,
    "total_tokens": 1021,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:06:23,517 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:06:23,517 - api.openai_api - INFO - {
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "Trứng gà xào bí đỏ tươi",
      "ingredients": ["Trứng gà", " Bí đỏ", " Tỏi", " Dầu ăn"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["Dầu ăn"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "15g",
        "fat": "10g",
        "calories": "180 kcal"
      },
      "cooking_method": "Xào",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa",
      "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Tiêu", "Tỏi"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm", "Tiêu", "Tỏi"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "20g",
        "fat": "15g",
        "calories": "250 kcal"
      },
      "cooking_method": "Hầm/ rim",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Gà hấp hành tỏi kèm ngô ngọt",
      "ingredients": ["Thịt gà", "Ngô ngọt", "Tỏi", "Hành tím", "Dầu ăn"],
      "preparation_time": 50,
      "estimated_cost": 69000,
      "reused_ingredients": ["Dầu ăn", "Tỏi"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "25g",
        "fat": "8g",
        "calories": "220 kcal"
      },
      "cooking_method": "Hấp",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:06:23,519 - api.openai_api - INFO - Generating menu for Thứ bảy
2025-05-02 11:06:23,519 - api.openai_api - INFO - Generated prompt for Thứ bảy:
2025-05-02 11:06:23,519 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ bảy với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ bảy": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:06:23,520 - api.openai_api - INFO - Sending request to OpenAI API for Thứ bảy
2025-05-02 11:06:26,590 - api.openai_api - INFO - Raw API Response for Thứ bảy:
2025-05-02 11:06:26,590 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbxpDWZ3dCmX6zyU1xftRt36RLze",
  "object": "chat.completion",
  "created": 1746158817,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 b\u1ea3y\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec ch\u1ea3 tr\u1ee9ng v\u00e0 b\u00ed \u0111\u1ecf n\u01b0\u1edbng\",\n      \"ingredients\": [\"B\u00e1nh m\u00ec\", \"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"D\u1ea7u \u0103n\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"H\u1ea1t ti\u00eau\", \"N\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350kcal\"\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng, chi\u00ean\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 ng\u00f4 ng\u1ecdt lu\u1ed9c\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a t\u01b0\u01a1i\", \"Ng\u00f4 ng\u1ecdt\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"35g\",\n        \"fat\": \"18g\",\n        \"calories\": \"450kcal\"\n      },\n      \"cooking_method\": \"H\u1ea5p, rim, lu\u1ed9c\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u v\u00e0 b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"T\u1ecfi\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 55,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"22g\",\n        \"carbs\": \"40g\",\n        \"fat\": \"20g\",\n        \"calories\": \"500kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m, x\u00e0o\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 523,
    "completion_tokens": 565,
    "total_tokens": 1088,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:06:26,591 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:06:26,591 - api.openai_api - INFO - {
  "Thứ bảy": {
    "Bữa sáng": {
      "name": "Bánh mì chả trứng và bí đỏ nướng",
      "ingredients": ["Bánh mì", "Trứng gà", "Bí đỏ tươi", "Dầu ăn", "Nước mắm", "Hạt tiêu"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["Hạt tiêu", "Nước mắm"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "45g",
        "fat": "15g",
        "calories": "350kcal"
      },
      "cooking_method": "Nướng, chiên",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và ngô ngọt luộc",
      "ingredients": ["Sườn heo", "Dứa tươi", "Ngô ngọt", "Nước mắm", "Hạt tiêu", "Dầu ăn"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm", "Hạt tiêu"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "35g",
        "fat": "18g",
        "calories": "450kcal"
      },
      "cooking_method": "Hấp, rim, luộc",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Thịt kho tàu và bí đỏ xào tỏi",
      "ingredients": ["Thịt ba chỉ", "Trứng gà", "Bí đỏ tươi", "Tỏi", "Nước mắm", "Hạt tiêu", "Dầu ăn"],
      "preparation_time": 55,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm", "Hạt tiêu"],
      "nutrition_info": {
        "protein": "22g",
        "carbs": "40g",
        "fat": "20g",
        "calories": "500kcal"
      },
      "cooking_method": "Hầm, xào",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:06:26,591 - api.openai_api - INFO - Generating menu for Chủ nhật
2025-05-02 11:06:26,592 - api.openai_api - INFO - Generated prompt for Chủ nhật:
2025-05-02 11:06:26,592 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Chủ nhật với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa trưa, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu
Không thích: Hành lá, Mướp đắng
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa
Món không thích: Mướp nhồi thịt
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Chủ nhật": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:06:26,592 - api.openai_api - INFO - Sending request to OpenAI API for Chủ nhật
2025-05-02 11:06:29,453 - api.openai_api - INFO - Raw API Response for Chủ nhật:
2025-05-02 11:06:29,454 - api.openai_api - INFO - {
  "id": "chatcmpl-BSbxslUMDkmTCnMY69u6yEPs1TSms",
  "object": "chat.completion",
  "created": 1746158820,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Ch\u1ee7 nh\u1eadt\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf h\u1ea5p tr\u1ee9ng g\u00e0\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"10g\",\n        \"calories\": \"210 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 ng\u00f4 ng\u1ecdt x\u00e0o\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"ng\u00f4 ng\u1ecdt\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"12g\",\n        \"calories\": \"310 kcal\"\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u v\u1edbi b\u00ed \u0111\u1ecf lu\u1ed9c\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\"],\n      \"preparation_time\": 55,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"18g\",\n        \"calories\": \"330 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m, lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 520,
    "completion_tokens": 539,
    "total_tokens": 1059,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:06:29,454 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:06:29,454 - api.openai_api - INFO - {
  "Chủ nhật": {
    "Bữa sáng": {
      "name": "Bí đỏ hấp trứng gà",
      "ingredients": ["bí đỏ tươi", "trứng gà", "tỏi", "dầu ăn"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["dầu ăn"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "25g",
        "fat": "10g",
        "calories": "210 kcal"
      },
      "cooking_method": "Hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và ngô ngọt xào",
      "ingredients": ["sườn heo", "dứa tươi", "ngô ngọt", "tỏi", "dầu ăn", "nước mắm", "hạt tiêu"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["dầu ăn", "nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "30g",
        "fat": "12g",
        "calories": "310 kcal"
      },
      "cooking_method": "Nướng, xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Thịt kho tàu với bí đỏ luộc",
      "ingredients": ["thịt ba chỉ", "trứng gà", "bí đỏ", "nước mắm", "hạt tiêu", "tỏi"],
      "preparation_time": 55,
      "estimated_cost": 69000,
      "reused_ingredients": ["nước mắm", "hạt tiêu", "tỏi"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "15g",
        "fat": "18g",
        "calories": "330 kcal"
      },
      "cooking_method": "Hầm, luộc",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:10:07,772 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 11:10:07,772 - api.openai_api - INFO - Generated prompt for Thứ hai:
2025-05-02 11:10:07,772 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ hai với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Nam Việt Nam
Ngân sách/bữa: 100000đ
Thời gian max: 90p
Format JSON:
{
  "Thứ hai": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:10:07,772 - api.openai_api - INFO - Sending request to OpenAI API for Thứ hai
2025-05-02 11:10:10,903 - api.openai_api - INFO - Raw API Response for Thứ hai:
2025-05-02 11:10:10,903 - api.openai_api - INFO - {
  "id": "chatcmpl-BSc1Rken3jMxHj3DXUcwRZo81pMTf",
  "object": "chat.completion",
  "created": 1746159041,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf h\u1ea5p\",\n      \"ingredients\": [\"B\u00e1nh m\u00ec\", \"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"D\u1ea7u \u0103n\", \"Mu\u1ed1i\", \"Ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 35000,\n      \"reused_ingredients\": [\"D\u1ea7u \u0103n\", \"Mu\u1ed1i\", \"Ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"40g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350kcal\"\n      },\n      \"cooking_method\": \"Chi\u00ean, h\u1ea5p\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"T\u1ecfi\", \"H\u1ea1t ti\u00eau\", \"G\u1ea1o\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 95000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"T\u1ecfi\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"70g\",\n        \"fat\": \"25g\",\n        \"calories\": \"650kcal\"\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng, rim\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Canh b\u00ed \u0111\u1ecf t\u00f4m t\u01b0\u01a1i x\u00e0o c\u1ea3i xoong\",\n      \"ingredients\": [\"B\u00ed \u0111\u1ecf\", \"T\u00f4m t\u01b0\u01a1i\", \"C\u1ea3i xoong\", \"N\u01b0\u1edbc m\u1eafm\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 45000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"8g\",\n        \"calories\": \"250kcal\"\n      },\n      \"cooking_method\": \"Lu\u1ed9c, x\u00e0o\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 552,
    "total_tokens": 1086,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:10:10,903 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:10:10,904 - api.openai_api - INFO - {
  "Thứ hai": {
    "Bữa sáng": {
      "name": "Bánh mì trứng ốp la với bí đỏ hấp",
      "ingredients": ["Bánh mì", "Trứng gà", "Bí đỏ", "Dầu ăn", "Muối", "Tiêu"],
      "preparation_time": 20,
      "estimated_cost": 35000,
      "reused_ingredients": ["Dầu ăn", "Muối", "Tiêu"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "40g",
        "fat": "15g",
        "calories": "350kcal"
      },
      "cooking_method": "Chiên, hấp",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm trắng",
      "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Tỏi", "Hạt tiêu", "Gạo"],
      "preparation_time": 60,
      "estimated_cost": 95000,
      "reused_ingredients": ["Nước mắm", "Tỏi", "Hạt tiêu"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "70g",
        "fat": "25g",
        "calories": "650kcal"
      },
      "cooking_method": "Nướng, rim",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Canh bí đỏ tôm tươi xào cải xoong",
      "ingredients": ["Bí đỏ", "Tôm tươi", "Cải xoong", "Nước mắm", "Tỏi", "Dầu ăn"],
      "preparation_time": 30,
      "estimated_cost": 45000,
      "reused_ingredients": ["Nước mắm", "Tỏi", "Dầu ăn"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "25g",
        "fat": "8g",
        "calories": "250kcal"
      },
      "cooking_method": "Luộc, xào",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:10:10,904 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 11:10:10,904 - api.openai_api - INFO - Generated prompt for Thứ ba:
2025-05-02 11:10:10,904 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ ba với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Nam Việt Nam
Ngân sách/bữa: 100000đ
Thời gian max: 90p
Format JSON:
{
  "Thứ ba": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:10:10,904 - api.openai_api - INFO - Sending request to OpenAI API for Thứ ba
2025-05-02 11:10:13,947 - api.openai_api - INFO - Raw API Response for Thứ ba:
2025-05-02 11:10:13,947 - api.openai_api - INFO - {
  "id": "chatcmpl-BSc1UTIHhXG15B52x2Jo8ZhHif9n1",
  "object": "chat.completion",
  "created": 1746159044,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec x\u00edu m\u1ea1i b\u00ed \u0111\u1ecf\",\n      \"ingredients\": [\"B\u00e1nh m\u00ec\", \"X\u00edu m\u1ea1i th\u1ecbt heo\", \"B\u00ed \u0111\u1ecf\", \"H\u00e0nh t\u00edm\", \"\u1edat tr\u00e1i\", \"D\u1ea7u \u0103n\", \"N\u01b0\u1edbc m\u1eafm\"],\n      \"preparation_time\": 75,\n      \"estimated_cost\": 95000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": 15,\n        \"carbs\": 45,\n        \"fat\": 12,\n        \"calories\": 350\n      },\n      \"cooking_method\": \"H\u1ea5p, chi\u00ean, n\u01b0\u1edbng\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn rim d\u1ee9a v\u00e0 c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a t\u01b0\u01a1i\", \"T\u1ecfi\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"D\u1ea7u \u0103n\", \"G\u1ea1o\"],\n      \"preparation_time\": 90,\n      \"estimated_cost\": 100000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": 20,\n        \"carbs\": 60,\n        \"fat\": 15,\n        \"calories\": 520\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng, rim, lu\u1ed9c\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Canh b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi v\u00e0 tr\u1ee9ng g\u00e0 lu\u1ed9c\",\n      \"ingredients\": [\"B\u00ed \u0111\u1ecf\", \"Tr\u1ee9ng g\u00e0\", \"T\u1ecfi\", \"\u1edat\", \"D\u1ea7u \u0103n\", \"N\u01b0\u1edbc m\u1eafm\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 85000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": 12,\n        \"carbs\": 30,\n        \"fat\": 8,\n        \"calories\": 250\n      },\n      \"cooking_method\": \"X\u00e0o, lu\u1ed9c\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 545,
    "total_tokens": 1079,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:10:13,947 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:10:13,947 - api.openai_api - INFO - {
  "Thứ ba": {
    "Bữa sáng": {
      "name": "Bánh mì xíu mại bí đỏ",
      "ingredients": ["Bánh mì", "Xíu mại thịt heo", "Bí đỏ", "Hành tím", "Ớt trái", "Dầu ăn", "Nước mắm"],
      "preparation_time": 75,
      "estimated_cost": 95000,
      "reused_ingredients": ["dầu ăn", "nước mắm"],
      "nutrition_info": {
        "protein": 15,
        "carbs": 45,
        "fat": 12,
        "calories": 350
      },
      "cooking_method": "Hấp, chiên, nướng",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn rim dứa và cơm trắng",
      "ingredients": ["Sườn heo", "Dứa tươi", "Tỏi", "Nước mắm", "Hạt tiêu", "Dầu ăn", "Gạo"],
      "preparation_time": 90,
      "estimated_cost": 100000,
      "reused_ingredients": ["dầu ăn", "nước mắm"],
      "nutrition_info": {
        "protein": 20,
        "carbs": 60,
        "fat": 15,
        "calories": 520
      },
      "cooking_method": "Nướng, rim, luộc",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Canh bí đỏ xào tỏi và trứng gà luộc",
      "ingredients": ["Bí đỏ", "Trứng gà", "Tỏi", "Ớt", "Dầu ăn", "Nước mắm"],
      "preparation_time": 60,
      "estimated_cost": 85000,
      "reused_ingredients": ["dầu ăn", "nước mắm"],
      "nutrition_info": {
        "protein": 12,
        "carbs": 30,
        "fat": 8,
        "calories": 250
      },
      "cooking_method": "Xào, luộc",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:10:13,950 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 11:10:13,950 - api.openai_api - INFO - Generated prompt for Thứ tư:
2025-05-02 11:10:13,950 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ tư với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Nam Việt Nam
Ngân sách/bữa: 100000đ
Thời gian max: 90p
Format JSON:
{
  "Thứ tư": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:10:13,950 - api.openai_api - INFO - Sending request to OpenAI API for Thứ tư
2025-05-02 11:10:16,578 - api.openai_api - INFO - Raw API Response for Thứ tư:
2025-05-02 11:10:16,579 - api.openai_api - INFO - {
  "id": "chatcmpl-BSc1XsbtmsNtj8SokgbjXZPTo7Q2i",
  "object": "chat.completion",
  "created": 1746159047,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi v\u00e0 tr\u1ee9ng g\u00e0 lu\u1ed9c\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"t\u1ecfi\", \"tr\u1ee9ng g\u00e0\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 25000,\n      \"reused_ingredients\": [\"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"6g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"7g\",\n        \"calories\": \"180kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"g\u1ea1o\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 95000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"25g\",\n        \"carbs\": \"50g\",\n        \"fat\": \"15g\",\n        \"calories\": \"550kcal\"\n      },\n      \"cooking_method\": \"rim, lu\u1ed9c, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt ba ch\u1ec9 kho t\u1ed9 v\u00e0 c\u1ea3i xoong x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"c\u1ea3i xoong\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"preparation_time\": 70,\n      \"estimated_cost\": 95000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"10g\",\n        \"fat\": \"25g\",\n        \"calories\": \"350kcal\"\n      },\n      \"cooking_method\": \"kho, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\", \"ch\u1ea5t x\u01a1\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 518,
    "total_tokens": 1052,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:10:16,579 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:10:16,579 - api.openai_api - INFO - {
  "Thứ tư": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi và trứng gà luộc",
      "ingredients": ["bí đỏ tươi", "tỏi", "trứng gà"],
      "preparation_time": 30,
      "estimated_cost": 25000,
      "reused_ingredients": ["tỏi"],
      "nutrition_info": {
        "protein": "6g",
        "carbs": "20g",
        "fat": "7g",
        "calories": "180kcal"
      },
      "cooking_method": "xào, luộc",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm trắng",
      "ingredients": ["sườn heo", "dứa tươi", "gạo", "nước mắm", "hạt tiêu"],
      "preparation_time": 60,
      "estimated_cost": 95000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "25g",
        "carbs": "50g",
        "fat": "15g",
        "calories": "550kcal"
      },
      "cooking_method": "rim, luộc, hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Thịt ba chỉ kho tộ và cải xoong xào tỏi",
      "ingredients": ["thịt ba chỉ", "cải xoong", "tỏi", "nước mắm"],
      "preparation_time": 70,
      "estimated_cost": 95000,
      "reused_ingredients": ["nước mắm", "tỏi"],
      "nutrition_info": {
        "protein": "18g",
        "carbs": "10g",
        "fat": "25g",
        "calories": "350kcal"
      },
      "cooking_method": "kho, xào",
      "food_groups": ["đạm", "chất béo", "Vitamin", "chất xơ"]
    }
  }
}
2025-05-02 11:10:16,583 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 11:10:16,583 - api.openai_api - INFO - Generated prompt for Thứ năm:
2025-05-02 11:10:16,583 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ năm với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Nam Việt Nam
Ngân sách/bữa: 100000đ
Thời gian max: 90p
Format JSON:
{
  "Thứ năm": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:10:16,584 - api.openai_api - INFO - Sending request to OpenAI API for Thứ năm
2025-05-02 11:10:19,526 - api.openai_api - INFO - Raw API Response for Thứ năm:
2025-05-02 11:10:19,526 - api.openai_api - INFO - {
  "id": "chatcmpl-BSc1a0N2ScukSsic3mWnTAGQvDf1k",
  "object": "chat.completion",
  "created": 1746159050,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"B\u00e1nh m\u00ec\", \"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 90000,\n      \"reused_ingredients\": [\"D\u1ea7u \u0103n\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o, chi\u00ean\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a \u0103n k\u00e8m c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\", \"G\u1ea1o\"],\n      \"preparation_time\": 70,\n      \"estimated_cost\": 100000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"60g\",\n        \"fat\": \"18g\",\n        \"calories\": \"550kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m, rim, lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 399,
    "total_tokens": 933,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:10:19,526 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:10:19,526 - api.openai_api - INFO - {
  "Thứ năm": {
    "Bữa sáng": {
      "name": "Bánh mì trứng ốp la với bí đỏ xào tỏi",
      "ingredients": ["Bánh mì", "Trứng gà", "Bí đỏ", "Tỏi", "Dầu ăn", "Nước mắm", "Hạt tiêu"],
      "preparation_time": 20,
      "estimated_cost": 90000,
      "reused_ingredients": ["Dầu ăn", "Nước mắm", "Hạt tiêu"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "45g",
        "fat": "15g",
        "calories": "350kcal"
      },
      "cooking_method": "Xào, chiên",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn heo rim dứa ăn kèm cơm trắng",
      "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu", "Tỏi", "Dầu ăn", "Gạo"],
      "preparation_time": 70,
      "estimated_cost": 100000,
      "reused_ingredients": ["Nước mắm", "Hạt tiêu", "Tỏi", "Dầu ăn"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "60g",
        "fat": "18g",
        "calories": "550kcal"
      },
      "cooking_method": "Hầm, rim, luộc",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:10:19,527 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 11:10:19,527 - api.openai_api - INFO - Generated prompt for Thứ sáu:
2025-05-02 11:10:19,531 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ sáu với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Nam Việt Nam
Ngân sách/bữa: 100000đ
Thời gian max: 90p
Format JSON:
{
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:10:19,531 - api.openai_api - INFO - Sending request to OpenAI API for Thứ sáu
2025-05-02 11:10:21,829 - api.openai_api - INFO - Raw API Response for Thứ sáu:
2025-05-02 11:10:21,829 - api.openai_api - INFO - {
  "id": "chatcmpl-BSc1dT8Lg5NoNU3VX4AoQG1Y8YmPk",
  "object": "chat.completion",
  "created": 1746159053,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi v\u00e0 tr\u1ee9ng g\u00e0 \u1ed1p la\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"ti\u00eau\"],\n      \"preparation_time\": 25,\n      \"estimated_cost\": 95000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"7g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"9g\",\n        \"calories\": \"180 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, chi\u00ean\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a, c\u01a1m tr\u1eafng v\u00e0 c\u1ea3i xoong x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"c\u1ea3i xoong\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\", \"\u0111\u01b0\u1eddng\", \"ti\u00eau\"],\n      \"preparation_time\": 65,\n      \"estimated_cost\": 100000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\", \"ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"12g\",\n        \"calories\": \"320 kcal\"\n      },\n      \"cooking_method\": \"rim, x\u00e0o, lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 536,
    "completion_tokens": 396,
    "total_tokens": 932,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:10:21,829 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:10:21,829 - api.openai_api - INFO - {
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi và trứng gà ốp la",
      "ingredients": ["bí đỏ tươi", "trứng gà", "tỏi", "dầu ăn", "muối", "tiêu"],
      "preparation_time": 25,
      "estimated_cost": 95000,
      "reused_ingredients": ["dầu ăn", "muối", "tiêu"],
      "nutrition_info": {
        "protein": "7g",
        "carbs": "20g",
        "fat": "9g",
        "calories": "180 kcal"
      },
      "cooking_method": "xào, chiên",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn heo rim dứa, cơm trắng và cải xoong xào tỏi",
      "ingredients": ["sườn heo", "dứa tươi", "cải xoong", "tỏi", "dầu ăn", "nước mắm", "đường", "tiêu"],
      "preparation_time": 65,
      "estimated_cost": 100000,
      "reused_ingredients": ["dầu ăn", "nước mắm", "tiêu"],
      "nutrition_info": {
        "protein": "18g",
        "carbs": "30g",
        "fat": "12g",
        "calories": "320 kcal"
      },
      "cooking_method": "rim, xào, luộc",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:17:08,901 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 11:17:08,901 - api.openai_api - INFO - Generated prompt for Thứ hai:
2025-05-02 11:17:08,901 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ hai với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ hai": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:17:08,901 - api.openai_api - INFO - Sending request to OpenAI API for Thứ hai
2025-05-02 11:17:11,837 - api.openai_api - INFO - Raw API Response for Thứ hai:
2025-05-02 11:17:11,838 - api.openai_api - INFO - {
  "id": "chatcmpl-BSc8E6lAaVznOq5mmMhyer8oJcklg",
  "object": "chat.completion",
  "created": 1746159462,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"B\u00e1nh m\u00ec\", \"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\", \"Gia v\u1ecb (mu\u1ed1i, ti\u00eau)\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"D\u1ea7u \u0103n\", \"Gia v\u1ecb\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"40g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o, chi\u00ean\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a \u0103n k\u00e8m c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\", \"G\u1ea1o\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"50g\",\n        \"fat\": \"18g\",\n        \"calories\": \"500kcal\"\n      },\n      \"cooking_method\": \"H\u1ea5p, rim, lu\u1ed9c\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"G\u1ecfi c\u1ea3i xoong th\u1ecbt ba ch\u1ec9 lu\u1ed9c\",\n      \"ingredients\": [\"C\u1ea3i xoong\", \"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"\u1edat\", \"Chanh\", \"Gia v\u1ecb\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 68000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"\u1edat\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"8g\",\n        \"fat\": \"12g\",\n        \"calories\": \"220kcal\"\n      },\n      \"cooking_method\": \"Lu\u1ed9c, tr\u1ed9n\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Ch\u1ea5t x\u01a1\", \"Vitamin\", \"Ch\u1ea5t b\u00e9o\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 565,
    "total_tokens": 1099,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:17:11,838 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:17:11,838 - api.openai_api - INFO - {
  "Thứ hai": {
    "Bữa sáng": {
      "name": "Bánh mì trứng ốp la với bí đỏ xào tỏi",
      "ingredients": ["Bánh mì", "Trứng gà", "Bí đỏ", "Tỏi", "Dầu ăn", "Gia vị (muối, tiêu)"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["Dầu ăn", "Gia vị"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "40g",
        "fat": "15g",
        "calories": "350kcal"
      },
      "cooking_method": "Xào, chiên",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa ăn kèm cơm trắng",
      "ingredients": ["Sườn heo", "Dứa", "Nước mắm", "Hạt tiêu", "Tỏi", "Dầu ăn", "Gạo"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm", "Hạt tiêu", "Tỏi", "Dầu ăn"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "50g",
        "fat": "18g",
        "calories": "500kcal"
      },
      "cooking_method": "Hấp, rim, luộc",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Gỏi cải xoong thịt ba chỉ luộc",
      "ingredients": ["Cải xoong", "Thịt ba chỉ", "Nước mắm", "Ớt", "Chanh", "Gia vị"],
      "preparation_time": 30,
      "estimated_cost": 68000,
      "reused_ingredients": ["Nước mắm", "Ớt"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "8g",
        "fat": "12g",
        "calories": "220kcal"
      },
      "cooking_method": "Luộc, trộn",
      "food_groups": ["Đạm", "Chất xơ", "Vitamin", "Chất béo"]
    }
  }
}
2025-05-02 11:17:11,839 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 11:17:11,839 - api.openai_api - INFO - Generated prompt for Thứ ba:
2025-05-02 11:17:11,839 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ ba với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ ba": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:17:11,839 - api.openai_api - INFO - Sending request to OpenAI API for Thứ ba
2025-05-02 11:17:15,161 - api.openai_api - INFO - Raw API Response for Thứ ba:
2025-05-02 11:17:15,162 - api.openai_api - INFO - {
  "id": "chatcmpl-BSc8H2hj9GZLiHqBB4l4Iy4YXHEmH",
  "object": "chat.completion",
  "created": 1746159465,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi v\u00e0 tr\u1ee9ng g\u00e0 \u1ed1p la\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"10g\",\n        \"calories\": \"220 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o (b\u00ed \u0111\u1ecf), Chi\u00ean (tr\u1ee9ng g\u00e0)\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"\u0111\u01b0\u1eddng\", \"h\u1ea1t ti\u00eau\", \"c\u1ea3i xoong\", \"g\u1ea1o\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"60g\",\n        \"fat\": \"15g\",\n        \"calories\": \"500 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea5p (c\u01a1m), Rim (s\u01b0\u1eddn), X\u00e0o (d\u1ee9a, c\u1ea3i xoong)\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u ki\u1ec3u mi\u1ec1n Trung\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"n\u01b0\u1edbc m\u1eafm\", \"t\u1ecfi\", \"ti\u00eau\", \"\u0111\u01b0\u1eddng\", \"h\u00e0nh t\u00edm (t\u00f9y ch\u1ecdn, b\u1ecf qua h\u00e0nh l\u00e1)\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"t\u1ecfi\", \"h\u1ea1t ti\u00eau\", \"\u0111\u01b0\u1eddng\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"10g\",\n        \"fat\": \"25g\",\n        \"calories\": \"330 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea5p (th\u1ecbt), Kho (th\u1ecbt kho t\u00e0u)\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"ch\u1ea5t b\u00e9o\", \"vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 606,
    "total_tokens": 1140,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:17:15,162 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:17:15,162 - api.openai_api - INFO - {
  "Thứ ba": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi và trứng gà ốp la",
      "ingredients": ["bí đỏ tươi", "trứng gà", "tỏi", "dầu ăn", "muối", "tiêu"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["dầu ăn", "muối", "tiêu"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "25g",
        "fat": "10g",
        "calories": "220 kcal"
      },
      "cooking_method": "Xào (bí đỏ), Chiên (trứng gà)",
      "food_groups": ["đạm", "tinh bột", "chất béo", "vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm trắng",
      "ingredients": ["sườn heo", "dứa tươi", "tỏi", "nước mắm", "đường", "hạt tiêu", "cải xoong", "gạo"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "60g",
        "fat": "15g",
        "calories": "500 kcal"
      },
      "cooking_method": "Hấp (cơm), Rim (sườn), Xào (dứa, cải xoong)",
      "food_groups": ["đạm", "tinh bột", "chất béo", "vitamin"]
    },
    "Bữa tối": {
      "name": "Thịt kho tàu kiểu miền Trung",
      "ingredients": ["thịt ba chỉ", "nước mắm", "tỏi", "tiêu", "đường", "hành tím (tùy chọn, bỏ qua hành lá)", "dầu ăn"],
      "preparation_time": 45,
      "estimated_cost": 69000,
      "reused_ingredients": ["nước mắm", "tỏi", "hạt tiêu", "đường"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "10g",
        "fat": "25g",
        "calories": "330 kcal"
      },
      "cooking_method": "Hấp (thịt), Kho (thịt kho tàu)",
      "food_groups": ["đạm", "chất béo", "vitamin"]
    }
  }
}
2025-05-02 11:17:15,167 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 11:17:15,168 - api.openai_api - INFO - Generated prompt for Thứ tư:
2025-05-02 11:17:15,168 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ tư với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ tư": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:17:15,168 - api.openai_api - INFO - Sending request to OpenAI API for Thứ tư
2025-05-02 11:17:18,082 - api.openai_api - INFO - Raw API Response for Thứ tư:
2025-05-02 11:17:18,082 - api.openai_api - INFO - {
  "id": "chatcmpl-BSc8KHxI30ESFDVRDQdCGNtMbZpqt",
  "object": "chat.completion",
  "created": 1746159468,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi v\u00e0 tr\u1ee9ng g\u00e0 lu\u1ed9c\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\", \"tr\u1ee9ng g\u00e0\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"10g\",\n        \"calories\": \"250kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o (b\u00ed \u0111\u1ecf), lu\u1ed9c (tr\u1ee9ng g\u00e0)\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"g\u1ea1o\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"55g\",\n        \"fat\": \"15g\",\n        \"calories\": \"450kcal\"\n      },\n      \"cooking_method\": \"rim (s\u01b0\u1eddn), lu\u1ed9c (g\u1ea1o), h\u1ea5p (d\u1ee9a)\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"C\u1ea3i xoong x\u00e0o t\u1ecfi v\u00e0 c\u00e1 h\u1ea5p\",\n      \"ingredients\": [\"c\u1ea3i xoong\", \"t\u1ecfi\", \"c\u00e1 (c\u00e1 qu\u1ea3 ho\u1eb7c c\u00e1 tr\u1eafm)\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"22g\",\n        \"carbs\": \"8g\",\n        \"fat\": \"7g\",\n        \"calories\": \"180kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o (c\u1ea3i xoong), h\u1ea5p (c\u00e1)\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"Vitamin\", \"Ch\u1ea5t b\u00e9o\", \"Ch\u1ea5t x\u01a1\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 530,
    "total_tokens": 1064,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:17:18,082 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:17:18,083 - api.openai_api - INFO - {
  "Thứ tư": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi và trứng gà luộc",
      "ingredients": ["bí đỏ", "tỏi", "trứng gà"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["tỏi"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "30g",
        "fat": "10g",
        "calories": "250kcal"
      },
      "cooking_method": "xào (bí đỏ), luộc (trứng gà)",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm trắng",
      "ingredients": ["sườn heo", "dứa", "gạo", "nước mắm", "hạt tiêu"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "55g",
        "fat": "15g",
        "calories": "450kcal"
      },
      "cooking_method": "rim (sườn), luộc (gạo), hấp (dứa)",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Cải xoong xào tỏi và cá hấp",
      "ingredients": ["cải xoong", "tỏi", "cá (cá quả hoặc cá trắm)"],
      "preparation_time": 40,
      "estimated_cost": 69000,
      "reused_ingredients": ["tỏi"],
      "nutrition_info": {
        "protein": "22g",
        "carbs": "8g",
        "fat": "7g",
        "calories": "180kcal"
      },
      "cooking_method": "xào (cải xoong), hấp (cá)",
      "food_groups": ["đạm", "Vitamin", "Chất béo", "Chất xơ"]
    }
  }
}
2025-05-02 11:17:18,083 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 11:17:18,083 - api.openai_api - INFO - Generated prompt for Thứ năm:
2025-05-02 11:17:18,083 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ năm với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ năm": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:17:18,083 - api.openai_api - INFO - Sending request to OpenAI API for Thứ năm
2025-05-02 11:17:20,385 - api.openai_api - INFO - Raw API Response for Thứ năm:
2025-05-02 11:17:20,386 - api.openai_api - INFO - {
  "id": "chatcmpl-BSc8Nm2g7u0foxjkTL21L799LLSVM",
  "object": "chat.completion",
  "created": 1746159471,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"b\u00e1nh m\u00ec\", \"tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, chi\u00ean\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u1ea3i xoong lu\u1ed9c\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"c\u1ea3i xoong\", \"n\u01b0\u1edbc m\u1eafm\", \"t\u1ecfi\", \"h\u1ea1t ti\u00eau\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 68000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"t\u1ecfi\", \"h\u1ea1t ti\u00eau\", \"d\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"18g\",\n        \"calories\": \"400 kcal\"\n      },\n      \"cooking_method\": \"rim, lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 389,
    "total_tokens": 923,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:17:20,386 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:17:20,386 - api.openai_api - INFO - {
  "Thứ năm": {
    "Bữa sáng": {
      "name": "Bánh mì trứng ốp la với bí đỏ xào tỏi",
      "ingredients": ["bánh mì", "trứng gà", "bí đỏ", "tỏi", "dầu ăn", "muối", "tiêu"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["dầu ăn", "muối", "tiêu"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "45g",
        "fat": "15g",
        "calories": "350 kcal"
      },
      "cooking_method": "xào, chiên",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn heo rim dứa và cải xoong luộc",
      "ingredients": ["sườn heo", "dứa", "cải xoong", "nước mắm", "tỏi", "hạt tiêu", "dầu ăn"],
      "preparation_time": 40,
      "estimated_cost": 68000,
      "reused_ingredients": ["nước mắm", "tỏi", "hạt tiêu", "dầu ăn"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "25g",
        "fat": "18g",
        "calories": "400 kcal"
      },
      "cooking_method": "rim, luộc",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:17:20,386 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 11:17:20,386 - api.openai_api - INFO - Generated prompt for Thứ sáu:
2025-05-02 11:17:20,386 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ sáu với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:17:20,387 - api.openai_api - INFO - Sending request to OpenAI API for Thứ sáu
2025-05-02 11:17:23,098 - api.openai_api - INFO - Raw API Response for Thứ sáu:
2025-05-02 11:17:23,098 - api.openai_api - INFO - {
  "id": "chatcmpl-BSc8QfhG8Lt7I4LiNSTmETgvjFSV4",
  "object": "chat.completion",
  "created": 1746159474,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Ch\u00e1o b\u00ed \u0111\u1ecf tr\u1ee9ng g\u00e0\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"g\u1ea1o t\u1ebb\", \"t\u1ecfi\", \"d\u1ea7u \u0103n nh\u1ecf\", \"mu\u1ed1i\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"mu\u1ed1i\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"50g\",\n        \"fat\": \"10g\",\n        \"calories\": \"330 kcal\"\n      },\n      \"cooking_method\": \"lu\u1ed9c, x\u00e0o\",\n      \"food_groups\": [\"Tinh b\u1ed9t\", \"\u0110\u1ea1m\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"d\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"18g\",\n        \"calories\": \"290 kcal\"\n      },\n      \"cooking_method\": \"rim, h\u1ea5p\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"G\u1ecfi c\u1ea3i xoong th\u1ecbt ba ch\u1ec9 lu\u1ed9c\",\n      \"ingredients\": [\"c\u1ea3i xoong\", \"th\u1ecbt ba ch\u1ec9\", \"\u1edbt\", \"n\u01b0\u1edbc m\u1eafm\", \"chanh\", \"\u0111\u01b0\u1eddng\", \"t\u1ecfi\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 68000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"\u1edbt\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"5g\",\n        \"fat\": \"15g\",\n        \"calories\": \"220 kcal\"\n      },\n      \"cooking_method\": \"lu\u1ed9c, tr\u1ed9n\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Ch\u1ea5t x\u01a1\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 536,
    "completion_tokens": 526,
    "total_tokens": 1062,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:17:23,098 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:17:23,098 - api.openai_api - INFO - {
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "Cháo bí đỏ trứng gà",
      "ingredients": ["bí đỏ tươi", "trứng gà", "gạo tẻ", "tỏi", "dầu ăn nhỏ", "muối"],
      "preparation_time": 40,
      "estimated_cost": 65000,
      "reused_ingredients": ["dầu ăn", "muối"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "50g",
        "fat": "10g",
        "calories": "330 kcal"
      },
      "cooking_method": "luộc, xào",
      "food_groups": ["Tinh bột", "Đạm", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa",
      "ingredients": ["sườn heo", "dứa tươi", "tỏi", "nước mắm", "hạt tiêu", "dầu ăn"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "hạt tiêu", "dầu ăn"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "15g",
        "fat": "18g",
        "calories": "290 kcal"
      },
      "cooking_method": "rim, hấp",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo"]
    },
    "Bữa tối": {
      "name": "Gỏi cải xoong thịt ba chỉ luộc",
      "ingredients": ["cải xoong", "thịt ba chỉ", "ớt", "nước mắm", "chanh", "đường", "tỏi"],
      "preparation_time": 30,
      "estimated_cost": 68000,
      "reused_ingredients": ["nước mắm", "ớt"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "5g",
        "fat": "15g",
        "calories": "220 kcal"
      },
      "cooking_method": "luộc, trộn",
      "food_groups": ["Đạm", "Chất xơ", "Vitamin"]
    }
  }
}
2025-05-02 11:17:23,100 - api.openai_api - INFO - Generating menu for Thứ bảy
2025-05-02 11:17:23,100 - api.openai_api - INFO - Generated prompt for Thứ bảy:
2025-05-02 11:17:23,100 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ bảy với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ bảy": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:17:23,100 - api.openai_api - INFO - Sending request to OpenAI API for Thứ bảy
2025-05-02 11:17:26,851 - api.openai_api - INFO - Raw API Response for Thứ bảy:
2025-05-02 11:17:26,852 - api.openai_api - INFO - {
  "id": "chatcmpl-BSc8S1Mw0uJXtQTBbd8nBgvyjfVP4",
  "object": "chat.completion",
  "created": 1746159476,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 b\u1ea3y\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf h\u1ea5p tr\u1ee9ng g\u00e0 v\u00e0 rau c\u1ea3i xoong\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\", \"c\u1ea3i xoong\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"10g\",\n        \"calories\": \"220kcal\"\n      },\n      \"cooking_method\": \"h\u1ea5p, lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m t\u1ea5m\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"g\u1ea1o\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"50g\",\n        \"fat\": \"12g\",\n        \"calories\": \"480kcal\"\n      },\n      \"cooking_method\": \"rim, lu\u1ed9c, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 55,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"20g\",\n        \"calories\": \"350kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, kho\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 536,
    "completion_tokens": 527,
    "total_tokens": 1063,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:17:26,852 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:17:26,852 - api.openai_api - INFO - {
  "Thứ bảy": {
    "Bữa sáng": {
      "name": "Bí đỏ hấp trứng gà và rau cải xoong",
      "ingredients": ["bí đỏ", "trứng gà", "cải xoong", "tỏi", "dầu ăn"],
      "preparation_time": 30,
      "estimated_cost": 65000,
      "reused_ingredients": ["tỏi"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "20g",
        "fat": "10g",
        "calories": "220kcal"
      },
      "cooking_method": "hấp, luộc",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm tấm",
      "ingredients": ["sườn heo", "dứa", "gạo", "tỏi", "nước mắm", "hạt tiêu"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "tỏi"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "50g",
        "fat": "12g",
        "calories": "480kcal"
      },
      "cooking_method": "rim, luộc, hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Thịt kho tàu bí đỏ xào tỏi",
      "ingredients": ["thịt ba chỉ", "bí đỏ", "tỏi", "nước mắm", "hạt tiêu"],
      "preparation_time": 55,
      "estimated_cost": 69000,
      "reused_ingredients": ["nước mắm", "tỏi"],
      "nutrition_info": {
        "protein": "18g",
        "carbs": "15g",
        "fat": "20g",
        "calories": "350kcal"
      },
      "cooking_method": "xào, kho",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:17:33,618 - api.openai_api - INFO - Sending recipe request to OpenAI API with model: gpt-4.1-nano
2025-05-02 11:17:37,833 - api.openai_api - INFO - Raw API Response Object:
2025-05-02 11:17:37,834 - api.openai_api - INFO - {
  "id": "chatcmpl-BSc8dkUpDpYenWGYq2W0Nl7cTYn03",
  "object": "chat.completion",
  "created": 1746159487,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"recipe\": {\n    \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi - Phong c\u00e1ch mi\u1ec1n Trung Vi\u1ec7t Nam\",\n    \"cuisine_type\": \"\u1ea8m th\u1ef1c mi\u1ec1n Trung Vi\u1ec7t Nam\",\n    \"ingredients\": [\n      {\n        \"item\": \"B\u00e1nh m\u00ec baguette\",\n        \"amount\": \"1\",\n        \"unit\": \" chi\u1ebfc\"\n      },\n      {\n        \"item\": \"Tr\u1ee9ng g\u00e0\",\n        \"amount\": \"2\",\n        \"unit\": \" qu\u1ea3\"\n      },\n      {\n        \"item\": \"B\u00ed \u0111\u1ecf\",\n        \"amount\": \"200\",\n        \"unit\": \"g\"\n      },\n      {\n        \"item\": \"T\u1ecfi\",\n        \"amount\": \"3\",\n        \"unit\": \" t\u00e9p\"\n      },\n      {\n        \"item\": \"D\u1ea7u \u0103n\",\n        \"amount\": \"2\",\n        \"unit\": \" mu\u1ed7ng canh\"\n      },\n      {\n        \"item\": \"Mu\u1ed1i\",\n        \"amount\": \"1/2\",\n        \"unit\": \" mu\u1ed7ng c\u00e0 ph\u00ea\"\n      },\n      {\n        \"item\": \"Ti\u00eau\",\n        \"amount\": \"1/4\",\n        \"unit\": \" mu\u1ed7ng c\u00e0 ph\u00ea\"\n      }\n    ],\n    \"steps\": [\n      {\n        \"step\": 1,\n        \"description\": \"G\u1ecdt v\u1ecf b\u00ed \u0111\u1ecf, c\u1eaft th\u00e0nh mi\u1ebfng nh\u1ecf v\u00e0 r\u1eeda s\u1ea1ch.\"\n      },\n      {\n        \"step\": 2,\n        \"description\": \"B\u00f3c v\u1ecf t\u1ecfi, \u0111\u1eadp d\u1eadp v\u00e0 b\u0103m nh\u1ecf.\"\n      },\n      {\n        \"step\": 3,\n        \"description\": \"Trong ch\u1ea3o, l\u00e0m n\u00f3ng 1 mu\u1ed7ng canh d\u1ea7u \u0103n, cho t\u1ecfi v\u00e0o phi th\u01a1m v\u00e0ng.\"\n      },\n      {\n        \"step\": 4,\n        \"description\": \"Th\u00eam b\u00ed \u0111\u1ecf v\u00e0o x\u00e0o c\u00f9ng t\u1ecfi, n\u00eam mu\u1ed1i, ti\u00eau, \u0111\u1ea3o \u0111\u1ec1u cho b\u00ed ch\u00edn m\u1ec1m, kho\u1ea3ng 5-7 ph\u00fat. Sau \u0111\u00f3 \u0111\u1ec3 ra \u0111\u0129a.\"\n      },\n      {\n        \"step\": 5,\n        \"description\": \"Trong ch\u1ea3o kh\u00e1c, l\u00e0m n\u00f3ng 1 mu\u1ed7ng canh d\u1ea7u \u0103n, \u0111\u1eadp tr\u1ee9ng v\u00e0o, r\u00e1n \u1ed1p la cho l\u00f2ng \u0111\u1ecf c\u00f2n ch\u1ea3y ho\u1eb7c ch\u00edn t\u00f9y \u00fd.\"\n      },\n      {\n        \"step\": 6,\n        \"description\": \"Trong khi \u0111\u00f3, c\u1eaft b\u00e1nh m\u00ec th\u00e0nh l\u00e1t d\u00e0y v\u1eeba \u0103n, c\u00f3 th\u1ec3 n\u01b0\u1edbng s\u01a1 qua cho gi\u00f2n.\"\n      },\n      {\n        \"step\": 7,\n        \"description\": \"X\u1ebfp b\u00e1nh m\u00ec ra \u0111\u0129a, \u0111\u1eb7t tr\u1ee9ng \u1ed1p la l\u00ean tr\u00ean, k\u00e8m b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi b\u00ean c\u1ea1nh ho\u1eb7c tr\u00ean b\u00e1nh m\u00ec t\u00f9y s\u1edf th\u00edch.\"\n      },\n      {\n        \"step\": 8,\n        \"description\": \"Trang tr\u00ed th\u00eam \u00edt ti\u00eau xay v\u00e0 rau s\u1ed1ng n\u1ebfu th\u00edch, th\u01b0\u1edfng th\u1ee9c ngay khi c\u00f2n n\u00f3ng.\"\n      }\n    ],\n    \"preparation_time\": \"10\",\n    \"cooking_time\": \"15\",\n    \"servings\": \"2\",\n    \"difficulty\": \"Trung b\u00ecnh\"\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 253,
    "completion_tokens": 665,
    "total_tokens": 918,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:17:37,836 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:17:37,836 - api.openai_api - INFO - {
  "recipe": {
    "name": "Bánh mì trứng ốp la với bí đỏ xào tỏi - Phong cách miền Trung Việt Nam",
    "cuisine_type": "Ẩm thực miền Trung Việt Nam",
    "ingredients": [
      {
        "item": "Bánh mì baguette",
        "amount": "1",
        "unit": " chiếc"
      },
      {
        "item": "Trứng gà",
        "amount": "2",
        "unit": " quả"
      },
      {
        "item": "Bí đỏ",
        "amount": "200",
        "unit": "g"
      },
      {
        "item": "Tỏi",
        "amount": "3",
        "unit": " tép"
      },
      {
        "item": "Dầu ăn",
        "amount": "2",
        "unit": " muỗng canh"
      },
      {
        "item": "Muối",
        "amount": "1/2",
        "unit": " muỗng cà phê"
      },
      {
        "item": "Tiêu",
        "amount": "1/4",
        "unit": " muỗng cà phê"
      }
    ],
    "steps": [
      {
        "step": 1,
        "description": "Gọt vỏ bí đỏ, cắt thành miếng nhỏ và rửa sạch."
      },
      {
        "step": 2,
        "description": "Bóc vỏ tỏi, đập dập và băm nhỏ."
      },
      {
        "step": 3,
        "description": "Trong chảo, làm nóng 1 muỗng canh dầu ăn, cho tỏi vào phi thơm vàng."
      },
      {
        "step": 4,
        "description": "Thêm bí đỏ vào xào cùng tỏi, nêm muối, tiêu, đảo đều cho bí chín mềm, khoảng 5-7 phút. Sau đó để ra đĩa."
      },
      {
        "step": 5,
        "description": "Trong chảo khác, làm nóng 1 muỗng canh dầu ăn, đập trứng vào, rán ốp la cho lòng đỏ còn chảy hoặc chín tùy ý."
      },
      {
        "step": 6,
        "description": "Trong khi đó, cắt bánh mì thành lát dày vừa ăn, có thể nướng sơ qua cho giòn."
      },
      {
        "step": 7,
        "description": "Xếp bánh mì ra đĩa, đặt trứng ốp la lên trên, kèm bí đỏ xào tỏi bên cạnh hoặc trên bánh mì tùy sở thích."
      },
      {
        "step": 8,
        "description": "Trang trí thêm ít tiêu xay và rau sống nếu thích, thưởng thức ngay khi còn nóng."
      }
    ],
    "preparation_time": "10",
    "cooking_time": "15",
    "servings": "2",
    "difficulty": "Trung bình"
  }
}
2025-05-02 11:23:47,956 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 11:23:47,956 - api.openai_api - INFO - Generated prompt for Thứ hai:
2025-05-02 11:23:47,957 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ hai với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ hai": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:23:47,959 - api.openai_api - INFO - Sending request to OpenAI API for Thứ hai
2025-05-02 11:23:51,024 - api.openai_api - INFO - Raw API Response for Thứ hai:
2025-05-02 11:23:51,024 - api.openai_api - INFO - {
  "id": "chatcmpl-BScEfVrNSj5YQjOIw8Q6agyiqE5j8",
  "object": "chat.completion",
  "created": 1746159861,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi v\u00e0 tr\u1ee9ng g\u00e0 \u1ed1p la\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"gia v\u1ecb (mu\u1ed1i, ti\u00eau)\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"10g\",\n        \"calories\": \"210 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o v\u00e0 chi\u00ean\",\n      \"food_groups\": [\"protein\", \"\u0111\u1ea1m; tinh b\u1ed9t; ch\u1ea5t b\u00e9o; vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\", \"\u0111\u01b0\u1eddng, ti\u00eau\", \"g\u1ea1o\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"50g\",\n        \"fat\": \"20g\",\n        \"calories\": \"450 kcal\"\n      },\n      \"cooking_method\": \"rim v\u00e0 lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m; tinh b\u1ed9t; ch\u1ea5t b\u00e9o; vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"C\u1ea3i xoong x\u00e0o \u1edbt v\u00e0 th\u1ecbt ba ch\u1ec9 lu\u1ed9c\",\n      \"ingredients\": [\"c\u1ea3i xoong\", \"\u1edbt\", \"th\u1ecbt ba ch\u1ec9\", \"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\", \"gia v\u1ecb\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"8g\",\n        \"fat\": \"15g\",\n        \"calories\": \"220 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o v\u00e0 lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m; vitamin; ch\u1ea5t b\u00e9o; tinh b\u1ed9t\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 533,
    "total_tokens": 1067,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:23:51,025 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:23:51,026 - api.openai_api - INFO - {
  "Thứ hai": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi và trứng gà ốp la",
      "ingredients": ["bí đỏ tươi", "trứng gà", "tỏi", "dầu ăn", "gia vị (muối, tiêu)"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["tỏi"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "20g",
        "fat": "10g",
        "calories": "210 kcal"
      },
      "cooking_method": "xào và chiên",
      "food_groups": ["protein", "đạm; tinh bột; chất béo; vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm trắng",
      "ingredients": ["sườn heo", "dứa tươi", "tỏi", "dầu ăn", "nước mắm", "đường, tiêu", "gạo"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["tỏi", "nước mắm"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "50g",
        "fat": "20g",
        "calories": "450 kcal"
      },
      "cooking_method": "rim và luộc",
      "food_groups": ["đạm; tinh bột; chất béo; vitamin"]
    },
    "Bữa tối": {
      "name": "Cải xoong xào ớt và thịt ba chỉ luộc",
      "ingredients": ["cải xoong", "ớt", "thịt ba chỉ", "dầu ăn", "nước mắm", "gia vị"],
      "preparation_time": 30,
      "estimated_cost": 69000,
      "reused_ingredients": ["nước mắm"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "8g",
        "fat": "15g",
        "calories": "220 kcal"
      },
      "cooking_method": "xào và luộc",
      "food_groups": ["đạm; vitamin; chất béo; tinh bột"]
    }
  }
}
2025-05-02 11:23:51,027 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 11:23:51,027 - api.openai_api - INFO - Generated prompt for Thứ ba:
2025-05-02 11:23:51,027 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ ba với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ ba": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:23:51,028 - api.openai_api - INFO - Sending request to OpenAI API for Thứ ba
2025-05-02 11:23:58,050 - api.openai_api - INFO - Raw API Response for Thứ ba:
2025-05-02 11:23:58,050 - api.openai_api - INFO - {
  "id": "chatcmpl-BScEiQmL7wZVqFb4HQ0pWPciQhTBI",
  "object": "chat.completion",
  "created": 1746159864,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi v\u00e0 tr\u1ee9ng g\u00e0 \u1ed1p la\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"10g\",\n        \"calories\": \"220 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o (b\u00ed \u0111\u1ecf), Chi\u00ean (tr\u1ee9ng g\u00e0 \u1ed1p la)\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"\u0111\u01b0\u1eddng\", \"h\u1ea1t ti\u00eau\", \"g\u1ea1o\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"25g\",\n        \"carbs\": \"70g\",\n        \"fat\": \"15g\",\n        \"calories\": \"550 kcal\"\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng (s\u01b0\u1eddn), Rim (d\u1ee9a), Lu\u1ed9c (g\u1ea1o)\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"G\u1ecfi c\u1ea3i xoong t\u00f4m th\u1ecbt v\u00e0 canh b\u00ed \u0111\u1ecf\",\n      \"ingredients\": [\"c\u1ea3i xoong\", \"t\u00f4m t\u01b0\u01a1i\", \"th\u1ecbt ba ch\u1ec9\", \"b\u00ed \u0111\u1ecf\", \"n\u01b0\u1edbc m\u1eafm\", \"\u1edbt\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"\u1edbt\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"12g\",\n        \"calories\": \"290 kcal\"\n      },\n      \"cooking_method\": \"Lu\u1ed9c (t\u00f4m, b\u00ed \u0111\u1ecf), X\u00e0o (th\u1ecbt ba ch\u1ec9), Tr\u1ed9n (g\u1ecfi c\u1ea3i xoong)\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 619,
    "total_tokens": 1153,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:23:58,053 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:23:58,054 - api.openai_api - INFO - {
  "Thứ ba": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi và trứng gà ốp la",
      "ingredients": ["bí đỏ tươi", "trứng gà", "tỏi", "dầu ăn", "muối", "hạt tiêu"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["dầu ăn", "muối", "hạt tiêu"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "30g",
        "fat": "10g",
        "calories": "220 kcal"
      },
      "cooking_method": "Xào (bí đỏ), Chiên (trứng gà ốp la)",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm trắng",
      "ingredients": ["sườn heo", "dứa tươi", "tỏi", "nước mắm", "đường", "hạt tiêu", "gạo"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "25g",
        "carbs": "70g",
        "fat": "15g",
        "calories": "550 kcal"
      },
      "cooking_method": "Nướng (sườn), Rim (dứa), Luộc (gạo)",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Gỏi cải xoong tôm thịt và canh bí đỏ",
      "ingredients": ["cải xoong", "tôm tươi", "thịt ba chỉ", "bí đỏ", "nước mắm", "ớt", "tỏi", "dầu ăn"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "ớt", "tỏi", "dầu ăn"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "20g",
        "fat": "12g",
        "calories": "290 kcal"
      },
      "cooking_method": "Luộc (tôm, bí đỏ), Xào (thịt ba chỉ), Trộn (gỏi cải xoong)",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:23:58,056 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 11:23:58,056 - api.openai_api - INFO - Generated prompt for Thứ tư:
2025-05-02 11:23:58,056 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ tư với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ tư": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:23:58,058 - api.openai_api - INFO - Sending request to OpenAI API for Thứ tư
2025-05-02 11:24:09,566 - api.openai_api - INFO - Raw API Response for Thứ tư:
2025-05-02 11:24:09,566 - api.openai_api - INFO - {
  "id": "chatcmpl-BScEpvg43ysWcrDoSDVOgw3qWefJT",
  "object": "chat.completion",
  "created": 1746159871,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi v\u00e0 tr\u1ee9ng g\u00e0 lu\u1ed9c\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"6g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"7g\",\n        \"calories\": \"180 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"rau qu\u1ea3\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"t\u01b0\u01a1ng m\u1eafm\", \"ti\u00eau\", \"d\u1ea7u \u0103n\", \"g\u1ea1o\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"t\u01b0\u01a1ng m\u1eafm\", \"ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"55g\",\n        \"fat\": \"15g\",\n        \"calories\": \"470 kcal\"\n      },\n      \"cooking_method\": \"rim, lu\u1ed9c, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"rau qu\u1ea3\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"C\u1ea3i xoong x\u00e0o th\u1ecbt ba ch\u1ec9 v\u00e0 n\u01b0\u1edbc m\u1eafm ch\u1ea5m\",\n      \"ingredients\": [\"c\u1ea3i xoong\", \"th\u1ecbt ba ch\u1ec9\", \"n\u01b0\u1edbc m\u1eafm\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"8g\",\n        \"fat\": \"20g\",\n        \"calories\": \"280 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, ch\u1ea5m\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"ch\u1ea5t b\u00e9o\", \"rau qu\u1ea3\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 531,
    "total_tokens": 1065,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:24:09,569 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:24:09,569 - api.openai_api - INFO - {
  "Thứ tư": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi và trứng gà luộc",
      "ingredients": ["bí đỏ tươi", "trứng gà", "tỏi", "dầu ăn"],
      "preparation_time": 30,
      "estimated_cost": 65000,
      "reused_ingredients": ["tỏi"],
      "nutrition_info": {
        "protein": "6g",
        "carbs": "20g",
        "fat": "7g",
        "calories": "180 kcal"
      },
      "cooking_method": "xào, luộc",
      "food_groups": ["đạm", "tinh bột", "chất béo", "rau quả"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm trắng",
      "ingredients": ["sườn heo", "dứa tươi", "tương mắm", "tiêu", "dầu ăn", "gạo"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["tương mắm", "tiêu"],
      "nutrition_info": {
        "protein": "18g",
        "carbs": "55g",
        "fat": "15g",
        "calories": "470 kcal"
      },
      "cooking_method": "rim, luộc, hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "rau quả"]
    },
    "Bữa tối": {
      "name": "Cải xoong xào thịt ba chỉ và nước mắm chấm",
      "ingredients": ["cải xoong", "thịt ba chỉ", "nước mắm", "tỏi", "dầu ăn"],
      "preparation_time": 40,
      "estimated_cost": 65000,
      "reused_ingredients": ["nước mắm", "tỏi", "dầu ăn"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "8g",
        "fat": "20g",
        "calories": "280 kcal"
      },
      "cooking_method": "xào, chấm",
      "food_groups": ["đạm", "chất béo", "rau quả"]
    }
  }
}
2025-05-02 11:24:09,571 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 11:24:09,571 - api.openai_api - INFO - Generated prompt for Thứ năm:
2025-05-02 11:24:09,571 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ năm với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ năm": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:24:09,574 - api.openai_api - INFO - Sending request to OpenAI API for Thứ năm
2025-05-02 11:24:12,457 - api.openai_api - INFO - Raw API Response for Thứ năm:
2025-05-02 11:24:12,457 - api.openai_api - INFO - {
  "id": "chatcmpl-BScF1dfvz1reqJg75nb8D0S8qynTW",
  "object": "chat.completion",
  "created": 1746159883,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"b\u00e1nh m\u00ec\", \"tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"ti\u00eau\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"15g\",\n        \"calories\": \"400 kcal\"\n      },\n      \"cooking_method\": \"chi\u00ean, x\u00e0o\",\n      \"food_groups\": [\"protein\", \"tinh b\u1ed9t\", \"rau c\u1ee7\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a \u0103n k\u00e8m c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"\u0111\u01b0\u1eddng\", \"ti\u00eau\", \"d\u1ea7u \u0103n\", \"c\u01a1m\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"60g\",\n        \"fat\": \"18g\",\n        \"calories\": \"550 kcal\"\n      },\n      \"cooking_method\": \"rim, lu\u1ed9c\",\n      \"food_groups\": [\"protein\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"rau c\u1ee7\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"C\u1ea3i xoong x\u00e0o t\u1ecfi v\u00e0 th\u1ecbt ba ch\u1ec9 rang mu\u1ed1i\",\n      \"ingredients\": [\"c\u1ea3i xoong\", \"th\u1ecbt ba ch\u1ec9\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"mu\u1ed1i\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"8g\",\n        \"fat\": \"20g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, rang\",\n      \"food_groups\": [\"protein\", \"rau c\u1ee7\", \"ch\u1ea5t b\u00e9o\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 534,
    "total_tokens": 1068,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:24:12,461 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:24:12,461 - api.openai_api - INFO - {
  "Thứ năm": {
    "Bữa sáng": {
      "name": "Bánh mì trứng ốp la với bí đỏ xào tỏi",
      "ingredients": ["bánh mì", "trứng gà", "bí đỏ", "tỏi", "dầu ăn", "muối", "tiêu"],
      "preparation_time": 30,
      "estimated_cost": 70000,
      "reused_ingredients": ["tỏi"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "45g",
        "fat": "15g",
        "calories": "400 kcal"
      },
      "cooking_method": "chiên, xào",
      "food_groups": ["protein", "tinh bột", "rau củ"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa ăn kèm cơm trắng",
      "ingredients": ["sườn heo", "dứa", "tỏi", "nước mắm", "đường", "tiêu", "dầu ăn", "cơm"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "tỏi"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "60g",
        "fat": "18g",
        "calories": "550 kcal"
      },
      "cooking_method": "rim, luộc",
      "food_groups": ["protein", "tinh bột", "chất béo", "rau củ"]
    },
    "Bữa tối": {
      "name": "Cải xoong xào tỏi và thịt ba chỉ rang muối",
      "ingredients": ["cải xoong", "thịt ba chỉ", "tỏi", "nước mắm", "muối", "dầu ăn"],
      "preparation_time": 40,
      "estimated_cost": 70000,
      "reused_ingredients": ["tỏi"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "8g",
        "fat": "20g",
        "calories": "350 kcal"
      },
      "cooking_method": "xào, rang",
      "food_groups": ["protein", "rau củ", "chất béo"]
    }
  }
}
2025-05-02 11:24:12,463 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 11:24:12,463 - api.openai_api - INFO - Generated prompt for Thứ sáu:
2025-05-02 11:24:12,463 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ sáu với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:24:12,465 - api.openai_api - INFO - Sending request to OpenAI API for Thứ sáu
2025-05-02 11:24:16,872 - api.openai_api - INFO - Raw API Response for Thứ sáu:
2025-05-02 11:24:16,873 - api.openai_api - INFO - {
  "id": "chatcmpl-BScF4YAGWsfUqL3jB6LWYu8qYnqRl",
  "object": "chat.completion",
  "created": 1746159886,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u00e0 b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"b\u00e1nh m\u00ec\", \"tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": 12,\n        \"carbs\": 45,\n        \"fat\": 15,\n        \"calories\": 350\n      },\n      \"cooking_method\": \"chi\u00ean, x\u00e0o\",\n      \"food_groups\": [\"protein\", \"carbohydrate\", \"vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 rau c\u1ea3i xoong tr\u1ed9n chua ng\u1ecdt\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"c\u1ea3i xoong\", \"n\u01b0\u1edbc m\u1eafm\", \"\u0111\u01b0\u1eddng\", \"t\u1ecfi\", \"\u1edbt\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"\u0111\u01b0\u1eddng\", \"t\u1ecfi\", \"\u1edbt\", \"d\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": 20,\n        \"carbs\": 25,\n        \"fat\": 18,\n        \"calories\": 420\n      },\n      \"cooking_method\": \"rim, tr\u1ed9n\",\n      \"food_groups\": [\"protein\", \"vitamin\", \"ch\u1ea5t b\u00e9o\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 536,
    "completion_tokens": 380,
    "total_tokens": 916,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:24:16,878 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:24:16,878 - api.openai_api - INFO - {
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "Bánh mì trứng ốp la và bí đỏ xào tỏi",
      "ingredients": ["bánh mì", "trứng gà", "bí đỏ", "tỏi", "dầu ăn", "muối", "tiêu"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["dầu ăn", "muối", "tiêu"],
      "nutrition_info": {
        "protein": 12,
        "carbs": 45,
        "fat": 15,
        "calories": 350
      },
      "cooking_method": "chiên, xào",
      "food_groups": ["protein", "carbohydrate", "vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn heo rim dứa và rau cải xoong trộn chua ngọt",
      "ingredients": ["sườn heo", "dứa", "cải xoong", "nước mắm", "đường", "tỏi", "ớt", "dầu ăn"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "đường", "tỏi", "ớt", "dầu ăn"],
      "nutrition_info": {
        "protein": 20,
        "carbs": 25,
        "fat": 18,
        "calories": 420
      },
      "cooking_method": "rim, trộn",
      "food_groups": ["protein", "vitamin", "chất béo"]
    }
  }
}
2025-05-02 11:25:52,457 - api.openai_api - INFO - Sending recipe request to OpenAI API with model: gpt-4.1-nano
2025-05-02 11:25:56,711 - api.openai_api - INFO - Raw API Response Object:
2025-05-02 11:25:56,711 - api.openai_api - INFO - {
  "id": "chatcmpl-BScGgvR82GHWVjJnjkSOfaJ9kjb18",
  "object": "chat.completion",
  "created": 1746159986,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"recipe\": {\n    \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 rau c\u1ea3i xoong tr\u1ed9n chua ng\u1ecdt\",\n    \"cuisine_type\": \"\u1ea8m th\u1ef1c mi\u1ec1n Trung Vi\u1ec7t Nam\",\n    \"ingredients\": [\n      {\n        \"item\": \"S\u01b0\u1eddn heo\",\n        \"amount\": \"500\",\n        \"unit\": \"g\"\n      },\n      {\n        \"item\": \"D\u1ee9a (th\u01a1m)\",\n        \"amount\": \"1\",\n        \"unit\": \" qu\u1ea3\"\n      },\n      {\n        \"item\": \"Rau c\u1ea3i xoong\",\n        \"amount\": \"200\",\n        \"unit\": \"g\"\n      },\n      {\n        \"item\": \"T\u1ecfi\",\n        \"amount\": \"3\",\n        \"unit\": \" t\u00e9p\"\n      },\n      {\n        \"item\": \"H\u00e0nh t\u00edm\",\n        \"amount\": \"2\",\n        \"unit\": \" c\u1ee7\"\n      },\n      {\n        \"item\": \"N\u01b0\u1edbc m\u1eafm\",\n        \"amount\": \"3\",\n        \"unit\": \" mu\u1ed7ng canh\"\n      },\n      {\n        \"item\": \"\u0110\u01b0\u1eddng\",\n        \"amount\": \"2\",\n        \"unit\": \" mu\u1ed7ng canh\"\n      },\n      {\n        \"item\": \"D\u1ea7u \u0103n\",\n        \"amount\": \"3\",\n        \"unit\": \" mu\u1ed7ng canh\"\n      },\n      {\n        \"item\": \"Gi\u1ea5m tr\u1eafng\",\n        \"amount\": \"2\",\n        \"unit\": \" mu\u1ed7ng canh\"\n      },\n      {\n        \"item\": \"Ti\u00eau\",\n        \"amount\": \"1/2\",\n        \"unit\": \" mu\u1ed7ng c\u00e0 ph\u00ea\"\n      },\n      {\n        \"item\": \"Mu\u1ed1i\",\n        \"amount\": \"1/2\",\n        \"unit\": \" mu\u1ed7ng c\u00e0 ph\u00ea\"\n      }\n    ],\n    \"steps\": [\n      {\n        \"step\": 1,\n        \"description\": \"S\u01b0\u1eddn heo r\u1eeda s\u1ea1ch, ch\u1eb7t th\u00e0nh t\u1eebng mi\u1ebfng v\u1eeba \u0103n, \u01b0\u1edbp v\u1edbi 1 mu\u1ed7ng mu\u1ed1i, 1 mu\u1ed7ng ti\u00eau, \u0111\u1ec3 th\u1ea5m trong 15 ph\u00fat.\"\n      },\n      {\n        \"step\": 2,\n        \"description\": \"D\u1ee9a g\u1ecdt v\u1ecf, b\u1ecf m\u1eaft, th\u00e1i l\u00e1t m\u1ecfng. T\u1ecfi v\u00e0 h\u00e0nh t\u00edm b\u0103m nh\u1ecf.\"\n      },\n      {\n        \"step\": 3,\n        \"description\": \"Trong ch\u1ea3o, l\u00e0m n\u00f3ng 2 mu\u1ed7ng canh d\u1ea7u \u0103n, cho s\u01b0\u1eddn heo v\u00e0o x\u00e0o s\u0103n, r\u1ed3i th\u00eam t\u1ecfi, h\u00e0nh t\u00edm b\u0103m v\u00e0o phi th\u01a1m.\"\n      },\n      {\n        \"step\": 4,\n        \"description\": \"Cho d\u1ee9a v\u00e0o x\u00e0o chung v\u1edbi s\u01b0\u1eddn, th\u00eam 2 mu\u1ed7ng canh n\u01b0\u1edbc m\u1eafm, 1 mu\u1ed7ng canh \u0111\u01b0\u1eddng, \u0111\u1ea3o \u0111\u1ec1u. Th\u00eam m\u1ed9t \u00edt n\u01b0\u1edbc \u0111\u1ec3 rim, \u0111un nh\u1ecf l\u1eeda cho s\u01b0\u1eddn m\u1ec1m v\u00e0 th\u1ea5m gia v\u1ecb, kho\u1ea3ng 30 ph\u00fat.\"\n      },\n      {\n        \"step\": 5,\n        \"description\": \"Trong khi \u0111\u00f3, r\u1eeda s\u1ea1ch rau c\u1ea3i xoong, \u0111\u1ec3 r\u00e1o n\u01b0\u1edbc. Pha n\u01b0\u1edbc tr\u1ed9n chua ng\u1ecdt: trong b\u00e1t nh\u1ecf, pha 2 mu\u1ed7ng canh gi\u1ea5m tr\u1eafng, 1 mu\u1ed7ng canh \u0111\u01b0\u1eddng, 1 mu\u1ed7ng canh n\u01b0\u1edbc m\u1eafm, khu\u1ea5y \u0111\u1ec1u cho tan.\"\n      },\n      {\n        \"step\": 6,\n        \"description\": \"Sau khi s\u01b0\u1eddn rim m\u1ec1m, t\u1eaft b\u1ebfp, r\u1eafc ti\u00eau l\u00ean tr\u00ean. Rau c\u1ea3i xoong tr\u1ed9n v\u1edbi ph\u1ea7n n\u01b0\u1edbc tr\u1ed9n chua ng\u1ecdt, \u0111\u1ec3 ri\u00eang.\"\n      },\n      {\n        \"step\": 7,\n        \"description\": \"D\u1ecdn m\u00f3n s\u01b0\u1eddn rim d\u1ee9a ra \u0111\u0129a, \u0103n k\u00e8m",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "length"
    }
  ],
  "usage": {
    "prompt_tokens": 256,
    "completion_tokens": 800,
    "total_tokens": 1056,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:25:56,714 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:25:56,714 - api.openai_api - INFO - {
  "recipe": {
    "name": "Sườn heo rim dứa và rau cải xoong trộn chua ngọt",
    "cuisine_type": "Ẩm thực miền Trung Việt Nam",
    "ingredients": [
      {
        "item": "Sườn heo",
        "amount": "500",
        "unit": "g"
      },
      {
        "item": "Dứa (thơm)",
        "amount": "1",
        "unit": " quả"
      },
      {
        "item": "Rau cải xoong",
        "amount": "200",
        "unit": "g"
      },
      {
        "item": "Tỏi",
        "amount": "3",
        "unit": " tép"
      },
      {
        "item": "Hành tím",
        "amount": "2",
        "unit": " củ"
      },
      {
        "item": "Nước mắm",
        "amount": "3",
        "unit": " muỗng canh"
      },
      {
        "item": "Đường",
        "amount": "2",
        "unit": " muỗng canh"
      },
      {
        "item": "Dầu ăn",
        "amount": "3",
        "unit": " muỗng canh"
      },
      {
        "item": "Giấm trắng",
        "amount": "2",
        "unit": " muỗng canh"
      },
      {
        "item": "Tiêu",
        "amount": "1/2",
        "unit": " muỗng cà phê"
      },
      {
        "item": "Muối",
        "amount": "1/2",
        "unit": " muỗng cà phê"
      }
    ],
    "steps": [
      {
        "step": 1,
        "description": "Sườn heo rửa sạch, chặt thành từng miếng vừa ăn, ướp với 1 muỗng muối, 1 muỗng tiêu, để thấm trong 15 phút."
      },
      {
        "step": 2,
        "description": "Dứa gọt vỏ, bỏ mắt, thái lát mỏng. Tỏi và hành tím băm nhỏ."
      },
      {
        "step": 3,
        "description": "Trong chảo, làm nóng 2 muỗng canh dầu ăn, cho sườn heo vào xào săn, rồi thêm tỏi, hành tím băm vào phi thơm."
      },
      {
        "step": 4,
        "description": "Cho dứa vào xào chung với sườn, thêm 2 muỗng canh nước mắm, 1 muỗng canh đường, đảo đều. Thêm một ít nước để rim, đun nhỏ lửa cho sườn mềm và thấm gia vị, khoảng 30 phút."
      },
      {
        "step": 5,
        "description": "Trong khi đó, rửa sạch rau cải xoong, để ráo nước. Pha nước trộn chua ngọt: trong bát nhỏ, pha 2 muỗng canh giấm trắng, 1 muỗng canh đường, 1 muỗng canh nước mắm, khuấy đều cho tan."
      },
      {
        "step": 6,
        "description": "Sau khi sườn rim mềm, tắt bếp, rắc tiêu lên trên. Rau cải xoong trộn với phần nước trộn chua ngọt, để riêng."
      },
      {
        "step": 7,
        "description": "Dọn món sườn rim dứa ra đĩa, ăn kèm
2025-05-02 11:25:56,717 - api.openai_api - WARNING - Direct JSON parsing failed, attempting to clean response
2025-05-02 11:25:56,717 - api.openai_api - INFO - Cleaned JSON content:
2025-05-02 11:25:56,717 - api.openai_api - INFO - {  "recipe": {    "name": "Sườn heo rim dứa và rau cải xoong trộn chua ngọt",    "cuisine_type": "Ẩm thực miền Trung Việt Nam",    "ingredients": [      {        "item": "Sườn heo",        "amount": "500",        "unit": "g"      },      {        "item": "Dứa (thơm)",        "amount": "1",        "unit": " quả"      },      {        "item": "Rau cải xoong",        "amount": "200",        "unit": "g"      },      {        "item": "Tỏi",        "amount": "3",        "unit": " tép"      },      {        "item": "Hành tím",        "amount": "2",        "unit": " củ"      },      {        "item": "Nước mắm",        "amount": "3",        "unit": " muỗng canh"      },      {        "item": "Đường",        "amount": "2",        "unit": " muỗng canh"      },      {        "item": "Dầu ăn",        "amount": "3",        "unit": " muỗng canh"      },      {        "item": "Giấm trắng",        "amount": "2",        "unit": " muỗng canh"      },      {        "item": "Tiêu",        "amount": "1/2",        "unit": " muỗng cà phê"      },      {        "item": "Muối",        "amount": "1/2",        "unit": " muỗng cà phê"      }    ],    "steps": [      {        "step": 1,        "description": "Sườn heo rửa sạch, chặt thành từng miếng vừa ăn, ướp với 1 muỗng muối, 1 muỗng tiêu, để thấm trong 15 phút."      },      {        "step": 2,        "description": "Dứa gọt vỏ, bỏ mắt, thái lát mỏng. Tỏi và hành tím băm nhỏ."      },      {        "step": 3,        "description": "Trong chảo, làm nóng 2 muỗng canh dầu ăn, cho sườn heo vào xào săn, rồi thêm tỏi, hành tím băm vào phi thơm."      },      {        "step": 4,        "description": "Cho dứa vào xào chung với sườn, thêm 2 muỗng canh nước mắm, 1 muỗng canh đường, đảo đều. Thêm một ít nước để rim, đun nhỏ lửa cho sườn mềm và thấm gia vị, khoảng 30 phút."      },      {        "step": 5,        "description": "Trong khi đó, rửa sạch rau cải xoong, để ráo nước. Pha nước trộn chua ngọt: trong bát nhỏ, pha 2 muỗng canh giấm trắng, 1 muỗng canh đường, 1 muỗng canh nước mắm, khuấy đều cho tan."      },      {        "step": 6,        "description": "Sau khi sườn rim mềm, tắt bếp, rắc tiêu lên trên. Rau cải xoong trộn với phần nước trộn chua ngọt, để riêng."      }
2025-05-02 11:25:56,718 - api.openai_api - ERROR - JSON parsing error after cleaning: Expecting ',' delimiter: line 1 column 2231 (char 2230)
2025-05-02 11:25:56,718 - api.openai_api - ERROR - JSON parsing error after all cleaning attempts: Expecting ',' delimiter: line 1 column 2231 (char 2230)
2025-05-02 11:30:59,434 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 11:30:59,434 - api.openai_api - INFO - Generated prompt for Thứ hai:
2025-05-02 11:30:59,434 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ hai với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ hai": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:30:59,435 - api.openai_api - INFO - Sending request to OpenAI API for Thứ hai
2025-05-02 11:31:02,640 - api.openai_api - INFO - Raw API Response for Thứ hai:
2025-05-02 11:31:02,640 - api.openai_api - INFO - {
  "id": "chatcmpl-BScLdKTHaMdYj4kip6ELa7xxf2J8m",
  "object": "chat.completion",
  "created": 1746160293,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi v\u00e0 tr\u1ee9ng g\u00e0 \u1ed1p la\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"6g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"10g\",\n        \"calories\": \"180kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, chi\u00ean\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"rau c\u1ee7\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"20g\",\n        \"calories\": \"300kcal\"\n      },\n      \"cooking_method\": \"rim, n\u01b0\u1edbng\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"rau c\u1ee7\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"C\u1ea3i xoong h\u1ea5p n\u01b0\u1edbc m\u1eafm v\u00e0 th\u1ecbt ba ch\u1ec9 n\u01b0\u1edbng\",\n      \"ingredients\": [\"c\u1ea3i xoong\", \"th\u1ecbt ba ch\u1ec9\", \"n\u01b0\u1edbc m\u1eafm\", \"\u1edbt\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 68000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"5g\",\n        \"fat\": \"15g\",\n        \"calories\": \"220kcal\"\n      },\n      \"cooking_method\": \"h\u1ea5p, n\u01b0\u1edbng, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"rau c\u1ee7\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 531,
    "total_tokens": 1065,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:31:02,641 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:31:02,641 - api.openai_api - INFO - {
  "Thứ hai": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi và trứng gà ốp la",
      "ingredients": ["bí đỏ tươi", "trứng gà", "tỏi", "dầu ăn"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["tỏi"],
      "nutrition_info": {
        "protein": "6g",
        "carbs": "20g",
        "fat": "10g",
        "calories": "180kcal"
      },
      "cooking_method": "xào, chiên",
      "food_groups": ["đạm", "tinh bột", "chất béo", "rau củ"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa",
      "ingredients": ["sườn heo", "dứa tươi", "nước mắm", "hạt tiêu", "tỏi", "dầu ăn"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "15g",
        "fat": "20g",
        "calories": "300kcal"
      },
      "cooking_method": "rim, nướng",
      "food_groups": ["đạm", "tinh bột", "chất béo", "rau củ"]
    },
    "Bữa tối": {
      "name": "Cải xoong hấp nước mắm và thịt ba chỉ nướng",
      "ingredients": ["cải xoong", "thịt ba chỉ", "nước mắm", "ớt", "dầu ăn"],
      "preparation_time": 40,
      "estimated_cost": 68000,
      "reused_ingredients": ["nước mắm"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "5g",
        "fat": "15g",
        "calories": "220kcal"
      },
      "cooking_method": "hấp, nướng, xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "rau củ"]
    }
  }
}
2025-05-02 11:31:02,644 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 11:31:02,644 - api.openai_api - INFO - Generated prompt for Thứ ba:
2025-05-02 11:31:02,644 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ ba với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ ba": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:31:02,644 - api.openai_api - INFO - Sending request to OpenAI API for Thứ ba
2025-05-02 11:31:05,963 - api.openai_api - INFO - Raw API Response for Thứ ba:
2025-05-02 11:31:05,964 - api.openai_api - INFO - {
  "id": "chatcmpl-BScLgYQpsXErzZQ7W9yPZM311Mtof",
  "object": "chat.completion",
  "created": 1746160296,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi v\u00e0 tr\u1ee9ng g\u00e0 \u1ed1p la\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"12g\",\n        \"calories\": \"250kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"d\u1ea7u \u0103n\", \"g\u1ea1o\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"55g\",\n        \"fat\": \"15g\",\n        \"calories\": \"450kcal\"\n      },\n      \"cooking_method\": \"rim, lu\u1ed9c, chi\u00ean\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"C\u1ea3i xoong x\u00e0o tr\u1ee9ng g\u00e0 v\u00e0 c\u00e1 h\u1ea5p\",\n      \"ingredients\": [\"c\u1ea3i xoong\", \"tr\u1ee9ng g\u00e0\", \"c\u00e1 t\u01b0\u01a1i (c\u00e1 thu ho\u1eb7c c\u00e1 tr\u00edch)\", \"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"ti\u00eau\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 68000,\n      \"reused_ingredients\": [\"tr\u1ee9ng\", \"d\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"8g\",\n        \"fat\": \"10g\",\n        \"calories\": \"200kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 554,
    "total_tokens": 1088,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:31:05,964 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:31:05,964 - api.openai_api - INFO - {
  "Thứ ba": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi và trứng gà ốp la",
      "ingredients": ["bí đỏ tươi", "trứng gà", "tỏi", "dầu ăn", "muối", "tiêu"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["tỏi"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "30g",
        "fat": "12g",
        "calories": "250kcal"
      },
      "cooking_method": "xào, hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm trắng",
      "ingredients": ["sườn heo", "dứa tươi", "tỏi", "nước mắm", "hạt tiêu", "dầu ăn", "gạo"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "tỏi"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "55g",
        "fat": "15g",
        "calories": "450kcal"
      },
      "cooking_method": "rim, luộc, chiên",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Cải xoong xào trứng gà và cá hấp",
      "ingredients": ["cải xoong", "trứng gà", "cá tươi (cá thu hoặc cá trích)", "dầu ăn", "muối", "tiêu"],
      "preparation_time": 30,
      "estimated_cost": 68000,
      "reused_ingredients": ["trứng", "dầu ăn"],
      "nutrition_info": {
        "protein": "18g",
        "carbs": "8g",
        "fat": "10g",
        "calories": "200kcal"
      },
      "cooking_method": "xào, hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:31:05,966 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 11:31:05,966 - api.openai_api - INFO - Generated prompt for Thứ tư:
2025-05-02 11:31:05,968 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ tư với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ tư": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:31:05,968 - api.openai_api - INFO - Sending request to OpenAI API for Thứ tư
2025-05-02 11:31:08,908 - api.openai_api - INFO - Raw API Response for Thứ tư:
2025-05-02 11:31:08,908 - api.openai_api - INFO - {
  "id": "chatcmpl-BScLjy7RZDx9mPr0UGjE2QzxwOBGA",
  "object": "chat.completion",
  "created": 1746160299,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"b\u00e1nh m\u00ec\", \"tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 30000,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, chi\u00ean\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn rim d\u1ee9a \u0103n k\u00e8m c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"\u0111\u01b0\u1eddng\", \"h\u1ea1t ti\u00eau\", \"d\u1ea7u \u0103n\", \"c\u01a1m tr\u1eafng\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 35000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"d\u1ea7u \u0103n\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"50g\",\n        \"fat\": \"12g\",\n        \"calories\": \"450 kcal\"\n      },\n      \"cooking_method\": \"rim, n\u01b0\u1edbng\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"G\u1ecfi c\u1ea3i xoong t\u00f4m rim th\u1ecbt ba ch\u1ec9\",\n      \"ingredients\": [\"c\u1ea3i xoong\", \"t\u00f4m t\u01b0\u01a1i\", \"th\u1ecbt ba ch\u1ec9\", \"n\u01b0\u1edbc m\u1eafm\", \"\u1edbt\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"mu\u1ed1i\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 35000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"d\u1ea7u \u0103n\", \"\u1edbt\", \"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"22g\",\n        \"carbs\": \"10g\",\n        \"fat\": \"18g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, h\u1ea5p, tr\u1ed9n\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\", \"rau c\u1ee7\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 575,
    "total_tokens": 1109,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:31:08,908 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:31:08,908 - api.openai_api - INFO - {
  "Thứ tư": {
    "Bữa sáng": {
      "name": "Bánh mì trứng ốp la với bí đỏ xào tỏi",
      "ingredients": ["bánh mì", "trứng gà", "bí đỏ", "tỏi", "dầu ăn", "muối", "tiêu"],
      "preparation_time": 20,
      "estimated_cost": 30000,
      "reused_ingredients": ["dầu ăn"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "45g",
        "fat": "15g",
        "calories": "350 kcal"
      },
      "cooking_method": "xào, chiên",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn rim dứa ăn kèm cơm trắng",
      "ingredients": ["sườn heo", "dứa", "tỏi", "nước mắm", "đường", "hạt tiêu", "dầu ăn", "cơm trắng"],
      "preparation_time": 45,
      "estimated_cost": 35000,
      "reused_ingredients": ["nước mắm", "dầu ăn", "hạt tiêu"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "50g",
        "fat": "12g",
        "calories": "450 kcal"
      },
      "cooking_method": "rim, nướng",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Gỏi cải xoong tôm rim thịt ba chỉ",
      "ingredients": ["cải xoong", "tôm tươi", "thịt ba chỉ", "nước mắm", "ớt", "tỏi", "dầu ăn", "muối"],
      "preparation_time": 40,
      "estimated_cost": 35000,
      "reused_ingredients": ["nước mắm", "dầu ăn", "ớt", "tỏi"],
      "nutrition_info": {
        "protein": "22g",
        "carbs": "10g",
        "fat": "18g",
        "calories": "350 kcal"
      },
      "cooking_method": "xào, hấp, trộn",
      "food_groups": ["đạm", "chất béo", "Vitamin", "rau củ"]
    }
  }
}
2025-05-02 11:31:08,913 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 11:31:08,913 - api.openai_api - INFO - Generated prompt for Thứ năm:
2025-05-02 11:31:08,913 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ năm với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ năm": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:31:08,913 - api.openai_api - INFO - Sending request to OpenAI API for Thứ năm
2025-05-02 11:31:11,549 - api.openai_api - INFO - Raw API Response for Thứ năm:
2025-05-02 11:31:11,549 - api.openai_api - INFO - {
  "id": "chatcmpl-BScLm04mIjQ684vwlbVNxYgMbj7BH",
  "object": "chat.completion",
  "created": 1746160302,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi k\u00e8m tr\u1ee9ng g\u00e0 h\u1ea5p\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"t\u1ecfi\", \"tr\u1ee9ng g\u00e0\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"6g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"8g\",\n        \"calories\": \"180kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo t\u01b0\u01a1i\", \"d\u1ee9a ch\u00edn\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"12g\",\n        \"calories\": \"280kcal\"\n      },\n      \"cooking_method\": \"rim, n\u01b0\u1edbng\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"C\u1ea3i xoong x\u00e0o t\u1ecfi v\u00e0 th\u1ecbt ba ch\u1ec9 lu\u1ed9c\",\n      \"ingredients\": [\"c\u1ea3i xoong\", \"th\u1ecbt ba ch\u1ec9\", \"t\u1ecfi\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"6g\",\n        \"fat\": \"15g\",\n        \"calories\": \"220kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 534,
    "completion_tokens": 497,
    "total_tokens": 1031,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:31:11,550 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:31:11,550 - api.openai_api - INFO - {
  "Thứ năm": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi kèm trứng gà hấp",
      "ingredients": ["bí đỏ tươi", "tỏi", "trứng gà"],
      "preparation_time": 30,
      "estimated_cost": 65000,
      "reused_ingredients": ["tỏi"],
      "nutrition_info": {
        "protein": "6g",
        "carbs": "20g",
        "fat": "8g",
        "calories": "180kcal"
      },
      "cooking_method": "xào, hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa",
      "ingredients": ["sườn heo tươi", "dứa chín", "nước mắm", "hạt tiêu"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "25g",
        "fat": "12g",
        "calories": "280kcal"
      },
      "cooking_method": "rim, nướng",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Cải xoong xào tỏi và thịt ba chỉ luộc",
      "ingredients": ["cải xoong", "thịt ba chỉ", "tỏi"],
      "preparation_time": 40,
      "estimated_cost": 69000,
      "reused_ingredients": ["tỏi"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "6g",
        "fat": "15g",
        "calories": "220kcal"
      },
      "cooking_method": "xào, luộc",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:31:11,552 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 11:31:11,552 - api.openai_api - INFO - Generated prompt for Thứ sáu:
2025-05-02 11:31:11,552 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ sáu với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:31:11,552 - api.openai_api - INFO - Sending request to OpenAI API for Thứ sáu
2025-05-02 11:31:15,230 - api.openai_api - INFO - Raw API Response for Thứ sáu:
2025-05-02 11:31:15,230 - api.openai_api - INFO - {
  "id": "chatcmpl-BScLpj6nDli8zA4rbY24bXACVS4Os",
  "object": "chat.completion",
  "created": 1746160305,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec th\u1ecbt x\u00e1 x\u00edu b\u00ed \u0111\u1ecf h\u1ea5p d\u1eabn\",\n      \"ingredients\": [\"B\u00e1nh m\u00ec\", \"Th\u1ecbt ba ch\u1ec9\", \"B\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"T\u1ecfi\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"D\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"50g\",\n        \"fat\": \"20g\",\n        \"calories\": \"550 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o, h\u1ea5p, n\u01b0\u1edbng\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 rau c\u1ea3i xoong x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a t\u01b0\u01a1i\", \"C\u1ea3i xoong\", \"T\u1ecfi\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"D\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"15g\",\n        \"calories\": \"450 kcal\"\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng, rim, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Canh b\u00ed \u0111\u1ecf t\u01b0\u01a1i n\u1ea5u n\u01b0\u1edbc m\u1eafm h\u00e0nh phi\",\n      \"ingredients\": [\"B\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"N\u01b0\u1edbc m\u1eafm\", \"T\u1ecfi\", \"\u1edat\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"3g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"5g\",\n        \"calories\": \"150 kcal\"\n      },\n      \"cooking_method\": \"Lu\u1ed9c, chi\u00ean\",\n      \"food_groups\": [\"tinh b\u1ed9t\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 536,
    "completion_tokens": 566,
    "total_tokens": 1102,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:31:15,231 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:31:15,231 - api.openai_api - INFO - {
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "Bánh mì thịt xá xíu bí đỏ hấp dẫn",
      "ingredients": ["Bánh mì", "Thịt ba chỉ", "Bí đỏ tươi", "Tỏi", "Nước mắm", "Tiêu", "Dầu ăn"],
      "preparation_time": 45,
      "estimated_cost": 65000,
      "reused_ingredients": ["Nước mắm", "Tiêu", "Dầu ăn"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "50g",
        "fat": "20g",
        "calories": "550 kcal"
      },
      "cooking_method": "Xào, hấp, nướng",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và rau cải xoong xào tỏi",
      "ingredients": ["Sườn heo", "Dứa tươi", "Cải xoong", "Tỏi", "Nước mắm", "Tiêu", "Dầu ăn"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["Nước mắm", "Tiêu", "Dầu ăn"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "30g",
        "fat": "15g",
        "calories": "450 kcal"
      },
      "cooking_method": "Nướng, rim, xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Canh bí đỏ tươi nấu nước mắm hành phi",
      "ingredients": ["Bí đỏ tươi", "Nước mắm", "Tỏi", "Ớt", "Dầu ăn"],
      "preparation_time": 40,
      "estimated_cost": 65000,
      "reused_ingredients": ["Nước mắm", "Tỏi", "Dầu ăn"],
      "nutrition_info": {
        "protein": "3g",
        "carbs": "20g",
        "fat": "5g",
        "calories": "150 kcal"
      },
      "cooking_method": "Luộc, chiên",
      "food_groups": ["tinh bột", "Vitamin"]
    }
  }
}
2025-05-02 11:32:46,663 - api.openai_api - INFO - Sending recipe request to OpenAI API with model: gpt-4.1-nano
2025-05-02 11:32:50,560 - api.openai_api - INFO - Raw API Response Object:
2025-05-02 11:32:50,561 - api.openai_api - INFO - {
  "id": "chatcmpl-BScNNNeDP7Rve55dKu4OjE260fLdc",
  "object": "chat.completion",
  "created": 1746160401,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"recipe\": {\n    \"name\": \"C\u1ea3i Xoong H\u1ea5p N\u01b0\u1edbc M\u1eafm & Th\u1ecbt Ba Ch\u1ec9 N\u01b0\u1edbng Phong C\u00e1ch Mi\u1ec1n Trung\",\n    \"cuisine_type\": \"\u1ea8m th\u1ef1c mi\u1ec1n Trung Vi\u1ec7t Nam\",\n    \"ingredients\": [\n      {\n        \"item\": \"C\u1ea3i xoong\",\n        \"amount\": \"200\",\n        \"unit\": \"g\"\n      },\n      {\n        \"item\": \"N\u01b0\u1edbc m\u1eafm\",\n        \"amount\": \"3\",\n        \"unit\": \"mu\u1ed7ng canh\"\n      },\n      {\n        \"item\": \"\u0110\u01b0\u1eddng\",\n        \"amount\": \"1\",\n        \"unit\": \"mu\u1ed7ng c\u00e0 ph\u00ea\"\n      },\n      {\n        \"item\": \"T\u1ecfi\",\n        \"amount\": \"2\",\n        \"unit\": \"t\u1ecfi\"\n      },\n      {\n        \"item\": \"Th\u1ecbt ba ch\u1ec9\",\n        \"amount\": \"300\",\n        \"unit\": \"g\"\n      },\n      {\n        \"item\": \"N\u01b0\u1edbc t\u01b0\u01a1ng\",\n        \"amount\": \"2\",\n        \"unit\": \"mu\u1ed7ng canh\"\n      },\n      {\n        \"item\": \"Ti\u00eau\",\n        \"amount\": \"1/2\",\n        \"unit\": \"mu\u1ed7ng c\u00e0 ph\u00ea\"\n      },\n      {\n        \"item\": \"D\u1ea7u \u0103n\",\n        \"amount\": \"2\",\n        \"unit\": \"mu\u1ed7ng canh\"\n      }\n    ],\n    \"steps\": [\n      {\n        \"step\": 1,\n        \"description\": \"R\u1eeda s\u1ea1ch c\u1ea3i xoong, \u0111\u1ec3 r\u00e1o n\u01b0\u1edbc. \u0110\u1eb7t v\u00e0o x\u1eedng h\u1ea5p, h\u1ea5p trong kho\u1ea3ng 3-4 ph\u00fat \u0111\u1ebfn khi ch\u00edn t\u1edbi.\"\n      },\n      {\n        \"step\": 2,\n        \"description\": \"Trong m\u1ed9t b\u00e1t nh\u1ecf, pha n\u01b0\u1edbc m\u1eafm v\u1edbi \u0111\u01b0\u1eddng, t\u1ecfi b\u0103m nhuy\u1ec5n v\u00e0 ti\u00eau, khu\u1ea5y \u0111\u1ec1u cho tan. \u0110\u1eb7t sang m\u1ed9t b\u00ean \u0111\u1ec3 d\u00f9ng l\u00e0m n\u01b0\u1edbc ch\u1ea5m.\"\n      },\n      {\n        \"step\": 3,\n        \"description\": \"Th\u1ecbt ba ch\u1ec9 r\u1eeda s\u1ea1ch, th\u00e1i l\u00e1t m\u1ecfng. \u01af\u1edbp v\u1edbi n\u01b0\u1edbc t\u01b0\u01a1ng, ti\u00eau, v\u00e0 m\u1ed9t ch\u00fat d\u1ea7u \u0103n, \u0111\u1ec3 trong 15 ph\u00fat.\"\n      },\n      {\n        \"step\": 4,\n        \"description\": \"L\u00e0m n\u00f3ng ch\u1ea3o v\u1edbi 2 mu\u1ed7ng d\u1ea7u \u0103n, cho th\u1ecbt v\u00e0o n\u01b0\u1edbng ho\u1eb7c \u00e1p ch\u1ea3o \u0111\u1ebfn khi v\u00e0ng \u0111\u1ec1u v\u00e0 ch\u00edn t\u1edbi, kho\u1ea3ng 7-10 ph\u00fat.\"\n      },\n      {\n        \"step\": 5,\n        \"description\": \"D\u1ecdn c\u1ea3i xoong h\u1ea5p ra \u0111\u0129a, d\u00f9ng k\u00e8m v\u1edbi th\u1ecbt ba ch\u1ec9 n\u01b0\u1edbng v\u00e0 n\u01b0\u1edbc m\u1eafm pha. Th\u01b0\u1edfng th\u1ee9c khi c\u00f2n n\u00f3ng.\"\n      }\n    ],\n    \"preparation_time\": \"20\",\n    \"cooking_time\": \"20\",\n    \"servings\": \"2-3\",\n    \"difficulty\": \"Trung b\u00ecnh\"\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 252,
    "completion_tokens": 611,
    "total_tokens": 863,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:32:50,561 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:32:50,561 - api.openai_api - INFO - {
  "recipe": {
    "name": "Cải Xoong Hấp Nước Mắm & Thịt Ba Chỉ Nướng Phong Cách Miền Trung",
    "cuisine_type": "Ẩm thực miền Trung Việt Nam",
    "ingredients": [
      {
        "item": "Cải xoong",
        "amount": "200",
        "unit": "g"
      },
      {
        "item": "Nước mắm",
        "amount": "3",
        "unit": "muỗng canh"
      },
      {
        "item": "Đường",
        "amount": "1",
        "unit": "muỗng cà phê"
      },
      {
        "item": "Tỏi",
        "amount": "2",
        "unit": "tỏi"
      },
      {
        "item": "Thịt ba chỉ",
        "amount": "300",
        "unit": "g"
      },
      {
        "item": "Nước tương",
        "amount": "2",
        "unit": "muỗng canh"
      },
      {
        "item": "Tiêu",
        "amount": "1/2",
        "unit": "muỗng cà phê"
      },
      {
        "item": "Dầu ăn",
        "amount": "2",
        "unit": "muỗng canh"
      }
    ],
    "steps": [
      {
        "step": 1,
        "description": "Rửa sạch cải xoong, để ráo nước. Đặt vào xửng hấp, hấp trong khoảng 3-4 phút đến khi chín tới."
      },
      {
        "step": 2,
        "description": "Trong một bát nhỏ, pha nước mắm với đường, tỏi băm nhuyễn và tiêu, khuấy đều cho tan. Đặt sang một bên để dùng làm nước chấm."
      },
      {
        "step": 3,
        "description": "Thịt ba chỉ rửa sạch, thái lát mỏng. Ướp với nước tương, tiêu, và một chút dầu ăn, để trong 15 phút."
      },
      {
        "step": 4,
        "description": "Làm nóng chảo với 2 muỗng dầu ăn, cho thịt vào nướng hoặc áp chảo đến khi vàng đều và chín tới, khoảng 7-10 phút."
      },
      {
        "step": 5,
        "description": "Dọn cải xoong hấp ra đĩa, dùng kèm với thịt ba chỉ nướng và nước mắm pha. Thưởng thức khi còn nóng."
      }
    ],
    "preparation_time": "20",
    "cooking_time": "20",
    "servings": "2-3",
    "difficulty": "Trung bình"
  }
}
2025-05-02 11:37:15,153 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 11:37:15,154 - api.openai_api - INFO - Generated prompt for Thứ hai:
2025-05-02 11:37:15,154 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ hai với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ hai": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:37:15,157 - api.openai_api - INFO - Sending request to OpenAI API for Thứ hai
2025-05-02 11:37:17,986 - api.openai_api - INFO - Raw API Response for Thứ hai:
2025-05-02 11:37:17,987 - api.openai_api - INFO - {
  "id": "chatcmpl-BScRhZHxwCg5vzRa9sy6ABK2v4trC",
  "object": "chat.completion",
  "created": 1746160669,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Ch\u00e1o b\u00ed \u0111\u1ecf tr\u1ee9ng g\u00e0\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"g\u1ea1o\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"10g\",\n        \"calories\": \"330 kcal\"\n      },\n      \"cooking_method\": \"h\u1ea5p, n\u1ea5u ch\u00e1o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"12g\",\n        \"calories\": \"280 kcal\"\n      },\n      \"cooking_method\": \"rim, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u b\u00ed \u0111\u1ecf\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf\", \"n\u01b0\u1edbc m\u1eafm\", \"ti\u00eau\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"15g\",\n        \"calories\": \"400 kcal\"\n      },\n      \"cooking_method\": \"h\u1ea7m, kho\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 558,
    "completion_tokens": 504,
    "total_tokens": 1062,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:37:17,991 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:37:17,991 - api.openai_api - INFO - {
  "Thứ hai": {
    "Bữa sáng": {
      "name": "Cháo bí đỏ trứng gà",
      "ingredients": ["bí đỏ tươi", "trứng gà", "gạo", "tỏi", "dầu ăn"],
      "preparation_time": 30,
      "estimated_cost": 65000,
      "reused_ingredients": ["bí đỏ"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "45g",
        "fat": "10g",
        "calories": "330 kcal"
      },
      "cooking_method": "hấp, nấu cháo",
      "food_groups": ["đạm", "tinh bột", "chất béo", "vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa",
      "ingredients": ["sườn heo", "dứa tươi", "tỏi", "nước mắm", "hạt tiêu"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "20g",
        "fat": "12g",
        "calories": "280 kcal"
      },
      "cooking_method": "rim, xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "vitamin"]
    },
    "Bữa tối": {
      "name": "Thịt kho tàu bí đỏ",
      "ingredients": ["thịt ba chỉ", "trứng gà", "bí đỏ", "nước mắm", "tiêu"],
      "preparation_time": 60,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "30g",
        "fat": "15g",
        "calories": "400 kcal"
      },
      "cooking_method": "hầm, kho",
      "food_groups": ["đạm", "tinh bột", "chất béo", "vitamin"]
    }
  }
}
2025-05-02 11:37:17,992 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 11:37:17,993 - api.openai_api - INFO - Generated prompt for Thứ ba:
2025-05-02 11:37:17,993 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ ba với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Cháo bí đỏ trứng gà
2. Sườn heo rim dứa
3. Thịt kho tàu bí đỏ
Format JSON:
{
  "Thứ ba": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:37:17,994 - api.openai_api - INFO - Sending request to OpenAI API for Thứ ba
2025-05-02 11:37:21,154 - api.openai_api - INFO - Raw API Response for Thứ ba:
2025-05-02 11:37:21,154 - api.openai_api - INFO - {
  "id": "chatcmpl-BScRjhDGjEA79hfMalZ7nwsJmolzR",
  "object": "chat.completion",
  "created": 1746160671,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Canh b\u00ed \u0111\u1ecf n\u1ea5u tr\u1ee9ng g\u00e0\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\", \"rau c\u1ea3i xoong\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"7g\",\n        \"calories\": \"200 kcal\"\n      },\n      \"cooking_method\": \"h\u1ea5p, lu\u1ed9c, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"Th\u1ecbt ba ch\u1ec9 rim t\u1ecfi v\u1edbi ng\u00f4 ng\u1ecdt\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"ng\u00f4 ng\u1ecdt\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"\u1edbt\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"ng\u00f4 ng\u1ecdt\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"12g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, rim\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo n\u01b0\u1edbng m\u1eadt ong v\u00e0 rau c\u1ea3i xoong tr\u1ed9n\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"\u1edbt\", \"rau c\u1ea3i xoong\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"s\u01b0\u1eddn heo\", \"rau c\u1ea3i xoong\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"8g\",\n        \"fat\": \"14g\",\n        \"calories\": \"280 kcal\"\n      },\n      \"cooking_method\": \"n\u01b0\u1edbng, tr\u1ed9n\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\", \"tinh b\u1ed9t\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 612,
    "completion_tokens": 555,
    "total_tokens": 1167,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:37:21,155 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:37:21,156 - api.openai_api - INFO - {
  "Thứ ba": {
    "Bữa sáng": {
      "name": "Canh bí đỏ nấu trứng gà",
      "ingredients": ["bí đỏ tươi", "trứng gà", "nước mắm", "hạt tiêu", "tỏi", "rau cải xoong"],
      "preparation_time": 30,
      "estimated_cost": 70000,
      "reused_ingredients": ["bí đỏ", "trứng gà", "nước mắm"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "25g",
        "fat": "7g",
        "calories": "200 kcal"
      },
      "cooking_method": "hấp, luộc, xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Thịt ba chỉ rim tỏi với ngô ngọt",
      "ingredients": ["thịt ba chỉ", "ngô ngọt", "tỏi", "nước mắm", "hạt tiêu", "ớt"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["thịt ba chỉ", "ngô ngọt"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "20g",
        "fat": "12g",
        "calories": "250 kcal"
      },
      "cooking_method": "xào, rim",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn heo nướng mật ong và rau cải xoong trộn",
      "ingredients": ["sườn heo", "nước mắm", "hạt tiêu", "ớt", "rau cải xoong"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["sườn heo", "rau cải xoong"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "8g",
        "fat": "14g",
        "calories": "280 kcal"
      },
      "cooking_method": "nướng, trộn",
      "food_groups": ["đạm", "chất béo", "Vitamin", "tinh bột"]
    }
  }
}
2025-05-02 11:37:21,159 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 11:37:21,159 - api.openai_api - INFO - Generated prompt for Thứ tư:
2025-05-02 11:37:21,160 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ tư với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Cháo bí đỏ trứng gà
2. Sườn heo rim dứa
3. Thịt kho tàu bí đỏ
4. Canh bí đỏ nấu trứng gà
5. Thịt ba chỉ rim tỏi với ngô ngọt
6. Sườn heo nướng mật ong và rau cải xoong trộn
Format JSON:
{
  "Thứ tư": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:37:21,166 - api.openai_api - INFO - Sending request to OpenAI API for Thứ tư
2025-05-02 11:37:24,443 - api.openai_api - INFO - Raw API Response for Thứ tư:
2025-05-02 11:37:24,444 - api.openai_api - INFO - {
  "id": "chatcmpl-BScRmFoZwPz38xTxjgPFoxakP3sz6",
  "object": "chat.completion",
  "created": 1746160674,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec n\u01b0\u1edbng b\u00ed \u0111\u1ecf v\u00e0 tr\u1ee9ng g\u00e0 \u1ed1p la\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"b\u00e1nh m\u00ec\", \"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"tr\u1ee9ng g\u00e0\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"12g\",\n        \"calories\": \"320 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, n\u01b0\u1edbng, chi\u00ean\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"rau c\u1ee7\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo n\u01b0\u1edbng m\u1eadt ong v\u1edbi x\u00e0o c\u1ea3i xoong v\u00e0 ng\u00f4 ng\u1ecdt\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"m\u1eadt ong\", \"ng\u00f4 ng\u1ecdt\", \"c\u1ea3i xoong\", \"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"ng\u00f4 ng\u1ecdt\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"15g\",\n        \"calories\": \"330 kcal\"\n      },\n      \"cooking_method\": \"n\u01b0\u1edbng, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"rau c\u1ee7\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt ba ch\u1ec9 kho t\u1ed9 v\u1edbi b\u00ed \u0111\u1ecf h\u1ea5p t\u1ecfi v\u00e0 \u1edbt chu\u00f4ng\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\", \"\u1edbt chu\u00f4ng\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 55,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"22g\",\n        \"calories\": \"380 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, kho, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"rau c\u1ee7\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 659,
    "completion_tokens": 579,
    "total_tokens": 1238,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:37:24,449 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:37:24,449 - api.openai_api - INFO - {
  "Thứ tư": {
    "Bữa sáng": {
      "name": "Bánh mì nướng bí đỏ và trứng gà ốp la",
      "ingredients": ["bí đỏ tươi", "trứng gà", "bánh mì", "dầu ăn", "muối", "tiêu"],
      "preparation_time": 20,
      "estimated_cost": 70000,
      "reused_ingredients": ["trứng gà"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "45g",
        "fat": "12g",
        "calories": "320 kcal"
      },
      "cooking_method": "xào, nướng, chiên",
      "food_groups": ["đạm", "tinh bột", "chất béo", "rau củ"]
    },
    "Bữa trưa": {
      "name": "Sườn heo nướng mật ong với xào cải xoong và ngô ngọt",
      "ingredients": ["sườn heo", "mật ong", "ngô ngọt", "cải xoong", "dầu ăn", "nước mắm", "hạt tiêu"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["ngô ngọt", "nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "25g",
        "fat": "15g",
        "calories": "330 kcal"
      },
      "cooking_method": "nướng, xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "rau củ"]
    },
    "Bữa tối": {
      "name": "Thịt ba chỉ kho tộ với bí đỏ hấp tỏi và ớt chuông",
      "ingredients": ["thịt ba chỉ", "bí đỏ", "tỏi", "ớt chuông", "nước mắm", "hạt tiêu"],
      "preparation_time": 55,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "18g",
        "carbs": "20g",
        "fat": "22g",
        "calories": "380 kcal"
      },
      "cooking_method": "xào, kho, hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "rau củ"]
    }
  }
}
2025-05-02 11:37:24,451 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 11:37:24,451 - api.openai_api - INFO - Generated prompt for Thứ năm:
2025-05-02 11:37:24,451 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ năm với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Cháo bí đỏ trứng gà
2. Sườn heo rim dứa
3. Thịt kho tàu bí đỏ
4. Canh bí đỏ nấu trứng gà
5. Thịt ba chỉ rim tỏi với ngô ngọt
6. Sườn heo nướng mật ong và rau cải xoong trộn
7. Bánh mì nướng bí đỏ và trứng gà ốp la
8. Sườn heo nướng mật ong với xào cải xoong và ngô ngọt
9. Thịt ba chỉ kho tộ với bí đỏ hấp tỏi và ớt chuông
Format JSON:
{
  "Thứ năm": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:37:24,453 - api.openai_api - INFO - Sending request to OpenAI API for Thứ năm
2025-05-02 11:37:26,609 - api.openai_api - INFO - Raw API Response for Thứ năm:
2025-05-02 11:37:26,610 - api.openai_api - INFO - {
  "id": "chatcmpl-BScRq964YyS1yHy1QUERihWSab9mH",
  "object": "chat.completion",
  "created": 1746160678,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf h\u1ea5p tr\u1ee9ng g\u00e0 v\u00e0 rau c\u1ea3i xoong\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"c\u1ea3i xoong\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"10g\",\n        \"calories\": \"210 kcal\"\n      },\n      \"cooking_method\": \"h\u1ea5p, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo n\u01b0\u1edbng m\u1eadt ong v\u00e0 rau x\u00e0o b\u00ed \u0111\u1ecf\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"m\u1eadt ong\", \"b\u00ed \u0111\u1ecf\", \"\u1edbt chu\u00f4ng\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 55,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"n\u01b0\u1edbng, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 723,
    "completion_tokens": 369,
    "total_tokens": 1092,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:37:26,615 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:37:26,616 - api.openai_api - INFO - {
  "Thứ năm": {
    "Bữa sáng": {
      "name": "Bí đỏ hấp trứng gà và rau cải xoong",
      "ingredients": ["bí đỏ tươi", "trứng gà", "cải xoong", "tỏi", "dầu ăn"],
      "preparation_time": 30,
      "estimated_cost": 65000,
      "reused_ingredients": [],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "25g",
        "fat": "10g",
        "calories": "210 kcal"
      },
      "cooking_method": "hấp, xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn heo nướng mật ong và rau xào bí đỏ",
      "ingredients": ["sườn heo", "mật ong", "bí đỏ", "ớt chuông", "tỏi", "dầu ăn", "nước mắm", "hạt tiêu"],
      "preparation_time": 55,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "30g",
        "fat": "15g",
        "calories": "350 kcal"
      },
      "cooking_method": "nướng, xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "vitamin"]
    }
  }
}
2025-05-02 11:37:26,619 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 11:37:26,619 - api.openai_api - INFO - Generated prompt for Thứ sáu:
2025-05-02 11:37:26,619 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ sáu với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Trung Việt Nam
Ngân sách/bữa: 70000đ
Thời gian max: 60p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Cháo bí đỏ trứng gà
2. Sườn heo rim dứa
3. Thịt kho tàu bí đỏ
4. Canh bí đỏ nấu trứng gà
5. Thịt ba chỉ rim tỏi với ngô ngọt
6. Sườn heo nướng mật ong và rau cải xoong trộn
7. Bánh mì nướng bí đỏ và trứng gà ốp la
8. Sườn heo nướng mật ong với xào cải xoong và ngô ngọt
9. Thịt ba chỉ kho tộ với bí đỏ hấp tỏi và ớt chuông
10. Bí đỏ hấp trứng gà và rau cải xoong
11. Sườn heo nướng mật ong và rau xào bí đỏ
Format JSON:
{
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:37:26,621 - api.openai_api - INFO - Sending request to OpenAI API for Thứ sáu
2025-05-02 11:37:30,048 - api.openai_api - INFO - Raw API Response for Thứ sáu:
2025-05-02 11:37:30,049 - api.openai_api - INFO - {
  "id": "chatcmpl-BScRtnM1HjclWm9Vg7IQgnB20diWB",
  "object": "chat.completion",
  "created": 1746160681,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00fan th\u1ecbt heo lu\u1ed9c v\u1edbi rau s\u1ed1ng\",\n      \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9 t\u01b0\u01a1i\", \"B\u00fan t\u01b0\u01a1i\", \"C\u1ea3i xoong\", \"\u1edat t\u01b0\u01a1i\", \"N\u01b0\u1edbc m\u1eafm\", \"Chanh\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"Th\u1ecbt ba ch\u1ec9\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"12g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"Lu\u1ed9c, tr\u1ed9n tr\u1ed9n\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"C\u00e1 thu n\u01b0\u1edbng mu\u1ed1i \u1edbt \u0103n k\u00e8m b\u00ed \u0111\u1ecf h\u1ea5p\",\n      \"ingredients\": [\"C\u00e1 thu t\u01b0\u01a1i\", \"B\u00ed \u0111\u1ecf\", \"\u1edat t\u01b0\u01a1i\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"D\u1ea7u \u0103n\", \"T\u1ecfi\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"\u1edat\", \"N\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"10g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 758,
    "completion_tokens": 385,
    "total_tokens": 1143,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:37:30,051 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:37:30,051 - api.openai_api - INFO - {
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "Bún thịt heo luộc với rau sống",
      "ingredients": ["Thịt ba chỉ tươi", "Bún tươi", "Cải xoong", "Ớt tươi", "Nước mắm", "Chanh", "Tỏi", "Dầu ăn"],
      "preparation_time": 30,
      "estimated_cost": 70000,
      "reused_ingredients": ["Thịt ba chỉ"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "45g",
        "fat": "12g",
        "calories": "350 kcal"
      },
      "cooking_method": "Luộc, trộn trộn",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Cá thu nướng muối ớt ăn kèm bí đỏ hấp",
      "ingredients": ["Cá thu tươi", "Bí đỏ", "Ớt tươi", "Nước mắm", "Tiêu", "Dầu ăn", "Tỏi"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["Ớt", "Nước mắm"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "20g",
        "fat": "10g",
        "calories": "250 kcal"
      },
      "cooking_method": "Nướng, hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:38:30,887 - api.openai_api - INFO - Sending recipe request to OpenAI API with model: gpt-4.1-nano
2025-05-02 11:38:34,672 - api.openai_api - INFO - Raw API Response Object:
2025-05-02 11:38:34,672 - api.openai_api - INFO - {
  "id": "chatcmpl-BScSuyt58VSZymZoxwD2z5dY7mILd",
  "object": "chat.completion",
  "created": 1746160744,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"recipe\": {\n    \"name\": \"S\u01b0\u1eddn heo n\u01b0\u1edbng m\u1eadt ong v\u00e0 rau c\u1ea3i xoong tr\u1ed9n theo phong c\u00e1ch mi\u1ec1n Trung\",\n    \"cuisine_type\": \"\u1ea8m th\u1ef1c mi\u1ec1n Trung Vi\u1ec7t Nam\",\n    \"ingredients\": [\n      {\n        \"item\": \"S\u01b0\u1eddn heo\",\n        \"amount\": 500,\n        \"unit\": \"g\"\n      },\n      {\n        \"item\": \"M\u1eadt ong\",\n        \"amount\": 3,\n        \"unit\": \"mu\u1ed7ng canh\"\n      },\n      {\n        \"item\": \"T\u1ecfi b\u0103m\",\n        \"amount\": 2,\n        \"unit\": \"t\u00e9p\"\n      },\n      {\n        \"item\": \"N\u01b0\u1edbc m\u1eafm\",\n        \"amount\": 2,\n        \"unit\": \"mu\u1ed7ng canh\"\n      },\n      {\n        \"item\": \"Ti\u00eau\",\n        \"amount\": 1,\n        \"unit\": \"mu\u1ed7ng c\u00e0 ph\u00ea\"\n      },\n      {\n        \"item\": \"D\u1ea7u \u0103n\",\n        \"amount\": 2,\n        \"unit\": \"mu\u1ed7ng canh\"\n      },\n      {\n        \"item\": \"Rau c\u1ea3i xoong\",\n        \"amount\": 200,\n        \"unit\": \"g\"\n      },\n      {\n        \"item\": \"Chanh\",\n        \"amount\": 1,\n        \"unit\": \"qu\u1ea3\"\n      },\n      {\n        \"item\": \"Mu\u1ed1i\",\n        \"amount\": 1,\n        \"unit\": \"mu\u1ed7ng c\u00e0 ph\u00ea\"\n      }\n    ],\n    \"steps\": [\n      {\n        \"step\": 1,\n        \"description\": \"\u01af\u1edbp s\u01b0\u1eddn heo v\u1edbi t\u1ecfi b\u0103m, n\u01b0\u1edbc m\u1eafm, ti\u00eau, mu\u1ed1i v\u00e0 1 mu\u1ed7ng canh d\u1ea7u \u0103n. \u0110\u1ec3 trong 30 ph\u00fat cho th\u1ea5m gia v\u1ecb.\"\n      },\n      {\n        \"step\": 2,\n        \"description\": \"Trong th\u1eddi gian ch\u1edd, pha m\u1eadt ong v\u1edbi 1 mu\u1ed7ng canh d\u1ea7u \u0103n c\u00f2n l\u1ea1i v\u00e0 khu\u1ea5y \u0111\u1ec1u.\"\n      },\n      {\n        \"step\": 3,\n        \"description\": \"N\u01b0\u1edbng s\u01b0\u1eddn heo tr\u00ean l\u1eeda than ho\u1eb7c l\u00f2 n\u01b0\u1edbng \u1edf nhi\u1ec7t \u0111\u1ed9 200\u00b0C trong 20-25 ph\u00fat, th\u1ec9nh tho\u1ea3ng ph\u1ebft m\u1eadt ong l\u00ean m\u1eb7t s\u01b0\u1eddn \u0111\u1ec3 t\u1ea1o l\u1edbp b\u00f3ng \u0111\u1eb9p v\u00e0 v\u1ecb ng\u1ecdt t\u1ef1 nhi\u00ean.\"\n      },\n      {\n        \"step\": 4,\n        \"description\": \"Trong l\u00fac \u0111\u00f3, r\u1eeda s\u1ea1ch rau c\u1ea3i xoong, v\u1eaft l\u1ea5y n\u01b0\u1edbc c\u1ed1t chanh, tr\u1ed9n \u0111\u1ec1u v\u1edbi rau, th\u00eam mu\u1ed1i v\u00e0 ch\u00fat d\u1ea7u \u0103n \u0111\u1ec3 l\u00e0m m\u00f3n rau tr\u1ed9n.\"\n      },\n      {\n        \"step\": 5,\n        \"description\": \"Sau khi s\u01b0\u1eddn ch\u00edn, c\u1eaft th\u00e0nh mi\u1ebfng v\u1eeba \u0103n, d\u1ecdn ra \u0111\u0129a v\u00e0 trang tr\u00ed c\u00f9ng rau c\u1ea3i xoong \u0111\u00e3 tr\u1ed9n.\"\n      }\n    ],\n    \"preparation_time\": 30,\n    \"cooking_time\": 25,\n    \"servings\": 4,\n    \"difficulty\": \"trung b\u00ecnh\"\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 335,
    "completion_tokens": 651,
    "total_tokens": 986,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:38:34,675 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:38:34,675 - api.openai_api - INFO - {
  "recipe": {
    "name": "Sườn heo nướng mật ong và rau cải xoong trộn theo phong cách miền Trung",
    "cuisine_type": "Ẩm thực miền Trung Việt Nam",
    "ingredients": [
      {
        "item": "Sườn heo",
        "amount": 500,
        "unit": "g"
      },
      {
        "item": "Mật ong",
        "amount": 3,
        "unit": "muỗng canh"
      },
      {
        "item": "Tỏi băm",
        "amount": 2,
        "unit": "tép"
      },
      {
        "item": "Nước mắm",
        "amount": 2,
        "unit": "muỗng canh"
      },
      {
        "item": "Tiêu",
        "amount": 1,
        "unit": "muỗng cà phê"
      },
      {
        "item": "Dầu ăn",
        "amount": 2,
        "unit": "muỗng canh"
      },
      {
        "item": "Rau cải xoong",
        "amount": 200,
        "unit": "g"
      },
      {
        "item": "Chanh",
        "amount": 1,
        "unit": "quả"
      },
      {
        "item": "Muối",
        "amount": 1,
        "unit": "muỗng cà phê"
      }
    ],
    "steps": [
      {
        "step": 1,
        "description": "Ướp sườn heo với tỏi băm, nước mắm, tiêu, muối và 1 muỗng canh dầu ăn. Để trong 30 phút cho thấm gia vị."
      },
      {
        "step": 2,
        "description": "Trong thời gian chờ, pha mật ong với 1 muỗng canh dầu ăn còn lại và khuấy đều."
      },
      {
        "step": 3,
        "description": "Nướng sườn heo trên lửa than hoặc lò nướng ở nhiệt độ 200°C trong 20-25 phút, thỉnh thoảng phết mật ong lên mặt sườn để tạo lớp bóng đẹp và vị ngọt tự nhiên."
      },
      {
        "step": 4,
        "description": "Trong lúc đó, rửa sạch rau cải xoong, vắt lấy nước cốt chanh, trộn đều với rau, thêm muối và chút dầu ăn để làm món rau trộn."
      },
      {
        "step": 5,
        "description": "Sau khi sườn chín, cắt thành miếng vừa ăn, dọn ra đĩa và trang trí cùng rau cải xoong đã trộn."
      }
    ],
    "preparation_time": 30,
    "cooking_time": 25,
    "servings": 4,
    "difficulty": "trung bình"
  }
}
2025-05-02 11:44:08,984 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 11:44:08,984 - api.openai_api - INFO - Generated prompt for Thứ hai:
2025-05-02 11:44:08,984 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ hai với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực Trung Hoa
Ngân sách/bữa: 70000đ
Thời gian max: 120p
Format JSON:
{
  "Thứ hai": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:44:08,984 - api.openai_api - INFO - Sending request to OpenAI API for Thứ hai
2025-05-02 11:44:11,986 - api.openai_api - INFO - Raw API Response for Thứ hai:
2025-05-02 11:44:11,987 - api.openai_api - INFO - {
  "id": "chatcmpl-BScYMOjTxEFSbGBDHI1oVkeAujS6K",
  "object": "chat.completion",
  "created": 1746161082,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi v\u00e0 tr\u1ee9ng g\u00e0\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"mu\u1ed1i\"],\n      \"preparation_time\": 15,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\"],\n      \"nutrition_info\": {\n        \"protein\": \"6g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"8g\",\n        \"calories\": \"180 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"s\u01b0\u1eddn heo\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"12g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"rim/chi\u00ean\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u ki\u1ec3u Trung Hoa\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"tr\u1ee9ng g\u00e0\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\", \"\u0111\u01b0\u1eddng\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"tr\u1ee9ng g\u00e0\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"10g\",\n        \"fat\": \"20g\",\n        \"calories\": \"280 kcal\"\n      },\n      \"cooking_method\": \"h\u1ea7m/rim\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 556,
    "completion_tokens": 538,
    "total_tokens": 1094,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:44:11,987 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:44:11,987 - api.openai_api - INFO - {
  "Thứ hai": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi và trứng gà",
      "ingredients": ["bí đỏ tươi", "trứng gà", "tỏi", "dầu ăn", "muối"],
      "preparation_time": 15,
      "estimated_cost": 65000,
      "reused_ingredients": ["bí đỏ", "trứng gà"],
      "nutrition_info": {
        "protein": "6g",
        "carbs": "20g",
        "fat": "8g",
        "calories": "180 kcal"
      },
      "cooking_method": "xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa",
      "ingredients": ["sườn heo", "dứa tươi", "nước mắm", "hạt tiêu", "tỏi", "dầu ăn"],
      "preparation_time": 40,
      "estimated_cost": 70000,
      "reused_ingredients": ["sườn heo", "nước mắm"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "25g",
        "fat": "12g",
        "calories": "250 kcal"
      },
      "cooking_method": "rim/chiên",
      "food_groups": ["đạm", "tinh bột", "chất béo", "vitamin"]
    },
    "Bữa tối": {
      "name": "Thịt kho tàu kiểu Trung Hoa",
      "ingredients": ["thịt ba chỉ", "trứng gà", "nước mắm", "hạt tiêu", "tỏi", "đường"],
      "preparation_time": 60,
      "estimated_cost": 70000,
      "reused_ingredients": ["thịt ba chỉ", "trứng gà", "nước mắm"],
      "nutrition_info": {
        "protein": "18g",
        "carbs": "10g",
        "fat": "20g",
        "calories": "280 kcal"
      },
      "cooking_method": "hầm/rim",
      "food_groups": ["đạm", "tinh bột", "chất béo", "vitamin"]
    }
  }
}
2025-05-02 11:44:11,988 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 11:44:11,988 - api.openai_api - INFO - Generated prompt for Thứ ba:
2025-05-02 11:44:11,989 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ ba với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực Trung Hoa
Ngân sách/bữa: 70000đ
Thời gian max: 120p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Bí đỏ xào tỏi và trứng gà
2. Sườn heo rim dứa
3. Thịt kho tàu kiểu Trung Hoa
Format JSON:
{
  "Thứ ba": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:44:11,989 - api.openai_api - INFO - Sending request to OpenAI API for Thứ ba
2025-05-02 11:44:14,873 - api.openai_api - INFO - Raw API Response for Thứ ba:
2025-05-02 11:44:14,873 - api.openai_api - INFO - {
  "id": "chatcmpl-BScYPJwPZ86XKCozDmu4PhCyl1okL",
  "object": "chat.completion",
  "created": 1746161085,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng g\u00e0 h\u1ea5p b\u00ed \u0111\u1ecf theo phong c\u00e1ch Trung Hoa\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"G\u1eebng th\u00e1i nh\u1ecf\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 15,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"B\u00ed \u0111\u1ecf\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"8g\",\n        \"calories\": \"200 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea5p\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"G\u00e0 x\u00e0o \u1edbt chu\u00f4ng v\u00e0 ng\u00f4 ng\u1ecdt theo phong c\u00e1ch Trung Hoa\",\n      \"ingredients\": [\"Th\u1ecbt g\u00e0 fillet\", \"\u1edat chu\u00f4ng \u0111\u1ecf\", \"Ng\u00f4 ng\u1ecdt t\u01b0\u01a1i\", \"T\u1ecfi b\u0103m\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"\u1edat\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"10g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo n\u01b0\u1edbng m\u1eadt ong v\u00e0 c\u00e1c lo\u1ea1i rau c\u1ee7 theo phong c\u00e1ch Trung Hoa\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"N\u01b0\u1edbc m\u1eafm\", \"M\u1eadt ong\", \"\u1edat\", \"C\u1ea3i xoong\", \"T\u1ecfi b\u0103m\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"S\u01b0\u1eddn heo\", \"\u1edat\"],\n      \"nutrition_info\": {\n        \"protein\": \"22g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"12g\",\n        \"calories\": \"280 kcal\"\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng / Rang\",\n      \"food_groups\": [\"Protein\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 614,
    "completion_tokens": 542,
    "total_tokens": 1156,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:44:14,873 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:44:14,873 - api.openai_api - INFO - {
  "Thứ ba": {
    "Bữa sáng": {
      "name": "Trứng gà hấp bí đỏ theo phong cách Trung Hoa",
      "ingredients": ["Trứng gà", "Bí đỏ tươi", "Gừng thái nhỏ", "Nước mắm", "Hạt tiêu"],
      "preparation_time": 15,
      "estimated_cost": 65000,
      "reused_ingredients": ["Bí đỏ"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "20g",
        "fat": "8g",
        "calories": "200 kcal"
      },
      "cooking_method": "Hấp",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Gà xào ớt chuông và ngô ngọt theo phong cách Trung Hoa",
      "ingredients": ["Thịt gà fillet", "Ớt chuông đỏ", "Ngô ngọt tươi", "Tỏi băm", "Nước mắm", "Tiêu"],
      "preparation_time": 30,
      "estimated_cost": 70000,
      "reused_ingredients": ["Ớt"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "25g",
        "fat": "10g",
        "calories": "250 kcal"
      },
      "cooking_method": "Xào",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn heo nướng mật ong và các loại rau củ theo phong cách Trung Hoa",
      "ingredients": ["Sườn heo", "Nước mắm", "Mật ong", "Ớt", "Cải xoong", "Tỏi băm"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["Sườn heo", "Ớt"],
      "nutrition_info": {
        "protein": "22g",
        "carbs": "15g",
        "fat": "12g",
        "calories": "280 kcal"
      },
      "cooking_method": "Nướng / Rang",
      "food_groups": ["Protein", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:44:14,878 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 11:44:14,878 - api.openai_api - INFO - Generated prompt for Thứ tư:
2025-05-02 11:44:14,878 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ tư với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực Trung Hoa
Ngân sách/bữa: 70000đ
Thời gian max: 120p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Bí đỏ xào tỏi và trứng gà
2. Sườn heo rim dứa
3. Thịt kho tàu kiểu Trung Hoa
4. Trứng gà hấp bí đỏ theo phong cách Trung Hoa
5. Gà xào ớt chuông và ngô ngọt theo phong cách Trung Hoa
6. Sườn heo nướng mật ong và các loại rau củ theo phong cách Trung Hoa
Format JSON:
{
  "Thứ tư": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:44:14,879 - api.openai_api - INFO - Sending request to OpenAI API for Thứ tư
2025-05-02 11:44:17,851 - api.openai_api - INFO - Raw API Response for Thứ tư:
2025-05-02 11:44:17,851 - api.openai_api - INFO - {
  "id": "chatcmpl-BScYSf8uGkTQdz6OT2FPaCKqdhv6t",
  "object": "chat.completion",
  "created": 1746161088,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf h\u1ea5p tr\u1ee9ng g\u00e0 ki\u1ec3u Trung Hoa\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"g\u1eebng th\u00e1i l\u00e1t\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 15,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\"],\n      \"nutrition_info\": {\n        \"protein\": \"6g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"8g\",\n        \"calories\": \"180 kcal\"\n      },\n      \"cooking_method\": \"h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim ng\u00f4 ng\u1ecdt v\u00e0 \u1edbt chu\u00f4ng\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"ng\u00f4 ng\u1ecdt t\u01b0\u01a1i\", \"\u1edbt chu\u00f4ng\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"s\u01b0\u1eddn heo\", \"ng\u00f4 ng\u1ecdt\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"12g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o v\u00e0 rim\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt ba ch\u1ec9 n\u01b0\u1edbng mu\u1ed1i ti\u00eau, rau c\u1ea3i xoong x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"c\u1ea3i xoong\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"c\u1ea3i xoong\"],\n      \"nutrition_info\": {\n        \"protein\": \"14g\",\n        \"carbs\": \"5g\",\n        \"fat\": \"20g\",\n        \"calories\": \"290 kcal\"\n      },\n      \"cooking_method\": \"n\u01b0\u1edbng v\u00e0 x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 673,
    "completion_tokens": 544,
    "total_tokens": 1217,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:44:17,851 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:44:17,851 - api.openai_api - INFO - {
  "Thứ tư": {
    "Bữa sáng": {
      "name": "Bí đỏ hấp trứng gà kiểu Trung Hoa",
      "ingredients": ["bí đỏ tươi", "trứng gà", "gừng thái lát", "nước mắm", "hạt tiêu"],
      "preparation_time": 15,
      "estimated_cost": 70000,
      "reused_ingredients": ["bí đỏ", "trứng gà"],
      "nutrition_info": {
        "protein": "6g",
        "carbs": "20g",
        "fat": "8g",
        "calories": "180 kcal"
      },
      "cooking_method": "hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim ngô ngọt và ớt chuông",
      "ingredients": ["sườn heo", "ngô ngọt tươi", "ớt chuông", "nước mắm", "hạt tiêu", "tỏi"],
      "preparation_time": 40,
      "estimated_cost": 70000,
      "reused_ingredients": ["sườn heo", "ngô ngọt"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "25g",
        "fat": "12g",
        "calories": "250 kcal"
      },
      "cooking_method": "xào và rim",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Thịt ba chỉ nướng muối tiêu, rau cải xoong xào tỏi",
      "ingredients": ["thịt ba chỉ", "cải xoong", "tỏi", "nước mắm", "hạt tiêu"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["thịt ba chỉ", "cải xoong"],
      "nutrition_info": {
        "protein": "14g",
        "carbs": "5g",
        "fat": "20g",
        "calories": "290 kcal"
      },
      "cooking_method": "nướng và xào",
      "food_groups": ["đạm", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:44:17,854 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 11:44:17,854 - api.openai_api - INFO - Generated prompt for Thứ năm:
2025-05-02 11:44:17,854 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ năm với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực Trung Hoa
Ngân sách/bữa: 70000đ
Thời gian max: 120p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Bí đỏ xào tỏi và trứng gà
2. Sườn heo rim dứa
3. Thịt kho tàu kiểu Trung Hoa
4. Trứng gà hấp bí đỏ theo phong cách Trung Hoa
5. Gà xào ớt chuông và ngô ngọt theo phong cách Trung Hoa
6. Sườn heo nướng mật ong và các loại rau củ theo phong cách Trung Hoa
7. Bí đỏ hấp trứng gà kiểu Trung Hoa
8. Sườn heo rim ngô ngọt và ớt chuông
9. Thịt ba chỉ nướng muối tiêu, rau cải xoong xào tỏi
Format JSON:
{
  "Thứ năm": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:44:17,854 - api.openai_api - INFO - Sending request to OpenAI API for Thứ năm
2025-05-02 11:44:19,855 - api.openai_api - INFO - Raw API Response for Thứ năm:
2025-05-02 11:44:19,856 - api.openai_api - INFO - {
  "id": "chatcmpl-BScYVcz9VwidQng8jIutGiX9Nc0S9",
  "object": "chat.completion",
  "created": 1746161091,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Ch\u00e1o b\u00ed \u0111\u1ecf tr\u1ee9ng g\u00e0 h\u1ea5p h\u00e0nh\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"g\u1ea1o\", \"h\u00e0nh l\u00e1 (\u00edt, \u0111\u1ec3 trang tr\u00ed)\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 68000,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"7g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"h\u1ea5p, lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"vitamin\", \"ch\u1ea5t b\u00e9o\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim b\u00ed \u0111\u1ecf v\u00e0 \u1edbt chu\u00f4ng\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"b\u00ed \u0111\u1ecf\", \"\u1edbt chu\u00f4ng\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"ti\u00eau\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\", \"\u1edbt\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"18g\",\n        \"fat\": \"15g\",\n        \"calories\": \"300 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, rim\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 726,
    "completion_tokens": 361,
    "total_tokens": 1087,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:44:19,856 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:44:19,856 - api.openai_api - INFO - {
  "Thứ năm": {
    "Bữa sáng": {
      "name": "Cháo bí đỏ trứng gà hấp hành",
      "ingredients": ["bí đỏ tươi", "trứng gà", "gạo", "hành lá (ít, để trang trí)"],
      "preparation_time": 30,
      "estimated_cost": 68000,
      "reused_ingredients": ["bí đỏ", "trứng gà"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "45g",
        "fat": "7g",
        "calories": "250 kcal"
      },
      "cooking_method": "hấp, luộc",
      "food_groups": ["đạm", "tinh bột", "vitamin", "chất béo"]
    },
    "Bữa tối": {
      "name": "Sườn heo rim bí đỏ và ớt chuông",
      "ingredients": ["sườn heo", "bí đỏ", "ớt chuông", "tỏi", "nước mắm", "tiêu"],
      "preparation_time": 60,
      "estimated_cost": 69000,
      "reused_ingredients": ["bí đỏ", "ớt"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "18g",
        "fat": "15g",
        "calories": "300 kcal"
      },
      "cooking_method": "xào, rim",
      "food_groups": ["đạm", "tinh bột", "chất béo", "vitamin"]
    }
  }
}
2025-05-02 11:44:19,856 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 11:44:19,856 - api.openai_api - INFO - Generated prompt for Thứ sáu:
2025-05-02 11:44:19,856 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ sáu với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực Trung Hoa
Ngân sách/bữa: 70000đ
Thời gian max: 120p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Bí đỏ xào tỏi và trứng gà
2. Sườn heo rim dứa
3. Thịt kho tàu kiểu Trung Hoa
4. Trứng gà hấp bí đỏ theo phong cách Trung Hoa
5. Gà xào ớt chuông và ngô ngọt theo phong cách Trung Hoa
6. Sườn heo nướng mật ong và các loại rau củ theo phong cách Trung Hoa
7. Bí đỏ hấp trứng gà kiểu Trung Hoa
8. Sườn heo rim ngô ngọt và ớt chuông
9. Thịt ba chỉ nướng muối tiêu, rau cải xoong xào tỏi
10. Cháo bí đỏ trứng gà hấp hành
11. Sườn heo rim bí đỏ và ớt chuông
Format JSON:
{
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 11:44:19,858 - api.openai_api - INFO - Sending request to OpenAI API for Thứ sáu
2025-05-02 11:44:22,882 - api.openai_api - INFO - Raw API Response for Thứ sáu:
2025-05-02 11:44:22,882 - api.openai_api - INFO - {
  "id": "chatcmpl-BScYXMdz6aDKKxVk7WAyTorvTzVkU",
  "object": "chat.completion",
  "created": 1746161093,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Ch\u00e1o b\u00ed \u0111\u1ecf tr\u1ee9ng g\u00e0 ki\u1ec3u Trung Hoa\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"g\u1ea1o\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"g\u1eebng nh\u1ecf\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"7g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"lu\u1ed9c, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim m\u1eafm t\u1ecfi v\u1edbi ng\u00f4 ng\u1ecdt\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"ng\u00f4 ng\u1ecdt t\u01b0\u01a1i\", \"n\u01b0\u1edbc m\u1eafm\", \"t\u1ecfi\", \"h\u1ea1t ti\u00eau\", \"\u1edbt\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"s\u01b0\u1eddn heo\", \"ng\u00f4 ng\u1ecdt\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"12g\",\n        \"calories\": \"280 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, rim\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"G\u00e0 h\u1ea5p x\u00e0o b\u00ed \u0111\u1ecf v\u00e0 c\u1ea3i xoong phong c\u00e1ch Trung Hoa\",\n      \"ingredients\": [\"th\u1ecbt g\u00e0 \u0111\u00f9i ho\u1eb7c \u1ee9c\", \"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"c\u1ea3i xoong\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"g\u1eebng nh\u1ecf\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\", \"c\u1ea3i xoong\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"12g\",\n        \"fat\": \"4g\",\n        \"calories\": \"180 kcal\"\n      },\n      \"cooking_method\": \"h\u1ea5p, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 758,
    "completion_tokens": 561,
    "total_tokens": 1319,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:44:22,882 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:44:22,882 - api.openai_api - INFO - {
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "Cháo bí đỏ trứng gà kiểu Trung Hoa",
      "ingredients": ["bí đỏ tươi", "trứng gà", "gạo", "nước mắm", "hạt tiêu", "gừng nhỏ"],
      "preparation_time": 30,
      "estimated_cost": 70000,
      "reused_ingredients": ["bí đỏ", "trứng gà"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "45g",
        "fat": "7g",
        "calories": "250 kcal"
      },
      "cooking_method": "luộc, hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim mắm tỏi với ngô ngọt",
      "ingredients": ["sườn heo", "ngô ngọt tươi", "nước mắm", "tỏi", "hạt tiêu", "ớt"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["sườn heo", "ngô ngọt"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "20g",
        "fat": "12g",
        "calories": "280 kcal"
      },
      "cooking_method": "xào, rim",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Gà hấp xào bí đỏ và cải xoong phong cách Trung Hoa",
      "ingredients": ["thịt gà đùi hoặc ức", "bí đỏ tươi", "cải xoong", "nước mắm", "hạt tiêu", "gừng nhỏ"],
      "preparation_time": 40,
      "estimated_cost": 70000,
      "reused_ingredients": ["bí đỏ", "cải xoong"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "12g",
        "fat": "4g",
        "calories": "180 kcal"
      },
      "cooking_method": "hấp, xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 11:44:52,142 - api.openai_api - INFO - Sending recipe request to OpenAI API with model: gpt-4.1-nano
2025-05-02 11:44:56,358 - api.openai_api - INFO - Raw API Response Object:
2025-05-02 11:44:56,358 - api.openai_api - INFO - {
  "id": "chatcmpl-BScZ4QN1qPlfwUVtaYweBCZAdsG0D",
  "object": "chat.completion",
  "created": 1746161126,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"recipe\": {\n    \"name\": \"Th\u1ecbt kho t\u00e0u ki\u1ec3u Trung Hoa\",\n    \"cuisine_type\": \"\u1ea8m th\u1ef1c Trung Hoa\",\n    \"ingredients\": [\n      {\n        \"item\": \"Th\u1ecbt ba ch\u1ec9\",\n        \"amount\": 500,\n        \"unit\": \"gram\"\n      },\n      {\n        \"item\": \"H\u00e0nh t\u00edm\",\n        \"amount\": 3,\n        \"unit\": \" c\u1ee7\"\n      },\n      {\n        \"item\": \"G\u1eebng\",\n        \"amount\": 20,\n        \"unit\": \"gram\"\n      },\n      {\n        \"item\": \"N\u01b0\u1edbc t\u01b0\u01a1ng\",\n        \"amount\": 3,\n        \"unit\": \" mu\u1ed7ng canh\"\n      },\n      {\n        \"item\": \"R\u01b0\u1ee3u Shaoxing\",\n        \"amount\": 2,\n        \"unit\": \" mu\u1ed7ng canh\"\n      },\n      {\n        \"item\": \"\u0110\u01b0\u1eddng\",\n        \"amount\": 1,\n        \"unit\": \"mu\u1ed7ng c\u00e0 ph\u00ea\"\n      },\n      {\n        \"item\": \"N\u01b0\u1edbc l\u1ecdc\",\n        \"amount\": 300,\n        \"unit\": \"ml\"\n      },\n      {\n        \"item\": \"H\u00e0nh l\u00e1\",\n        \"amount\": 2,\n        \"unit\": \" c\u00e2y\"\n      }\n    ],\n    \"steps\": [\n      {\n        \"step\": 1,\n        \"description\": \"C\u1eaft th\u1ecbt ba ch\u1ec9 th\u00e0nh t\u1eebng mi\u1ebfng vu\u00f4ng v\u1eeba \u0103n, r\u1eeda s\u1ea1ch v\u00e0 \u0111\u1ec3 r\u00e1o n\u01b0\u1edbc.\"\n      },\n      {\n        \"step\": 2,\n        \"description\": \"B\u0103m nh\u1ecf h\u00e0nh t\u00edm v\u00e0 g\u1eebng.\"\n      },\n      {\n        \"step\": 3,\n        \"description\": \"\u0110un n\u00f3ng m\u1ed9t \u00edt d\u1ea7u trong n\u1ed3i, phi th\u01a1m h\u00e0nh t\u00edm v\u00e0 g\u1eebng \u0111\u1ebfn khi d\u1eady m\u00f9i.\"\n      },\n      {\n        \"step\": 4,\n        \"description\": \"Th\u00eam th\u1ecbt v\u00e0o x\u00e0o s\u0103n, \u0111\u1ea3o \u0111\u1ec1u cho \u0111\u1ebfn khi th\u1ecbt s\u0103n l\u1ea1i.\"\n      },\n      {\n        \"step\": 5,\n        \"description\": \"Cho n\u01b0\u1edbc t\u01b0\u01a1ng, r\u01b0\u1ee3u Shaoxing, \u0111\u01b0\u1eddng v\u00e0o \u0111\u1ea3o \u0111\u1ec1u \u0111\u1ec3 th\u1ecbt th\u1ea5m gia v\u1ecb.\"\n      },\n      {\n        \"step\": 6,\n        \"description\": \"Th\u00eam n\u01b0\u1edbc l\u1ecdc v\u00e0o n\u1ed3i, \u0111un s\u00f4i r\u1ed3i gi\u1ea3m l\u1eeda, h\u1ea7m nh\u1ecf l\u1eeda trong 40 ph\u00fat cho th\u1ecbt m\u1ec1m.\"\n      },\n      {\n        \"step\": 7,\n        \"description\": \"Trong khi \u0111\u00f3, c\u1eaft h\u00e0nh l\u00e1 th\u00e0nh kh\u00fac nh\u1ecf.\"\n      },\n      {\n        \"step\": 8,\n        \"description\": \"N\u00eam n\u1ebfm l\u1ea1i gia v\u1ecb cho v\u1eeba \u0103n, r\u1ed3i r\u1eafc h\u00e0nh l\u00e1 l\u00ean tr\u00ean tr\u01b0\u1edbc khi t\u1eaft b\u1ebfp.\"\n      }\n    ],\n    \"preparation_time\": 15,\n    \"cooking_time\": 45,\n    \"servings\": 4,\n    \"difficulty\": \"trung b\u00ecnh\"\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 325,
    "completion_tokens": 616,
    "total_tokens": 941,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 11:44:56,358 - api.openai_api - INFO - Raw API Response:
2025-05-02 11:44:56,358 - api.openai_api - INFO - {
  "recipe": {
    "name": "Thịt kho tàu kiểu Trung Hoa",
    "cuisine_type": "Ẩm thực Trung Hoa",
    "ingredients": [
      {
        "item": "Thịt ba chỉ",
        "amount": 500,
        "unit": "gram"
      },
      {
        "item": "Hành tím",
        "amount": 3,
        "unit": " củ"
      },
      {
        "item": "Gừng",
        "amount": 20,
        "unit": "gram"
      },
      {
        "item": "Nước tương",
        "amount": 3,
        "unit": " muỗng canh"
      },
      {
        "item": "Rượu Shaoxing",
        "amount": 2,
        "unit": " muỗng canh"
      },
      {
        "item": "Đường",
        "amount": 1,
        "unit": "muỗng cà phê"
      },
      {
        "item": "Nước lọc",
        "amount": 300,
        "unit": "ml"
      },
      {
        "item": "Hành lá",
        "amount": 2,
        "unit": " cây"
      }
    ],
    "steps": [
      {
        "step": 1,
        "description": "Cắt thịt ba chỉ thành từng miếng vuông vừa ăn, rửa sạch và để ráo nước."
      },
      {
        "step": 2,
        "description": "Băm nhỏ hành tím và gừng."
      },
      {
        "step": 3,
        "description": "Đun nóng một ít dầu trong nồi, phi thơm hành tím và gừng đến khi dậy mùi."
      },
      {
        "step": 4,
        "description": "Thêm thịt vào xào săn, đảo đều cho đến khi thịt săn lại."
      },
      {
        "step": 5,
        "description": "Cho nước tương, rượu Shaoxing, đường vào đảo đều để thịt thấm gia vị."
      },
      {
        "step": 6,
        "description": "Thêm nước lọc vào nồi, đun sôi rồi giảm lửa, hầm nhỏ lửa trong 40 phút cho thịt mềm."
      },
      {
        "step": 7,
        "description": "Trong khi đó, cắt hành lá thành khúc nhỏ."
      },
      {
        "step": 8,
        "description": "Nêm nếm lại gia vị cho vừa ăn, rồi rắc hành lá lên trên trước khi tắt bếp."
      }
    ],
    "preparation_time": 15,
    "cooking_time": 45,
    "servings": 4,
    "difficulty": "trung bình"
  }
}
2025-05-02 13:34:20,241 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 13:34:20,241 - api.openai_api - INFO - Generated prompt for Thứ hai:
2025-05-02 13:34:20,241 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ hai với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực Pháp
Ngân sách/bữa: 70000đ
Thời gian max: 60p
Format JSON:
{
  "Thứ hai": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 13:34:20,243 - api.openai_api - INFO - Sending request to OpenAI API for Thứ hai
2025-05-02 13:34:24,217 - api.openai_api - INFO - Raw API Response for Thứ hai:
2025-05-02 13:34:24,217 - api.openai_api - INFO - {
  "id": "chatcmpl-BSeH1OVhmNOhmjdu7xzNrC7yOA9DE",
  "object": "chat.completion",
  "created": 1746167695,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi v\u00e0 tr\u1ee9ng g\u00e0 \u1ed1p la\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\", \"tr\u1ee9ng g\u00e0\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 60000,\n      \"reused_ingredients\": [\"t\u1ecfi\", \"d\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"10g\",\n        \"calories\": \"250kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o, chi\u00ean\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"\u0111\u01b0\u1eddng\", \"d\u1ea7u \u0103n\", \"g\u1ea1o\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"d\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"60g\",\n        \"fat\": \"15g\",\n        \"calories\": \"500kcal\"\n      },\n      \"cooking_method\": \"rim, lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 salad c\u1ea3i xoong\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"c\u1ea3i xoong\", \"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\", \"\u1edbt\"],\n      \"preparation_time\": 55,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"d\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"12g\",\n        \"calories\": \"330kcal\"\n      },\n      \"cooking_method\": \"rim, tr\u1ed9n salad\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 556,
    "completion_tokens": 541,
    "total_tokens": 1097,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 13:34:24,218 - api.openai_api - INFO - Raw API Response:
2025-05-02 13:34:24,219 - api.openai_api - INFO - {
  "Thứ hai": {
    "Bữa sáng": {
      "name": "Bí đỏ xào tỏi và trứng gà ốp la",
      "ingredients": ["bí đỏ", "tỏi", "trứng gà", "dầu ăn"],
      "preparation_time": 20,
      "estimated_cost": 60000,
      "reused_ingredients": ["tỏi", "dầu ăn"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "25g",
        "fat": "10g",
        "calories": "250kcal"
      },
      "cooking_method": "xào, chiên",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm trắng",
      "ingredients": ["sườn heo", "dứa", "tỏi", "nước mắm", "đường", "dầu ăn", "gạo"],
      "preparation_time": 45,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "dầu ăn"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "60g",
        "fat": "15g",
        "calories": "500kcal"
      },
      "cooking_method": "rim, luộc",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn heo rim dứa và salad cải xoong",
      "ingredients": ["sườn heo", "dứa", "cải xoong", "dầu ăn", "nước mắm", "ớt"],
      "preparation_time": 55,
      "estimated_cost": 70000,
      "reused_ingredients": ["nước mắm", "dầu ăn"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "25g",
        "fat": "12g",
        "calories": "330kcal"
      },
      "cooking_method": "rim, trộn salad",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 13:34:24,222 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 13:34:24,223 - api.openai_api - INFO - Generated prompt for Thứ ba:
2025-05-02 13:34:24,223 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ ba với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực Pháp
Ngân sách/bữa: 70000đ
Thời gian max: 60p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Bí đỏ xào tỏi và trứng gà ốp la
2. Sườn heo rim dứa và cơm trắng
3. Sườn heo rim dứa và salad cải xoong
Format JSON:
{
  "Thứ ba": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 13:34:24,225 - api.openai_api - INFO - Sending request to OpenAI API for Thứ ba
2025-05-02 13:34:27,328 - api.openai_api - INFO - Raw API Response for Thứ ba:
2025-05-02 13:34:27,328 - api.openai_api - INFO - {
  "id": "chatcmpl-BSeH4QgYcOLMONVfiO9nSRVxeKsvl",
  "object": "chat.completion",
  "created": 1746167698,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf nghi\u1ec1n tr\u1ee9ng h\u1ea5p ki\u1ec3u Ph\u00e1p\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"t\u1ecfi b\u0103m\", \"s\u1eefa t\u01b0\u01a1i\", \"b\u01a1\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"10g\",\n        \"calories\": \"210 kcal\"\n      },\n      \"cooking_method\": \"h\u1ea5p, nghi\u1ec1n, tr\u00e1ng\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo n\u01b0\u1edbng m\u1eadt ong ki\u1ec3u Ph\u00e1p\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"m\u1eadt ong\", \"t\u1ecfi b\u0103m\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"d\u1ea7u olive\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"s\u01b0\u1eddn heo\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"10g\",\n        \"fat\": \"15g\",\n        \"calories\": \"290 kcal\"\n      },\n      \"cooking_method\": \"n\u01b0\u1edbng, \u01b0\u1edbp\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Canh ng\u00f4 ng\u1ecdt h\u1ea5p d\u1eabn v\u1edbi rau c\u1ea3i xoong\",\n      \"ingredients\": [\"ng\u00f4 ng\u1ecdt\", \"c\u1ea3i xoong\", \"t\u00f4m kh\u00f4 (t\u00f9y ch\u1ecdn)\", \"n\u01b0\u1edbc d\u00f9ng g\u00e0\", \"h\u1ea1t ti\u00eau\", \"gia v\u1ecb\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 60000,\n      \"reused_ingredients\": [\"ng\u00f4 ng\u1ecdt\", \"c\u1ea3i xoong\"],\n      \"nutrition_info\": {\n        \"protein\": \"5g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"2g\",\n        \"calories\": \"150 kcal\"\n      },\n      \"cooking_method\": \"lu\u1ed9c, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 627,
    "completion_tokens": 548,
    "total_tokens": 1175,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 13:34:27,332 - api.openai_api - INFO - Raw API Response:
2025-05-02 13:34:27,332 - api.openai_api - INFO - {
  "Thứ ba": {
    "Bữa sáng": {
      "name": "Bí đỏ nghiền trứng hấp kiểu Pháp",
      "ingredients": ["bí đỏ tươi", "trứng gà", "tỏi băm", "sữa tươi", "bơ", "hạt tiêu"],
      "preparation_time": 30,
      "estimated_cost": 65000,
      "reused_ingredients": ["bí đỏ", "trứng gà"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "25g",
        "fat": "10g",
        "calories": "210 kcal"
      },
      "cooking_method": "hấp, nghiền, tráng",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo nướng mật ong kiểu Pháp",
      "ingredients": ["sườn heo", "mật ong", "tỏi băm", "nước mắm", "hạt tiêu", "dầu olive"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["sườn heo"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "10g",
        "fat": "15g",
        "calories": "290 kcal"
      },
      "cooking_method": "nướng, ướp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Canh ngô ngọt hấp dẫn với rau cải xoong",
      "ingredients": ["ngô ngọt", "cải xoong", "tôm khô (tùy chọn)", "nước dùng gà", "hạt tiêu", "gia vị"],
      "preparation_time": 40,
      "estimated_cost": 60000,
      "reused_ingredients": ["ngô ngọt", "cải xoong"],
      "nutrition_info": {
        "protein": "5g",
        "carbs": "30g",
        "fat": "2g",
        "calories": "150 kcal"
      },
      "cooking_method": "luộc, hấp",
      "food_groups": ["đạm", "tinh bột", "Vitamin"]
    }
  }
}
2025-05-02 13:34:27,335 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 13:34:27,336 - api.openai_api - INFO - Generated prompt for Thứ tư:
2025-05-02 13:34:27,336 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ tư với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực Pháp
Ngân sách/bữa: 70000đ
Thời gian max: 60p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Bí đỏ xào tỏi và trứng gà ốp la
2. Sườn heo rim dứa và cơm trắng
3. Sườn heo rim dứa và salad cải xoong
4. Bí đỏ nghiền trứng hấp kiểu Pháp
5. Sườn heo nướng mật ong kiểu Pháp
6. Canh ngô ngọt hấp dẫn với rau cải xoong
Format JSON:
{
  "Thứ tư": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 13:34:27,344 - api.openai_api - INFO - Sending request to OpenAI API for Thứ tư
2025-05-02 13:34:30,625 - api.openai_api - INFO - Raw API Response for Thứ tư:
2025-05-02 13:34:30,626 - api.openai_api - INFO - {
  "id": "chatcmpl-BSeH7MHrIeU0gpVZR8QVF0cbpEWT8",
  "object": "chat.completion",
  "created": 1746167701,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf h\u1ea5p s\u1ed1t kem Ph\u00e1p k\u00e8m tr\u1ee9ng lu\u1ed9c\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"s\u1eefa t\u01b0\u01a1i\", \"ph\u00f4 mai\", \"t\u1ecfi\", \"tr\u1ee9ng g\u00e0\", \"d\u1ea7u \u00f4liu\", \"h\u1ea1t ti\u00eau\", \"mu\u1ed1i\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 68000,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"12g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"h\u1ea5p, n\u01b0\u1edbng, lu\u1ed9c\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim m\u1eadn v\u00e0 rau c\u1ea3i xoong x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"m\u1eadn t\u01b0\u01a1i\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\", \"ti\u00eau\", \"rau c\u1ea3i xoong\"],\n      \"preparation_time\": 55,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"rau c\u1ea3i xoong\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"rim, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"G\u00e0 n\u01b0\u1edbng ki\u1ec3u Ph\u00e1p v\u1edbi s\u00fap b\u00ed \u0111\u1ecf\",\n      \"ingredients\": [\"th\u1ecbt g\u00e0 t\u01b0\u01a1i\", \"gia v\u1ecb Ph\u00e1p (th\u00ec l\u00e0, t\u1ecfi, ti\u00eau, mu\u1ed1i)\", \"b\u00ed \u0111\u1ecf\", \"s\u1eefa t\u01b0\u01a1i\", \"d\u1ea7u \u00f4liu\", \"n\u01b0\u1edbc d\u00f9ng g\u00e0\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\"],\n      \"nutrition_info\": {\n        \"protein\": \"25g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"10g\",\n        \"calories\": \"280 kcal\"\n      },\n      \"cooking_method\": \"n\u01b0\u1edbng, lu\u1ed9c, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 670,
    "completion_tokens": 577,
    "total_tokens": 1247,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 13:34:30,631 - api.openai_api - INFO - Raw API Response:
2025-05-02 13:34:30,632 - api.openai_api - INFO - {
  "Thứ tư": {
    "Bữa sáng": {
      "name": "Bí đỏ hấp sốt kem Pháp kèm trứng luộc",
      "ingredients": ["bí đỏ tươi", "sữa tươi", "phô mai", "tỏi", "trứng gà", "dầu ôliu", "hạt tiêu", "muối"],
      "preparation_time": 45,
      "estimated_cost": 68000,
      "reused_ingredients": ["bí đỏ", "trứng"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "30g",
        "fat": "12g",
        "calories": "250 kcal"
      },
      "cooking_method": "hấp, nướng, luộc",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim mận và rau cải xoong xào tỏi",
      "ingredients": ["sườn heo", "mận tươi", "tỏi", "dầu ăn", "nước mắm", "tiêu", "rau cải xoong"],
      "preparation_time": 55,
      "estimated_cost": 69000,
      "reused_ingredients": ["rau cải xoong"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "25g",
        "fat": "15g",
        "calories": "350 kcal"
      },
      "cooking_method": "rim, xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Gà nướng kiểu Pháp với súp bí đỏ",
      "ingredients": ["thịt gà tươi", "gia vị Pháp (thì là, tỏi, tiêu, muối)", "bí đỏ", "sữa tươi", "dầu ôliu", "nước dùng gà"],
      "preparation_time": 60,
      "estimated_cost": 70000,
      "reused_ingredients": ["bí đỏ"],
      "nutrition_info": {
        "protein": "25g",
        "carbs": "20g",
        "fat": "10g",
        "calories": "280 kcal"
      },
      "cooking_method": "nướng, luộc, hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 13:34:30,635 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 13:34:30,636 - api.openai_api - INFO - Generated prompt for Thứ năm:
2025-05-02 13:34:30,636 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ năm với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực Pháp
Ngân sách/bữa: 70000đ
Thời gian max: 60p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Bí đỏ xào tỏi và trứng gà ốp la
2. Sườn heo rim dứa và cơm trắng
3. Sườn heo rim dứa và salad cải xoong
4. Bí đỏ nghiền trứng hấp kiểu Pháp
5. Sườn heo nướng mật ong kiểu Pháp
6. Canh ngô ngọt hấp dẫn với rau cải xoong
7. Bí đỏ hấp sốt kem Pháp kèm trứng luộc
8. Sườn heo rim mận và rau cải xoong xào tỏi
9. Gà nướng kiểu Pháp với súp bí đỏ
Format JSON:
{
  "Thứ năm": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 13:34:30,639 - api.openai_api - INFO - Sending request to OpenAI API for Thứ năm
2025-05-02 13:34:33,736 - api.openai_api - INFO - Raw API Response for Thứ năm:
2025-05-02 13:34:33,737 - api.openai_api - INFO - {
  "id": "chatcmpl-BSeHAcomDFsqLRvgSAoOLe3jPQ2aA",
  "object": "chat.completion",
  "created": 1746167704,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"\u1ed1p la tr\u1ee9ng g\u00e0 v\u1edbi b\u00ed \u0111\u1ecf h\u1ea5p th\u01a1m\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"d\u1ea7u \u0103n nh\u1ecf\", \"mu\u1ed1i\", \"ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"reused_ingredients\": [\"tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"10g\",\n        \"calories\": \"180 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o (tr\u1ee9ng), h\u1ea5p (b\u00ed \u0111\u1ecf)\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a ki\u1ec3u Ph\u00e1p\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"\u0111\u01b0\u1eddng\", \"h\u1ea1t ti\u00eau\", \"d\u1ea7u \u0103n\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"s\u01b0\u1eddn heo\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"15g\",\n        \"calories\": \"320 kcal\"\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng v\u00e0 rim\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"G\u1ecfi c\u1ea3i xoong v\u00e0 th\u1ecbt ba ch\u1ec9 n\u01b0\u1edbng ki\u1ec3u Ph\u00e1p\",\n      \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"c\u1ea3i xoong\", \"\u1edbt\", \"n\u01b0\u1edbc m\u1eafm\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"chanh\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"c\u1ea3i xoong\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"10g\",\n        \"fat\": \"20g\",\n        \"calories\": \"290 kcal\"\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng (th\u1ecbt), tr\u1ed9n (g\u1ecfi)\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 722,
    "completion_tokens": 552,
    "total_tokens": 1274,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 13:34:33,741 - api.openai_api - INFO - Raw API Response:
2025-05-02 13:34:33,741 - api.openai_api - INFO - {
  "Thứ năm": {
    "Bữa sáng": {
      "name": "ốp la trứng gà với bí đỏ hấp thơm",
      "ingredients": ["Trứng gà", "bí đỏ tươi", "dầu ăn nhỏ", "muối", "tiêu"],
      "preparation_time": 20,
      "estimated_cost": 65000,
      "reused_ingredients": ["trứng gà", "bí đỏ"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "15g",
        "fat": "10g",
        "calories": "180 kcal"
      },
      "cooking_method": "Xào (trứng), hấp (bí đỏ)",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa kiểu Pháp",
      "ingredients": ["Sườn heo", "dứa tươi", "tỏi", "nước mắm", "đường", "hạt tiêu", "dầu ăn"],
      "preparation_time": 50,
      "estimated_cost": 70000,
      "reused_ingredients": ["sườn heo"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "25g",
        "fat": "15g",
        "calories": "320 kcal"
      },
      "cooking_method": "Nướng và rim",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Gỏi cải xoong và thịt ba chỉ nướng kiểu Pháp",
      "ingredients": ["Thịt ba chỉ", "cải xoong", "ớt", "nước mắm", "tỏi", "dầu ăn", "chanh"],
      "preparation_time": 45,
      "estimated_cost": 69000,
      "reused_ingredients": ["cải xoong"],
      "nutrition_info": {
        "protein": "18g",
        "carbs": "10g",
        "fat": "20g",
        "calories": "290 kcal"
      },
      "cooking_method": "Nướng (thịt), trộn (gỏi)",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 13:34:33,742 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 13:34:33,744 - api.openai_api - INFO - Generated prompt for Thứ sáu:
2025-05-02 13:34:33,744 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ sáu với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực Pháp
Ngân sách/bữa: 70000đ
Thời gian max: 60p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Bí đỏ xào tỏi và trứng gà ốp la
2. Sườn heo rim dứa và cơm trắng
3. Sườn heo rim dứa và salad cải xoong
4. Bí đỏ nghiền trứng hấp kiểu Pháp
5. Sườn heo nướng mật ong kiểu Pháp
6. Canh ngô ngọt hấp dẫn với rau cải xoong
7. Bí đỏ hấp sốt kem Pháp kèm trứng luộc
8. Sườn heo rim mận và rau cải xoong xào tỏi
9. Gà nướng kiểu Pháp với súp bí đỏ
10. ốp la trứng gà với bí đỏ hấp thơm
11. Sườn heo rim dứa kiểu Pháp
12. Gỏi cải xoong và thịt ba chỉ nướng kiểu Pháp
Format JSON:
{
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 13:34:33,752 - api.openai_api - INFO - Sending request to OpenAI API for Thứ sáu
2025-05-02 13:34:36,911 - api.openai_api - INFO - Raw API Response for Thứ sáu:
2025-05-02 13:34:36,912 - api.openai_api - INFO - {
  "id": "chatcmpl-BSeHEXJithkXm0Vs1XwxnWDvbv3nu",
  "object": "chat.completion",
  "created": 1746167708,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf n\u01b0\u1edbng ki\u1ec3u Ph\u00e1p v\u1edbi tr\u1ee9ng ch\u1ea7n\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"t\u1ecfi b\u0103m\", \"d\u1ea7u \u00f4 liu\", \"gia v\u1ecb (mu\u1ed1i, ti\u00eau, th\u1ea3o m\u1ed9c Ph\u00e1p)\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 68000,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"12g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"n\u01b0\u1edbng, lu\u1ed9c, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"rau c\u1ee7 qu\u1ea3\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a ki\u1ec3u Ph\u00e1p v\u1edbi khoai t\u00e2y nghi\u1ec1n\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"t\u1ecfi\", \"d\u1ea7u \u00f4 liu\", \"gia v\u1ecb (mu\u1ed1i, ti\u00eau, th\u1ea3o m\u1ed9c Ph\u00e1p)\", \"khoai t\u00e2y\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 70000,\n      \"reused_ingredients\": [\"s\u01b0\u1eddn heo\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"40g\",\n        \"fat\": \"15g\",\n        \"calories\": \"400 kcal\"\n      },\n      \"cooking_method\": \"rim, lu\u1ed9c, nghi\u1ec1n\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"rau c\u1ee7 qu\u1ea3\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"G\u00e0 n\u01b0\u1edbng s\u1ed1t cam ki\u1ec3u Ph\u00e1p v\u1edbi rau c\u1ea3i xoong\",\n      \"ingredients\": [\"\u1ee9c g\u00e0\", \"cam t\u01b0\u01a1i\", \"d\u1ea7u \u00f4 liu\", \"gia v\u1ecb (mu\u1ed1i, ti\u00eau, th\u1ea3o m\u1ed9c Ph\u00e1p)\", \"rau c\u1ea3i xoong\"],\n      \"preparation_time\": 55,\n      \"estimated_cost\": 69000,\n      \"reused_ingredients\": [\"rau c\u1ea3i xoong\"],\n      \"nutrition_info\": {\n        \"protein\": \"22g\",\n        \"carbs\": \"10g\",\n        \"fat\": \"8g\",\n        \"calories\": \"210 kcal\"\n      },\n      \"cooking_method\": \"n\u01b0\u1edbng, h\u1ea5p, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"rau c\u1ee7 qu\u1ea3\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 773,
    "completion_tokens": 591,
    "total_tokens": 1364,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 13:34:36,918 - api.openai_api - INFO - Raw API Response:
2025-05-02 13:34:36,919 - api.openai_api - INFO - {
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "Bí đỏ nướng kiểu Pháp với trứng chần",
      "ingredients": ["bí đỏ tươi", "trứng gà", "tỏi băm", "dầu ô liu", "gia vị (muối, tiêu, thảo mộc Pháp)"],
      "preparation_time": 45,
      "estimated_cost": 68000,
      "reused_ingredients": ["bí đỏ", "trứng gà"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "30g",
        "fat": "12g",
        "calories": "250 kcal"
      },
      "cooking_method": "nướng, luộc, xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "rau củ quả"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa kiểu Pháp với khoai tây nghiền",
      "ingredients": ["sườn heo", "dứa tươi", "tỏi", "dầu ô liu", "gia vị (muối, tiêu, thảo mộc Pháp)", "khoai tây"],
      "preparation_time": 60,
      "estimated_cost": 70000,
      "reused_ingredients": ["sườn heo"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "40g",
        "fat": "15g",
        "calories": "400 kcal"
      },
      "cooking_method": "rim, luộc, nghiền",
      "food_groups": ["đạm", "tinh bột", "chất béo", "rau củ quả"]
    },
    "Bữa tối": {
      "name": "Gà nướng sốt cam kiểu Pháp với rau cải xoong",
      "ingredients": ["ức gà", "cam tươi", "dầu ô liu", "gia vị (muối, tiêu, thảo mộc Pháp)", "rau cải xoong"],
      "preparation_time": 55,
      "estimated_cost": 69000,
      "reused_ingredients": ["rau cải xoong"],
      "nutrition_info": {
        "protein": "22g",
        "carbs": "10g",
        "fat": "8g",
        "calories": "210 kcal"
      },
      "cooking_method": "nướng, hấp, xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "rau củ quả"]
    }
  }
}
2025-05-02 13:34:57,174 - api.openai_api - INFO - Sending recipe request to OpenAI API with model: gpt-4.1-nano
2025-05-02 13:35:00,458 - api.openai_api - INFO - Raw API Response Object:
2025-05-02 13:35:00,460 - api.openai_api - INFO - {
  "id": "chatcmpl-BSeHbs5d0iRG2KcYUuAYJ4IXvFedy",
  "object": "chat.completion",
  "created": 1746167731,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"recipe\": {\n    \"name\": \"B\u00ed \u0111\u1ecf nghi\u1ec1n tr\u1ee9ng h\u1ea5p ki\u1ec3u Ph\u00e1p\",\n    \"cuisine_type\": \"\u1ea8m th\u1ef1c Ph\u00e1p\",\n    \"ingredients\": [\n      {\n        \"item\": \"b\u00ed \u0111\u1ecf\",\n        \"amount\": 300,\n        \"unit\": \"g\"\n      },\n      {\n        \"item\": \"tr\u1ee9ng\",\n        \"amount\": 4,\n        \"unit\": \"qu\u1ea3\"\n      },\n      {\n        \"item\": \"s\u1eefa t\u01b0\u01a1i\",\n        \"amount\": 100,\n        \"unit\": \"ml\"\n      },\n      {\n        \"item\": \"b\u01a1\",\n        \"amount\": 20,\n        \"unit\": \"g\"\n      },\n      {\n        \"item\": \"mu\u1ed1i\",\n        \"amount\": 1,\n        \"unit\": \"g\"\n      },\n      {\n        \"item\": \"ti\u00eau \u0111en\",\n        \"amount\": 1,\n        \"unit\": \"g\"\n      }\n    ],\n    \"steps\": [\n      {\n        \"step\": 1,\n        \"description\": \"G\u1ecdt v\u1ecf b\u00ed \u0111\u1ecf, c\u1eaft th\u00e0nh mi\u1ebfng nh\u1ecf r\u1ed3i h\u1ea5p ch\u00edn trong v\u00f2ng 15 ph\u00fat cho \u0111\u1ebfn khi m\u1ec1m.\"\n      },\n      {\n        \"step\": 2,\n        \"description\": \"D\u1eb1m nhuy\u1ec5n b\u00ed \u0111\u1ecf \u0111\u00e3 ch\u00edn, sau \u0111\u00f3 tr\u1ed9n \u0111\u1ec1u v\u1edbi s\u1eefa t\u01b0\u01a1i v\u00e0 b\u01a1 \u0111\u00e3 \u0111un ch\u1ea3y, th\u00eam mu\u1ed1i v\u00e0 ti\u00eau \u0111\u1ec3 gia v\u1ecb.\"\n      },\n      {\n        \"step\": 3,\n        \"description\": \"D\u00f9ng th\u00eca m\u00fac h\u1ed7n h\u1ee3p b\u00ed \u0111\u1ecf v\u00e0o t\u1eebng chi\u1ebfc c\u1ed1c nh\u1ecf ch\u1ecbu nhi\u1ec7t.\"\n      },\n      {\n        \"step\": 4,\n        \"description\": \"Trong m\u1ed9t b\u00e1t l\u1edbn, \u0111\u00e1nh \u0111\u1ec1u tr\u1ee9ng r\u1ed3i r\u00f3t nh\u1eb9 nh\u00e0ng v\u00e0o t\u1eebng c\u1ed1c b\u00ed \u0111\u1ecf \u0111\u00e3 chu\u1ea9n b\u1ecb.\"\n      },\n      {\n        \"step\": 5,\n        \"description\": \"\u0110\u1eb7t c\u00e1c c\u1ed1c v\u00e0o x\u1eedng h\u1ea5p, h\u1ea5p trong v\u00f2ng 30 ph\u00fat \u1edf nhi\u1ec7t \u0111\u1ed9 trung b\u00ecnh cho \u0111\u1ebfn khi tr\u1ee9ng ch\u00edn m\u1ec1m.\"\n      },\n      {\n        \"step\": 6,\n        \"description\": \"L\u1ea5y ra kh\u1ecfi x\u1eedng, trang tr\u00ed th\u00eam ch\u00fat ti\u00eau xay v\u00e0 th\u01b0\u1edfng th\u1ee9c n\u00f3ng.\"\n      }\n    ],\n    \"preparation_time\": 20,\n    \"cooking_time\": 45,\n    \"servings\": 4,\n    \"difficulty\": \"trung b\u00ecnh\"\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 326,
    "completion_tokens": 505,
    "total_tokens": 831,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 13:35:00,471 - api.openai_api - INFO - Raw API Response:
2025-05-02 13:35:00,472 - api.openai_api - INFO - {
  "recipe": {
    "name": "Bí đỏ nghiền trứng hấp kiểu Pháp",
    "cuisine_type": "Ẩm thực Pháp",
    "ingredients": [
      {
        "item": "bí đỏ",
        "amount": 300,
        "unit": "g"
      },
      {
        "item": "trứng",
        "amount": 4,
        "unit": "quả"
      },
      {
        "item": "sữa tươi",
        "amount": 100,
        "unit": "ml"
      },
      {
        "item": "bơ",
        "amount": 20,
        "unit": "g"
      },
      {
        "item": "muối",
        "amount": 1,
        "unit": "g"
      },
      {
        "item": "tiêu đen",
        "amount": 1,
        "unit": "g"
      }
    ],
    "steps": [
      {
        "step": 1,
        "description": "Gọt vỏ bí đỏ, cắt thành miếng nhỏ rồi hấp chín trong vòng 15 phút cho đến khi mềm."
      },
      {
        "step": 2,
        "description": "Dằm nhuyễn bí đỏ đã chín, sau đó trộn đều với sữa tươi và bơ đã đun chảy, thêm muối và tiêu để gia vị."
      },
      {
        "step": 3,
        "description": "Dùng thìa múc hỗn hợp bí đỏ vào từng chiếc cốc nhỏ chịu nhiệt."
      },
      {
        "step": 4,
        "description": "Trong một bát lớn, đánh đều trứng rồi rót nhẹ nhàng vào từng cốc bí đỏ đã chuẩn bị."
      },
      {
        "step": 5,
        "description": "Đặt các cốc vào xửng hấp, hấp trong vòng 30 phút ở nhiệt độ trung bình cho đến khi trứng chín mềm."
      },
      {
        "step": 6,
        "description": "Lấy ra khỏi xửng, trang trí thêm chút tiêu xay và thưởng thức nóng."
      }
    ],
    "preparation_time": 20,
    "cooking_time": 45,
    "servings": 4,
    "difficulty": "trung bình"
  }
}
2025-05-02 13:57:59,275 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 13:57:59,276 - api.openai_api - INFO - Generated prompt for Thứ hai:
2025-05-02 13:57:59,276 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ hai với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 100000đ
Thời gian max: 90p
Format JSON:
{
  "Thứ hai": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 13:57:59,276 - api.openai_api - INFO - Sending request to OpenAI API for Thứ hai
2025-05-02 13:58:05,213 - api.openai_api - INFO - Raw API Response for Thứ hai:
2025-05-02 13:58:05,213 - api.openai_api - INFO - {
  "id": "chatcmpl-BSedulfto8Y0BydGSbITStujJdvca",
  "object": "chat.completion",
  "created": 1746169114,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng cu\u1ed9n b\u00ed \u0111\u1ecf h\u1ea5p\",\n      \"ingredients\": [\"b\u00e1nh m\u00ec\", \"tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf\", \"d\u1ea7u \u0103n\", \"h\u1ea1t ti\u00eau\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 35000,\n      \"reused_ingredients\": [\"tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf\"],\n      \"nutrition_info\": {\n        \"protein\": \"14g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"12g\",\n        \"calories\": \"350kcal\"\n      },\n      \"cooking_method\": \"h\u1ea5p, chi\u00ean, n\u01b0\u1edbng\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m g\u1ea1o t\u1ebb\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"g\u1ea1o t\u1ebb\"],\n      \"preparation_time\": 80,\n      \"estimated_cost\": 95000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"70g\",\n        \"fat\": \"15g\",\n        \"calories\": \"650kcal\"\n      },\n      \"cooking_method\": \"rim, lu\u1ed9c, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Canh b\u00ed \u0111\u1ecf n\u1ea5u t\u00f4m v\u00e0 salad c\u1ea3i xoong\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"t\u00f4m s\u00fa\", \"c\u1ea3i xoong\", \"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\", \"\u1edbt\", \"t\u1ecfi\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 60000,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"8g\",\n        \"calories\": \"250kcal\"\n      },\n      \"cooking_method\": \"lu\u1ed9c, x\u00e0o, tr\u1ed9n\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 558,
    "completion_tokens": 563,
    "total_tokens": 1121,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 13:58:05,213 - api.openai_api - INFO - Raw API Response:
2025-05-02 13:58:05,214 - api.openai_api - INFO - {
  "Thứ hai": {
    "Bữa sáng": {
      "name": "Bánh mì trứng cuộn bí đỏ hấp",
      "ingredients": ["bánh mì", "trứng gà", "bí đỏ", "dầu ăn", "hạt tiêu", "nước mắm"],
      "preparation_time": 30,
      "estimated_cost": 35000,
      "reused_ingredients": ["trứng gà", "bí đỏ"],
      "nutrition_info": {
        "protein": "14g",
        "carbs": "45g",
        "fat": "12g",
        "calories": "350kcal"
      },
      "cooking_method": "hấp, chiên, nướng",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Sườn heo rim dứa và cơm gạo tẻ",
      "ingredients": ["sườn heo", "dứa", "tỏi", "dầu ăn", "nước mắm", "hạt tiêu", "gạo tẻ"],
      "preparation_time": 80,
      "estimated_cost": 95000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "70g",
        "fat": "15g",
        "calories": "650kcal"
      },
      "cooking_method": "rim, luộc, hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Canh bí đỏ nấu tôm và salad cải xoong",
      "ingredients": ["bí đỏ", "tôm sú", "cải xoong", "dầu ăn", "nước mắm", "ớt", "tỏi"],
      "preparation_time": 50,
      "estimated_cost": 60000,
      "reused_ingredients": ["bí đỏ", "nước mắm"],
      "nutrition_info": {
        "protein": "18g",
        "carbs": "25g",
        "fat": "8g",
        "calories": "250kcal"
      },
      "cooking_method": "luộc, xào, trộn",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 13:58:05,215 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 13:58:05,215 - api.openai_api - INFO - Generated prompt for Thứ ba:
2025-05-02 13:58:05,215 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ ba với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 100000đ
Thời gian max: 90p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Bánh mì trứng cuộn bí đỏ hấp
2. Sườn heo rim dứa và cơm gạo tẻ
3. Canh bí đỏ nấu tôm và salad cải xoong
Format JSON:
{
  "Thứ ba": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 13:58:05,216 - api.openai_api - INFO - Sending request to OpenAI API for Thứ ba
2025-05-02 13:58:09,193 - api.openai_api - INFO - Raw API Response for Thứ ba:
2025-05-02 13:58:09,194 - api.openai_api - INFO - {
  "id": "chatcmpl-BSedzXcl2AO8Abqc47eAhmd8P3fgd",
  "object": "chat.completion",
  "created": 1746169119,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Ch\u00e1o tr\u1ee9ng g\u00e0 b\u00ed \u0111\u1ecf h\u1ea5p\",\n      \"ingredients\": [\"g\u1ea1o t\u1ebb\", \"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"h\u1ea1t ti\u00eau\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 95000,\n      \"reused_ingredients\": [\"tr\u1ee9ng g\u00e0\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"55g\",\n        \"fat\": \"7g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"lu\u1ed9c, h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"Th\u1ecbt ba ch\u1ec9 rim ti\u00eau x\u00e0o c\u1ea3i xoong\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"h\u1ea1t ti\u00eau\", \"c\u1ea3i xoong\", \"t\u1ecfi (kh\u00f4ng th\u00edch, b\u1ecf qua)\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 100000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"10g\",\n        \"fat\": \"18g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"r\u00e1n x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a n\u01b0\u1edbng\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"t\u1ecfi (kh\u00f4ng th\u00edch, b\u1ecf qua)\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 80,\n      \"estimated_cost\": 100000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"12g\",\n        \"fat\": \"20g\",\n        \"calories\": \"330 kcal\"\n      },\n      \"cooking_method\": \"n\u01b0\u1edbng, rim\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 627,
    "completion_tokens": 525,
    "total_tokens": 1152,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 13:58:09,194 - api.openai_api - INFO - Raw API Response:
2025-05-02 13:58:09,194 - api.openai_api - INFO - {
  "Thứ ba": {
    "Bữa sáng": {
      "name": "Cháo trứng gà bí đỏ hấp",
      "ingredients": ["gạo tẻ", "bí đỏ tươi", "trứng gà", "hạt tiêu", "nước mắm"],
      "preparation_time": 45,
      "estimated_cost": 95000,
      "reused_ingredients": ["trứng gà"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "55g",
        "fat": "7g",
        "calories": "350 kcal"
      },
      "cooking_method": "luộc, hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Thịt ba chỉ rim tiêu xào cải xoong",
      "ingredients": ["thịt ba chỉ", "hạt tiêu", "cải xoong", "tỏi (không thích, bỏ qua)", "nước mắm"],
      "preparation_time": 60,
      "estimated_cost": 100000,
      "reused_ingredients": ["nước mắm"],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "10g",
        "fat": "18g",
        "calories": "250 kcal"
      },
      "cooking_method": "rán xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn heo rim dứa nướng",
      "ingredients": ["sườn heo", "dứa tươi", "tỏi (không thích, bỏ qua)", "nước mắm", "hạt tiêu"],
      "preparation_time": 80,
      "estimated_cost": 100000,
      "reused_ingredients": ["nước mắm"],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "12g",
        "fat": "20g",
        "calories": "330 kcal"
      },
      "cooking_method": "nướng, rim",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 13:58:09,197 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 13:58:09,197 - api.openai_api - INFO - Generated prompt for Thứ tư:
2025-05-02 13:58:09,197 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ tư với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 100000đ
Thời gian max: 90p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Bánh mì trứng cuộn bí đỏ hấp
2. Sườn heo rim dứa và cơm gạo tẻ
3. Canh bí đỏ nấu tôm và salad cải xoong
4. Cháo trứng gà bí đỏ hấp
5. Thịt ba chỉ rim tiêu xào cải xoong
6. Sườn heo rim dứa nướng
Format JSON:
{
  "Thứ tư": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 13:58:09,197 - api.openai_api - INFO - Sending request to OpenAI API for Thứ tư
2025-05-02 13:58:13,431 - api.openai_api - INFO - Raw API Response for Thứ tư:
2025-05-02 13:58:13,431 - api.openai_api - INFO - {
  "id": "chatcmpl-BSee36wJmQvBNybVxklaSvPNO3Mck",
  "object": "chat.completion",
  "created": 1746169123,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng g\u00e0 x\u00e0o b\u00ed \u0111\u1ecf v\u00e0 c\u1ea3i xoong\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"C\u1ea3i xoong\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 90000,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"10g\",\n        \"calories\": \"220kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"Th\u1ecbt ba ch\u1ec9 kho ti\u00eau v\u1edbi c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"T\u1ecfi\", \"G\u1ea1o t\u1ebb\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 100000,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"50g\",\n        \"fat\": \"20g\",\n        \"calories\": \"500kcal\"\n      },\n      \"cooking_method\": \"Kho, lu\u1ed9c\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 x\u00e0 l\u00e1ch\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a t\u01b0\u01a1i\", \"\u1edat\", \"N\u01b0\u1edbc m\u1eafm\", \"D\u1ea7u \u0103n\", \"Rau x\u00e0 l\u00e1ch\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 100000,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350kcal\"\n      },\n      \"cooking_method\": \"Rim, h\u1ea5p\",\n      \"food_groups\": [\"\u0110\u1ea1m\", \"Tinh b\u1ed9t\", \"Ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 666,
    "completion_tokens": 506,
    "total_tokens": 1172,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 13:58:13,431 - api.openai_api - INFO - Raw API Response:
2025-05-02 13:58:13,431 - api.openai_api - INFO - {
  "Thứ tư": {
    "Bữa sáng": {
      "name": "Trứng gà xào bí đỏ và cải xoong",
      "ingredients": ["Trứng gà", "Bí đỏ tươi", "Cải xoong", "Tỏi", "Dầu ăn"],
      "preparation_time": 20,
      "estimated_cost": 90000,
      "reused_ingredients": [],
      "nutrition_info": {
        "protein": "12g",
        "carbs": "20g",
        "fat": "10g",
        "calories": "220kcal"
      },
      "cooking_method": "Xào",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa trưa": {
      "name": "Thịt ba chỉ kho tiêu với cơm trắng",
      "ingredients": ["Thịt ba chỉ", "Nước mắm", "Hạt tiêu", "Tỏi", "Gạo tẻ"],
      "preparation_time": 45,
      "estimated_cost": 100000,
      "reused_ingredients": [],
      "nutrition_info": {
        "protein": "15g",
        "carbs": "50g",
        "fat": "20g",
        "calories": "500kcal"
      },
      "cooking_method": "Kho, luộc",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn heo rim dứa và xà lách",
      "ingredients": ["Sườn heo", "Dứa tươi", "Ớt", "Nước mắm", "Dầu ăn", "Rau xà lách"],
      "preparation_time": 60,
      "estimated_cost": 100000,
      "reused_ingredients": [],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "25g",
        "fat": "15g",
        "calories": "350kcal"
      },
      "cooking_method": "Rim, hấp",
      "food_groups": ["Đạm", "Tinh bột", "Chất béo", "Vitamin"]
    }
  }
}
2025-05-02 13:58:13,436 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 13:58:13,436 - api.openai_api - INFO - Generated prompt for Thứ năm:
2025-05-02 13:58:13,436 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ năm với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 100000đ
Thời gian max: 90p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Bánh mì trứng cuộn bí đỏ hấp
2. Sườn heo rim dứa và cơm gạo tẻ
3. Canh bí đỏ nấu tôm và salad cải xoong
4. Cháo trứng gà bí đỏ hấp
5. Thịt ba chỉ rim tiêu xào cải xoong
6. Sườn heo rim dứa nướng
7. Trứng gà xào bí đỏ và cải xoong
8. Thịt ba chỉ kho tiêu với cơm trắng
9. Sườn heo rim dứa và xà lách
Format JSON:
{
  "Thứ năm": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 13:58:13,437 - api.openai_api - INFO - Sending request to OpenAI API for Thứ năm
2025-05-02 13:58:16,259 - api.openai_api - INFO - Raw API Response for Thứ năm:
2025-05-02 13:58:16,260 - api.openai_api - INFO - {
  "id": "chatcmpl-BSee7kw49nmrWCcwWTFfEhVrBDRug",
  "object": "chat.completion",
  "created": 1746169127,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Ch\u00e1o b\u00ed \u0111\u1ecf tr\u1ee9ng g\u00e0\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"g\u1ea1o t\u1ebb\", \"h\u00e0nh t\u00edm\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 95000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"60g\",\n        \"fat\": \"10g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"lu\u1ed9c v\u00e0 h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim b\u00ed \u0111\u1ecf v\u00e0 c\u1ea3i xoong\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"b\u00ed \u0111\u1ecf\", \"c\u1ea3i xoong\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 100000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"rim, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"Vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 710,
    "completion_tokens": 360,
    "total_tokens": 1070,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 13:58:16,260 - api.openai_api - INFO - Raw API Response:
2025-05-02 13:58:16,260 - api.openai_api - INFO - {
  "Thứ năm": {
    "Bữa sáng": {
      "name": "Cháo bí đỏ trứng gà",
      "ingredients": ["bí đỏ tươi", "trứng gà", "gạo tẻ", "hành tím", "nước mắm", "hạt tiêu"],
      "preparation_time": 45,
      "estimated_cost": 95000,
      "reused_ingredients": ["nước mắm"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "60g",
        "fat": "10g",
        "calories": "350 kcal"
      },
      "cooking_method": "luộc và hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn heo rim bí đỏ và cải xoong",
      "ingredients": ["sườn heo", "bí đỏ", "cải xoong", "nước mắm", "hạt tiêu", "tỏi"],
      "preparation_time": 60,
      "estimated_cost": 100000,
      "reused_ingredients": ["nước mắm", "hạt tiêu"],
      "nutrition_info": {
        "protein": "18g",
        "carbs": "25g",
        "fat": "15g",
        "calories": "350 kcal"
      },
      "cooking_method": "rim, xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "Vitamin"]
    }
  }
}
2025-05-02 13:58:16,260 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 13:58:16,260 - api.openai_api - INFO - Generated prompt for Thứ sáu:
2025-05-02 13:58:16,260 - api.openai_api - INFO - Bạn là một đầu bếp chuyên nghiệp với kiến thức sâu rộng về dinh dưỡng và ẩm thực. 
Hãy tạo thực đơn cho Thứ sáu với các yêu cầu sau:

1. Thực đơn phải khác biệt với các ngày khác trong tuần
2. Các món ăn phải cân bằng dinh dưỡng (đạm, tinh bột, chất béo, vitamin)
3. Kết hợp nhiều phương pháp chế biến (xào, hấp, luộc, nướng, chiên)
4. Sử dụng nguyên liệu tươi, theo mùa
5. Đảm bảo mỗi bữa có đủ 4 nhóm thực phẩm chính
6. Các món ăn phải hấp dẫn, ngon miệng và dễ ăn
7. KHÔNG ĐƯỢC lặp lại những món ăn đã có trong thực đơn các ngày trước

Thông tin chi tiết:
Bữa: Bữa sáng, Bữa tối
Thích: Bí đỏ, Trứng gà, Thịt ba chỉ, Ngô ngọt, Ớt, Sườn heo, Nước mắm, Hạt tiêu, Cải xoong
Không thích: Hành lá, Mướp đắng, Hẹ tây
Món thích: Thịt kho tàu, Bí đỏ xào tỏi, Sườn rim dứa, Tiramisu
Món không thích: Mướp nhồi thịt, Sầu riêng
Phong cách: Ẩm thực miền Bắc Việt Nam
Ngân sách/bữa: 100000đ
Thời gian max: 90p

Các món ăn đã có trong thực đơn trước đó (KHÔNG ĐƯỢC lặp lại):
1. Bánh mì trứng cuộn bí đỏ hấp
2. Sườn heo rim dứa và cơm gạo tẻ
3. Canh bí đỏ nấu tôm và salad cải xoong
4. Cháo trứng gà bí đỏ hấp
5. Thịt ba chỉ rim tiêu xào cải xoong
6. Sườn heo rim dứa nướng
7. Trứng gà xào bí đỏ và cải xoong
8. Thịt ba chỉ kho tiêu với cơm trắng
9. Sườn heo rim dứa và xà lách
10. Cháo bí đỏ trứng gà
11. Sườn heo rim bí đỏ và cải xoong
Format JSON:
{
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "tên món",
      "ingredients": ["nguyên liệu"],
      "preparation_time": phút,
      "estimated_cost": đồng,
      "reused_ingredients": ["tái sử dụng"],
      "nutrition_info": {
        "protein": "g",
        "carbs": "g",
        "fat": "g",
        "calories": "kcal"
      },
      "cooking_method": "phương pháp nấu",
      "food_groups": ["nhóm thực phẩm"]
    },
    "Bữa trưa": {
      // tương tự như bữa sáng
    },
    "Bữa tối": {
      // tương tự như bữa sáng
    }
  }
}
2025-05-02 13:58:16,260 - api.openai_api - INFO - Sending request to OpenAI API for Thứ sáu
2025-05-02 13:58:18,951 - api.openai_api - INFO - Raw API Response for Thứ sáu:
2025-05-02 13:58:18,952 - api.openai_api - INFO - {
  "id": "chatcmpl-BSeeAjrmZEHnX93cBm3MEALT3RidV",
  "object": "chat.completion",
  "created": 1746169130,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Ch\u00e1o b\u00ed \u0111\u1ecf tr\u1ee9ng g\u00e0 h\u1ea5p\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"tr\u1ee9ng g\u00e0\", \"g\u1ea1o t\u1ebb\", \"r\u01b0\u1ee3u g\u1ea1o (tu\u1ef3 ch\u1ecdn)\", \"gia v\u1ecb (mu\u1ed1i, ti\u00eau)\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 95000,\n      \"reused_ingredients\": [\"tr\u1ee9ng g\u00e0\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"5g\",\n        \"calories\": \"250kcal\"\n      },\n      \"cooking_method\": \"h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim b\u00ed \u0111\u1ecf v\u00e0 c\u1ea3i xoong x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"b\u00ed \u0111\u1ecf t\u01b0\u01a1i\", \"c\u1ea3i xoong\", \"t\u1ecfi\", \"gia v\u1ecb (mu\u1ed1i, ti\u00eau, n\u01b0\u1edbc m\u1eafm)\"],\n      \"preparation_time\": 80,\n      \"estimated_cost\": 100000,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"12g\",\n        \"calories\": \"280kcal\"\n      },\n      \"cooking_method\": \"rim, x\u00e0o\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"tinh b\u1ed9t\", \"ch\u1ea5t b\u00e9o\", \"vitamin\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 738,
    "completion_tokens": 377,
    "total_tokens": 1115,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 13:58:18,952 - api.openai_api - INFO - Raw API Response:
2025-05-02 13:58:18,952 - api.openai_api - INFO - {
  "Thứ sáu": {
    "Bữa sáng": {
      "name": "Cháo bí đỏ trứng gà hấp",
      "ingredients": ["bí đỏ tươi", "trứng gà", "gạo tẻ", "rượu gạo (tuỳ chọn)", "gia vị (muối, tiêu)"],
      "preparation_time": 60,
      "estimated_cost": 95000,
      "reused_ingredients": ["trứng gà"],
      "nutrition_info": {
        "protein": "8g",
        "carbs": "45g",
        "fat": "5g",
        "calories": "250kcal"
      },
      "cooking_method": "hấp",
      "food_groups": ["đạm", "tinh bột", "chất béo", "vitamin"]
    },
    "Bữa tối": {
      "name": "Sườn heo rim bí đỏ và cải xoong xào tỏi",
      "ingredients": ["sườn heo", "bí đỏ tươi", "cải xoong", "tỏi", "gia vị (muối, tiêu, nước mắm)"],
      "preparation_time": 80,
      "estimated_cost": 100000,
      "reused_ingredients": ["nước mắm", "tiêu"],
      "nutrition_info": {
        "protein": "20g",
        "carbs": "15g",
        "fat": "12g",
        "calories": "280kcal"
      },
      "cooking_method": "rim, xào",
      "food_groups": ["đạm", "tinh bột", "chất béo", "vitamin"]
    }
  }
}
2025-05-02 14:29:58,723 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 14:29:58,723 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:30:01,602 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:30:01,602 - api.openai_api - INFO - {
  "id": "chatcmpl-BSf8r3KRMvNBwk8SlkbVmpDoa9HE9",
  "object": "chat.completion",
  "created": 1746171033,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\n        \"B\u00e1nh m\u00ec\",\n        \"Tr\u1ee9ng g\u00e0\",\n        \"B\u00ed \u0111\u1ecf\",\n        \"T\u1ecfi\",\n        \"D\u1ea7u \u0103n\",\n        \"Mu\u1ed1i\"\n      ],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 40000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\n        \"T\u1ecfi\",\n        \"D\u1ea7u \u0103n\"\n      ],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"55g\",\n        \"fat\": \"15g\",\n        \"calories\": \"400 kcal\"\n      },\n      \"cooking_method\": \"Chi\u00ean/x\u00e0o\",\n      \"food_groups\": [\"Protein\", \"Carbohydrate\", \"Vegetable\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\n        \"S\u01b0\u1eddn heo\",\n        \"D\u1ee9a ch\u00edn\",\n        \"N\u01b0\u1edbc m\u1eafm\",\n        \"H\u1ea1t ti\u00eau\",\n        \"T\u1ecfi\",\n        \"\u0110\u01b0\u1eddng\",\n        \"D\u1ea7u \u0103n\"\n      ],\n      \"preparation_time\": 70,\n      \"estimated_cost\": 60000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\n        \"N\u01b0\u1edbc m\u1eafm\",\n        \"H\u1ea1t ti\u00eau\",\n        \"T\u1ecfi\",\n        \"D\u1ea7u \u0103n\"\n      ],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"12g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m/ rim\",\n      \"food_groups\": [\"Protein\", \"Fruit\", \"Fat\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 517,
    "completion_tokens": 405,
    "total_tokens": 922,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:30:01,603 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 14:30:01,603 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:30:03,973 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:30:03,973 - api.openai_api - INFO - {
  "id": "chatcmpl-BSf8uUa2AKb7s7VZBq3u4LUI5iXOz",
  "object": "chat.completion",
  "created": 1746171036,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng g\u00e0 chi\u00ean v\u1edbi b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 60000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"mu\u1ed1i\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"18g\",\n        \"fat\": \"14g\",\n        \"calories\": \"250kcal\"\n      },\n      \"cooking_method\": \"Chi\u00ean v\u00e0 x\u00e0o\",\n      \"food_groups\": [\"Protein\", \"Vitamin A\", \"Carbohydrate\", \"Fats\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim n\u01b0\u1edbc m\u1eafm \u0103n k\u00e8m c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"n\u01b0\u1edbc m\u1eafm\", \"\u0111\u01b0\u1eddng\", \"t\u1ecfi\", \"\u1edbt\", \"d\u1ea7u \u0103n\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 40000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"12g\",\n        \"fat\": \"15g\",\n        \"calories\": \"280kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m rim\",\n      \"food_groups\": [\"Protein\", \"Fats\", \"Vitamin A\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 567,
    "completion_tokens": 378,
    "total_tokens": 945,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:30:03,973 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 14:30:03,974 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:30:07,094 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:30:07,095 - api.openai_api - INFO - {
  "id": "chatcmpl-BSf8wOrMnJe3bLqLQXzt8d36Uv0vS",
  "object": "chat.completion",
  "created": 1746171038,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh x\u00e8o nh\u00e2n B\u00ed \u0111\u1ecf v\u00e0 Tr\u1ee9ng g\u00e0\",\n      \"ingredients\": [\"b\u1ed9t g\u1ea1o\", \"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\", \"l\u00e0nh m\u1ee1, mu\u1ed1i, ti\u00eau, n\u01b0\u1edbc,\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 25000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"10g\",\n        \"calories\": \"300kcal\"\n      },\n      \"cooking_method\": \"chi\u00ean b\u00e1nh x\u00e8o tr\u00ean ch\u1ea3o n\u00f3ng\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"\u0111\u01b0\u1eddng b\u1ed9t\", \"rau\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"C\u1ea3i xoong x\u00e0o t\u1ecfi v\u1edbi Th\u1ecbt ba ch\u1ec9 kho t\u00e0u nh\u1ecf\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"c\u1ea3i xoong\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"\u0111\u01b0\u1eddng, d\u1ea7u \u0103n\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 40000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"c\u1ea3i xoong\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"10g\",\n        \"fat\": \"20g\",\n        \"calories\": \"300kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o tr\u00ean ch\u1ea3o v\u00e0 kho th\u1ecbt\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"rau c\u1ee7\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 627,
    "completion_tokens": 388,
    "total_tokens": 1015,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:30:07,096 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 14:30:07,096 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:30:09,697 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:30:09,697 - api.openai_api - INFO - {
  "id": "chatcmpl-BSf8zi4Jw3qmzZU5K0yC73rHomPDZ",
  "object": "chat.completion",
  "created": 1746171041,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Canh b\u00ed \u0111\u1ecf s\u01b0\u1eddn heo n\u1ea5u ti\u00eau\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"s\u01b0\u1eddn heo\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"h\u00e0nh t\u00edm\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 30000,\n      \"servings\": 2,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"12g\",\n        \"calories\": \"280 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m/ninh\",\n      \"food_groups\": [\"Protein (th\u1ecbt, s\u01b0\u1eddn)\", \"Vegetables (b\u00ed \u0111\u1ecf, h\u00e0nh, t\u1ecfi)\", \"Starch (b\u00ed \u0111\u1ecf)\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u \u0103n k\u00e8m c\u01a1m tr\u1eafng v\u00e0 rau c\u1ea3i xoong\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"tr\u1ee9ng g\u00e0\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"\u0111\u01b0\u1eddng\", \"c\u1ea3i xoong\", \"g\u1ea1o\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 50000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"50g\",\n        \"fat\": \"25g\",\n        \"calories\": \"530 kcal\"\n      },\n      \"cooking_method\": \"Kho / rim\",\n      \"food_groups\": [\"Protein (th\u1ecbt, tr\u1ee9ng)\", \"Carbohydrate (c\u01a1m)\", \"Vegetables (c\u1ea3i xoong)\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 689,
    "completion_tokens": 393,
    "total_tokens": 1082,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:30:09,698 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 14:30:09,698 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:30:13,861 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:30:13,862 - api.openai_api - INFO - {
  "id": "chatcmpl-BSf92W3fgtTGu18nnypWdAlhz3KKB",
  "object": "chat.completion",
  "created": 1746171044,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Ch\u00e1o b\u00ed \u0111\u1ecf tr\u1ee9ng g\u00e0\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\", \"g\u1ea1o\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 20000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"8g\",\n        \"calories\": \"300 kcal\"\n      },\n      \"cooking_method\": \"N\u1ea5u ch\u00e1o b\u00ed \u0111\u1ecf, tr\u1ee9ng g\u00e0 lu\u1ed9c ch\u00edn r\u1ed3i tr\u1ea7n qua\",\n      \"food_groups\": [\"ng\u0169 c\u1ed1c\", \"\u0111\u1ed3 h\u1ecda\u0323i\", \"\u0111\u1ea1m\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u v\u1edbi c\u1ea3i xoong\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"\u0111\u1eadu ph\u1ee5ng\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"c\u1ea3i xoong\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 50000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"8g\",\n        \"fat\": \"20g\",\n        \"calories\": \"290 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m th\u1ecbt kho t\u00e0u, \u0103n k\u00e8m c\u1ea3i xoong x\u00e0o nh\u1eb9\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"\u0111\u1ed3 h\u1ecda\u0323i\", \"rau xanh\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 751,
    "completion_tokens": 391,
    "total_tokens": 1142,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:31:21,955 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 14:31:21,956 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:31:24,417 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:31:24,417 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfACwyBSuvOLhzEdg24pNvtZcVmn",
  "object": "chat.completion",
  "created": 1746171116,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec baguette ph\u1ee7 tr\u1ee9ng v\u00e0 b\u00ed \u0111\u1ecf n\u01b0\u1edbng\",\n      \"ingredients\": [\n        \"B\u00e1nh m\u00ec baguette\",\n        \"Tr\u1ee9ng g\u00e0\",\n        \"B\u00ed \u0111\u1ecf\",\n        \"D\u1ea7u \u00f4liu\",\n        \"Mu\u1ed1i, ti\u00eau\"\n      ],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 25000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"tr\u1ee9ng g\u00e0\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"40g\",\n        \"fat\": \"10g\",\n        \"calories\": \"300 kcal\"\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng b\u00ed \u0111\u1ecf, chi\u00ean tr\u1ee9ng, ph\u1ebft tr\u1ee9ng l\u00ean b\u00e1nh m\u00ec\",\n      \"food_groups\": [\"Ch\u1ea5t \u0111\u1ea1m\", \"Tinh b\u1ed9t\", \"Rau c\u1ee7\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u1edbi c\u1ea3i xoong\",\n      \"ingredients\": [\n        \"S\u01b0\u1eddn heo\",\n        \"D\u1ee9a t\u01b0\u01a1i\",\n        \"N\u01b0\u1edbc m\u1eafm\",\n        \"H\u1ea1t ti\u00eau\",\n        \"T\u1ecfi\",\n        \"C\u1ea3i xoong\"\n      ],\n      \"preparation_time\": 70,\n      \"estimated_cost\": 95000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"22g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m s\u01b0\u1eddn rim d\u1ee9a, \u0103n k\u00e8m c\u1ea3i xoong x\u00e0o nh\u1eb9\",\n      \"food_groups\": [\"Ch\u1ea5t \u0111\u1ea1m\", \"Rau c\u1ee7\", \"Hoa qu\u1ea3\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 514,
    "completion_tokens": 410,
    "total_tokens": 924,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:31:24,418 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 14:31:24,418 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:31:34,484 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:31:34,485 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfAIlAo3D8ExhRoIGHrg8HMRxKvB",
  "object": "chat.completion",
  "created": 1746171122,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec nh\u1ecf tr\u1ee9ng v\u00e0 b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"B\u00e1nh m\u00ec baguette (t\u1ec9 l\u1ec7 nh\u1ecf)\", \"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"D\u1ea7u Olive\", \"Mu\u1ed1i\", \"H\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 45000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"D\u1ea7u Olive\", \"Mu\u1ed1i\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"14g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"Chi\u00ean v\u00e0 n\u01b0\u1edbng b\u00e1nh m\u00ec\",\n      \"food_groups\": [\"Protein\", \"Ng\u0169 c\u1ed1c\", \"Rau c\u1ee7\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a ki\u1ec3u \u00dd\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a t\u01b0\u01a1i\", \"N\u01b0\u1edbc m\u1eafm\", \"\u1edat\", \"T\u1ecfi\", \"H\u1ea1t ti\u00eau\", \"D\u1ea7u Olive\", \"\u1edat chu\u00f4ng (t\u00f9y ch\u1ecdn)\"],\n      \"preparation_time\": 70,\n      \"estimated_cost\": 55000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"D\u1ea7u Olive\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"15g\",\n        \"calories\": \"310 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m r\u01b0\u1eddn v\u00e0 rim\",\n      \"food_groups\": [\"Protein\", \"Hoa qu\u1ea3\", \"D\u1ea7u b\u00e9o\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 566,
    "completion_tokens": 410,
    "total_tokens": 976,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:31:34,486 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 14:31:34,487 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:31:37,326 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:31:37,326 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfAOw7EfTadINCGBvEq4UYVudtmB",
  "object": "chat.completion",
  "created": 1746171128,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o tr\u1ee9ng g\u00e0 v\u00e0 \u1edbt\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\", \"\u1edbt chu\u00f4ng\"],\n      \"preparation_time\": 15,\n      \"estimated_cost\": 40000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"10g\",\n        \"calories\": \"250kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o\",\n      \"food_groups\": [\"rau c\u1ee7\", \"\u0111\u1ea1m\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a ki\u1ec3u \u00dd\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"ti\u00eau \u0111en\"],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 95000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"ti\u00eau \u0111en\"],\n      \"nutrition_info\": {\n        \"protein\": \"25g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"20g\",\n        \"calories\": \"350kcal\"\n      },\n      \"cooking_method\": \"rim v\u00e0 n\u01b0\u1edbng nh\u1eb9\",\n      \"food_groups\": [\"th\u1ecbt\", \"tr\u00e1i c\u00e2y\", \"gia v\u1ecb\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 616,
    "completion_tokens": 346,
    "total_tokens": 962,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:31:37,327 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 14:31:37,327 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:31:39,790 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:31:39,790 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfARelPqjrICuUnenhWUPjP8PmU7",
  "object": "chat.completion",
  "created": 1746171131,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u1ed1t tr\u1ee9ng g\u00e0 v\u00e0 h\u00fang qu\u1ebf\",\n      \"ingredients\": [\n        \"B\u00ed \u0111\u1ecf\",\n        \"Tr\u1ee9ng g\u00e0\",\n        \"\u1edat chu\u00f4ng\",\n        \"T\u1ecfi\",\n        \"D\u1ea7u olive\",\n        \"H\u00fang qu\u1ebf t\u01b0\u01a1i\"\n      ],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 90000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"\u1edat\", \"T\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"35g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o v\u00e0 tr\u1ee9ng x\u1ed1t\",\n      \"food_groups\": [\"Ch\u1ea5t \u0111\u1ea1m\", \"Rau c\u1ee7\", \"D\u1ea7u b\u00e9o\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim s\u1ed1t c\u00e0 chua th\u01a1m ph\u1ee9c\",\n      \"ingredients\": [\n        \"S\u01b0\u1eddn heo\",\n        \"C\u00e0 chua\",\n        \"N\u01b0\u1edbc m\u1eafm\",\n        \"H\u1ea1t ti\u00eau\",\n        \"G\u1eebng\",\n        \"H\u00e0nh t\u00e2y\",\n        \"\u1edat chu\u00f4ng\"\n      ],\n      \"preparation_time\": 60,\n      \"estimated_cost\": 95000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"\u1edat\"],\n      \"nutrition_info\": {\n        \"protein\": \"25g\",\n        \"carbs\": \"10g\",\n        \"fat\": \"20g\",\n        \"calories\": \"400 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m v\u00e0 rim\",\n      \"food_groups\": [\"Ch\u1ea5t \u0111\u1ea1m\", \"Rau c\u1ee7\", \"D\u1ea7u b\u00e9o\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 664,
    "completion_tokens": 405,
    "total_tokens": 1069,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:31:39,791 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 14:31:39,791 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:31:43,653 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:31:43,653 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfAUGYLKy8ySXxLWzCUN1byx9TrF",
  "object": "chat.completion",
  "created": 1746171134,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o tr\u1ee9ng g\u00e0 v\u00e0 \u1edbt theo phong c\u00e1ch Italia\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\", \"\u1edbt\", \"d\u1ea7u \u00f4 liu\", \"t\u1ecfi\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 50000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"d\u1ea7u \u00f4 liu\", \"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"14g\",\n        \"calories\": \"250kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o\",\n      \"food_groups\": [\"rau c\u1ee7\", \"\u0111\u1ea1m\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim m\u1eadt ong v\u00e0 d\u1ee9a ki\u1ec3u \u00dd\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\", \"d\u1ea7u \u00f4 liu\"],\n      \"preparation_time\": 70,\n      \"estimated_cost\": 95000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\", \"d\u1ea7u \u00f4 liu\"],\n      \"nutrition_info\": {\n        \"protein\": \"25g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"20g\",\n        \"calories\": \"350kcal\"\n      },\n      \"cooking_method\": \"rim v\u00e0 s\u1ed1t\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"hoa qu\u1ea3\", \" d\u1ea7u m\u1ee1\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 726,
    "completion_tokens": 377,
    "total_tokens": 1103,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:32:21,194 - api.openai_api - INFO - Sending recipe request to OpenAI API with model: gpt-4.1-nano
2025-05-02 14:32:25,612 - api.openai_api - INFO - Raw API Response Object:
2025-05-02 14:32:25,612 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfBAq30dDS5wefRVh6OlaCHaVJCt",
  "object": "chat.completion",
  "created": 1746171176,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"recipe\": {\n    \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a ki\u1ec3u \u00dd\",\n    \"cuisine_type\": \"\u1ea8m th\u1ef1c \u00dd\",\n    \"ingredients\": [\n      {\n        \"item\": \"S\u01b0\u1eddn heo\",\n        \"amount\": 500,\n        \"unit\": \"g\"\n      },\n      {\n        \"item\": \"D\u1ee9a t\u01b0\u01a1i\",\n        \"amount\": 200,\n        \"unit\": \"g\"\n      },\n      {\n        \"item\": \"T\u1ecfi\",\n        \"amount\": 3,\n        \"unit\": \" t\u00e9p\"\n      },\n      {\n        \"item\": \"D\u1ea7u \u00f4 liu\",\n        \"amount\": 2,\n        \"unit\": \"mu\u1ed7ng canh\"\n      },\n      {\n        \"item\": \"R\u01b0\u1ee3u vang tr\u1eafng\",\n        \"amount\": 100,\n        \"unit\": \"ml\"\n      },\n      {\n        \"item\": \"N\u01b0\u1edbc d\u00f9ng g\u00e0\",\n        \"amount\": 200,\n        \"unit\": \"ml\"\n      },\n      {\n        \"item\": \"Mu\u1ed1i\",\n        \"amount\": 1,\n        \"unit\": \"mu\u1ed7ng c\u00e0 ph\u00ea\"\n      },\n      {\n        \"item\": \"Ti\u00eau \u0111en\",\n        \"amount\": 0.5,\n        \"unit\": \"mu\u1ed7ng c\u00e0 ph\u00ea\"\n      },\n      {\n        \"item\": \"Ng\u00f2 t\u00e2y\",\n        \"amount\": 10,\n        \"unit\": \"g\"\n      }\n    ],\n    \"steps\": [\n      {\n        \"step\": 1,\n        \"description\": \"R\u1eeda s\u1ea1ch s\u01b0\u1eddn heo, c\u1eaft th\u00e0nh t\u1eebng mi\u1ebfng v\u1eeba \u0103n. \u01af\u1edbp v\u1edbi mu\u1ed1i, ti\u00eau v\u00e0 m\u1ed9t \u00edt d\u1ea7u \u00f4 liu trong 15 ph\u00fat.\"\n      },\n      {\n        \"step\": 2,\n        \"description\": \"G\u1ecdt v\u1ecf d\u1ee9a, c\u1eaft th\u00e0nh mi\u1ebfng v\u1eeba. B\u0103m nhuy\u1ec5n t\u1ecfi.\"\n      },\n      {\n        \"step\": 3,\n        \"description\": \"Trong ch\u1ea3o l\u1edbn, \u0111un n\u00f3ng d\u1ea7u \u00f4 liu, cho t\u1ecfi v\u00e0o phi th\u01a1m. Th\u00eam s\u01b0\u1eddn heo v\u00e0o x\u00e0o s\u0103n, v\u00e0ng \u0111\u1ec1u c\u00e1c m\u1eb7t.\"\n      },\n      {\n        \"step\": 4,\n        \"description\": \"Cho r\u01b0\u1ee3u vang tr\u1eafng v\u00e0o ch\u1ea3o, khu\u1ea5y \u0111\u1ec1u \u0111\u1ec3 s\u01b0\u1eddn th\u1ea5m r\u01b0\u1ee3u. \u0110un s\u00f4i trong 5 ph\u00fat.\"\n      },\n      {\n        \"step\": 5,\n        \"description\": \"Th\u00eam d\u1ee9a v\u00e0o, \u0111\u1ea3o \u0111\u1ec1u. \u0110\u1ed5 n\u01b0\u1edbc d\u00f9ng g\u00e0 v\u00e0o, n\u00eam n\u1ebfm l\u1ea1i gia v\u1ecb cho v\u1eeba \u0103n.\"\n      },\n      {\n        \"step\": 6,\n        \"description\": \"H\u1ea1 l\u1eeda nh\u1ecf, \u0111\u1eady n\u1eafp l\u1ea1i, rim trong v\u00f2ng 45 ph\u00fat cho \u0111\u1ebfn khi s\u01b0\u1eddn m\u1ec1m v\u00e0 th\u1ea5m \u0111\u1ec1u gia v\u1ecb.\"\n      },\n      {\n        \"step\": 7,\n        \"description\": \"R\u1eafc ng\u00f2 t\u00e2y \u0111\u00e3 c\u1eaft nh\u1ecf l\u00ean tr\u00ean tr\u01b0\u1edbc khi t\u1eaft b\u1ebfp, tr\u00ecnh b\u00e0y v\u00e0 th\u01b0\u1edfng th\u1ee9c.\"\n      }\n    ],\n    \"preparation_time\": 15,\n    \"cooking_time\": 45,\n    \"servings\": 4,\n    \"difficulty\": \"trung b\u00ecnh\"\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 326,
    "completion_tokens": 684,
    "total_tokens": 1010,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_eede8f0d45"
}
2025-05-02 14:32:25,612 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:32:25,614 - api.openai_api - INFO - {
  "recipe": {
    "name": "Sườn heo rim dứa kiểu Ý",
    "cuisine_type": "Ẩm thực Ý",
    "ingredients": [
      {
        "item": "Sườn heo",
        "amount": 500,
        "unit": "g"
      },
      {
        "item": "Dứa tươi",
        "amount": 200,
        "unit": "g"
      },
      {
        "item": "Tỏi",
        "amount": 3,
        "unit": " tép"
      },
      {
        "item": "Dầu ô liu",
        "amount": 2,
        "unit": "muỗng canh"
      },
      {
        "item": "Rượu vang trắng",
        "amount": 100,
        "unit": "ml"
      },
      {
        "item": "Nước dùng gà",
        "amount": 200,
        "unit": "ml"
      },
      {
        "item": "Muối",
        "amount": 1,
        "unit": "muỗng cà phê"
      },
      {
        "item": "Tiêu đen",
        "amount": 0.5,
        "unit": "muỗng cà phê"
      },
      {
        "item": "Ngò tây",
        "amount": 10,
        "unit": "g"
      }
    ],
    "steps": [
      {
        "step": 1,
        "description": "Rửa sạch sườn heo, cắt thành từng miếng vừa ăn. Ướp với muối, tiêu và một ít dầu ô liu trong 15 phút."
      },
      {
        "step": 2,
        "description": "Gọt vỏ dứa, cắt thành miếng vừa. Băm nhuyễn tỏi."
      },
      {
        "step": 3,
        "description": "Trong chảo lớn, đun nóng dầu ô liu, cho tỏi vào phi thơm. Thêm sườn heo vào xào săn, vàng đều các mặt."
      },
      {
        "step": 4,
        "description": "Cho rượu vang trắng vào chảo, khuấy đều để sườn thấm rượu. Đun sôi trong 5 phút."
      },
      {
        "step": 5,
        "description": "Thêm dứa vào, đảo đều. Đổ nước dùng gà vào, nêm nếm lại gia vị cho vừa ăn."
      },
      {
        "step": 6,
        "description": "Hạ lửa nhỏ, đậy nắp lại, rim trong vòng 45 phút cho đến khi sườn mềm và thấm đều gia vị."
      },
      {
        "step": 7,
        "description": "Rắc ngò tây đã cắt nhỏ lên trên trước khi tắt bếp, trình bày và thưởng thức."
      }
    ],
    "preparation_time": 15,
    "cooking_time": 45,
    "servings": 4,
    "difficulty": "trung bình"
  }
}
2025-05-02 14:37:17,573 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 14:37:17,573 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:37:19,686 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:37:19,686 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfFwrVw4vKPp7otGtG2sCSeDeicf",
  "object": "chat.completion",
  "created": 1746171472,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng \u1ed1p la v\u1edbi b\u00ed \u0111\u1ecf h\u1ea5p\",\n      \"ingredients\": [\n        \"2 qu\u1ea3 tr\u1ee9ng g\u00e0\",\n        \"200g b\u00ed \u0111\u1ecf\"\n      ],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 30000,\n      \"servings\": 2,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"18g\",\n        \"fat\": \"10g\",\n        \"calories\": \"220 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o, h\u1ea5p\",\n      \"food_groups\": [\"protein\", \"vegetables\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn rim d\u1ee9a\",\n      \"ingredients\": [\n        \"300g s\u01b0\u1eddn heo\",\n        \"1 qu\u1ea3 d\u1ee9a nh\u1ecf (th\u01a1m) (kho\u1ea3ng 150g)\",\n        \"\u1edat, ti\u00eau, n\u01b0\u1edbc m\u1eafm, t\u1ecfi\"\n      ],\n      \"preparation_time\": 70,\n      \"estimated_cost\": 95000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"24g\",\n        \"carbs\": \"22g\",\n        \"fat\": \"15g\",\n        \"calories\": \"330 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m/rim\",\n      \"food_groups\": [\"protein\", \"fruits\", \"vegetables\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 515,
    "completion_tokens": 345,
    "total_tokens": 860,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:37:19,687 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 14:37:19,687 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:37:22,426 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:37:22,426 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfFyuAcvvDSJwpbZyCOl2xl5XQoT",
  "object": "chat.completion",
  "created": 1746171474,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"S\u00fap b\u00ed \u0111\u1ecf tr\u1ee9ng g\u00e0\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\", \"ng\u00f4 ng\u1ecdt\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 35000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"8g\",\n        \"calories\": \"250kcal\"\n      },\n      \"cooking_method\": \"n\u1ea5u soup, lu\u1ed9c tr\u1ee9ng\",\n      \"food_groups\": [\"protein\", \"vegetables\", \"grains\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u ki\u1ec3u Trung Hoa\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"t\u1ecfi\", \"\u0111\u01b0\u1eddng\", \"g\u1eebng\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 40000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"12g\",\n        \"fat\": \"25g\",\n        \"calories\": \"300kcal\"\n      },\n      \"cooking_method\": \"h\u1ea7m, kho\",\n      \"food_groups\": [\"protein\", \"fats\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 549,
    "completion_tokens": 356,
    "total_tokens": 905,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:37:22,427 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 14:37:22,428 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:37:25,569 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:37:25,569 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfG05SopnxoiDHlaEdQpzpynutBq",
  "object": "chat.completion",
  "created": 1746171476,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Canh b\u00ed \u0111\u1ecf tr\u1ee9ng g\u00e0 ki\u1ec3u trung Hoa\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 30000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"10g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"8g\",\n        \"calories\": \"180kcal\"\n      },\n      \"cooking_method\": \"n\u1ea5u l\u00f2ng \u0111\u00e0o b\u00ed \u0111\u1ecf v\u00e0 tr\u1ee9ng g\u00e0\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"x\u01a1, vitamin\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim s\u1ed1t tr\u00e1i d\u1ee9a\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a (th\u01a1m)\", \"ng\u00f4 ng\u1ecdt\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"\u1edbt\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 65000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"\u1edbt\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350kcal\"\n      },\n      \"cooking_method\": \"rim th\u1ecbt heo, n\u1ea5u v\u1edbi d\u1ee9a v\u00e0 ng\u00f4 ng\u1ecdt\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"rau c\u1ee7 qu\u1ea3\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 585,
    "completion_tokens": 380,
    "total_tokens": 965,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:37:25,570 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 14:37:25,570 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:37:28,473 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:37:28,473 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfG4EBJaEpsZPAbmDytFXf5hkCu8",
  "object": "chat.completion",
  "created": 1746171480,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o tr\u1ee9ng g\u00e0 v\u00e0 \u1edbt chu\u00f4ng\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\", \"\u1edat chu\u00f4ng\", \"d\u1ea7u \u0103n\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 35000,\n      \"servings\": 2,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"8g\",\n        \"calories\": \"220kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o\",\n      \"food_groups\": [\"rau c\u1ee7\", \"tr\u1ee9ng\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim n\u01b0\u1edbc m\u1eafm g\u1eebng\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"n\u01b0\u1edbc m\u1eafm\", \"g\u1eebng\", \"t\u1ecfi\", \"\u0111\u01b0\u1eddng\", \"\u1edbt\"],\n      \"preparation_time\": 70,\n      \"estimated_cost\": 65000,\n      \"servings\": 2,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"10g\",\n        \"fat\": \"15g\",\n        \"calories\": \"250kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m/rim\",\n      \"food_groups\": [\"s\u1ea3n ph\u1ea9m \u0111\u1ed9ng v\u1eadt\", \"gia v\u1ecb\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 633,
    "completion_tokens": 336,
    "total_tokens": 969,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:37:28,474 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 14:37:28,474 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:37:30,728 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:37:30,729 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfG6LFsGh0OKRPoUyuIVPuRiYian",
  "object": "chat.completion",
  "created": 1746171482,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf h\u1ea5p tr\u1ee9ng g\u00e0 v\u00e0 \u1edbt chu\u00f4ng\",\n      \"ingredients\": [\n        \" B\u00ed \u0111\u1ecf\",\n        \" Tr\u1ee9ng g\u00e0\",\n        \" \u1edat chu\u00f4ng\",\n        \" D\u1ea7u \u0103n\",\n        \" Mu\u1ed1i, ti\u00eau\"\n      ],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 50000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\"],\n      \"nutrition_info\": {\n        \"protein\": \"8g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"10g\",\n        \"calories\": \"220 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea5p/TR\u1ee9ng tr\u00e1ng\",\n      \"food_groups\": [\"Ch\u1ea5t \u0111\u1ea1m\", \"Ch\u1ea5t x\u01a1 t\u1eeb rau qu\u1ea3\", \"Ch\u1ea5t b\u00e9o\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim ti\u00eau \u0111en v\u1edbi c\u1ea3i xoong\",\n      \"ingredients\": [\n        \" S\u01b0\u1eddn heo\",\n        \" N\u01b0\u1edbc m\u1eafm\",\n        \" Ti\u00eau \u0111en\",\n        \" C\u1ea3i xoong\",\n        \" T\u1ecfi\",\n        \" D\u1ea7u \u0103n\"\n      ],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 50000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"s\u01b0\u1eddn heo\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"8g\",\n        \"fat\": \"18g\",\n        \"calories\": \"290 kcal\"\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng/h\u1ea7m rim\",\n      \"food_groups\": [\"Ch\u1ea5t \u0111\u1ea1m\", \"Rau xanh\", \"Ch\u1ea5t b\u00e9o\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 689,
    "completion_tokens": 393,
    "total_tokens": 1082,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:44:29,396 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 14:44:29,397 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:44:31,802 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:44:31,802 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfMtSVFzFmy1CX92Kn5Bv4ncbxne",
  "object": "chat.completion",
  "created": 1746171903,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec Ph\u00e1p v\u1edbi tr\u1ee9ng \u1ed1p la v\u00e0 b\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi\",\n      \"ingredients\": [\"B\u00e1nh m\u00ec Ph\u00e1p\", \"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\", \"Mu\u1ed1i\", \"Ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 95000,\n      \"servings\": 2,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"40g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"Chi\u00ean tr\u1ee9ng \u1ed1p la, x\u00e0o b\u00ed \u0111\u1ecf v\u1edbi t\u1ecfi, pha b\u00e1nh m\u00ec Ph\u00e1p\",\n      \"food_groups\": [\"protein\", \"carbohydrate\", \"vegetable\", \"dairy\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim n\u01b0\u1edbc m\u1eafm v\u1edbi rau c\u1ea3i xoong\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"N\u01b0\u1edbc m\u1eafm\", \"T\u1ecfi\", \"\u1edat\", \"H\u1ea1t ti\u00eau\", \"C\u1ea3i xoong\"],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 100000,\n      \"servings\": 2,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"22g\",\n        \"carbs\": \"8g\",\n        \"fat\": \"18g\",\n        \"calories\": \"280 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m s\u01b0\u1eddn rim n\u01b0\u1edbc m\u1eafm, x\u00e0o c\u1ea3i xoong\",\n      \"food_groups\": [\"protein\", \"vegetable\", \"fat\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 515,
    "completion_tokens": 391,
    "total_tokens": 906,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:44:31,802 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 14:44:31,803 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:44:35,766 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:44:35,767 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfMwXXiCnYu9OIqx1xWrdeCLLzDo",
  "object": "chat.completion",
  "created": 1746171906,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Canh b\u00ed \u0111\u1ecf kem t\u01b0\u01a1i \u0103n k\u00e8m b\u00e1nh m\u00ec quy\u1ec7n b\u01a1\",\n      \"ingredients\": [\"B\u00ed \u0111\u1ecf 300g\", \"S\u1eefa t\u01b0\u01a1i kh\u00f4ng \u0111\u01b0\u1eddng 50ml\", \"B\u01a1 10g\", \"T\u1ecfi 1 t\u00e9p\", \"Mu\u1ed1i, ti\u00eau\", \"B\u00e1nh m\u00ec 2 l\u00e1t\"],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 95000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\"],\n      \"nutrition_info\": {\n        \"protein\": \"4g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"8g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"N\u1ea5u, xay nhuy\u1ec5n, n\u01b0\u1edbng b\u00e1nh m\u00ec\",\n      \"food_groups\": [\"rau qu\u1ea3\", \"\u0111\u1ed3 b\u00e9o\", \"\u0111\u1ed3 tinh b\u1ed9t\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a \u0111\u1eadm \u0111\u00e0 \u0103n k\u00e8m rau c\u1ea3i xoong\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo 300g\", \"D\u1ee9a 1 qu\u1ea3 nh\u1ecf\", \"N\u01b0\u1edbc m\u1eafm 2 mu\u1ed7ng\", \"H\u1ea1t ti\u00eau 1/2 mu\u1ed7ng\", \"\u1edat 1 qu\u1ea3\", \"C\u1ea3i xoong 100g\", \"T\u1ecfi 2 t\u00e9p\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 100000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"\u1edbt\"],\n      \"nutrition_info\": {\n        \"protein\": \"22g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"15g\",\n        \"calories\": \"310 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o, rim\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"rau c\u1ee7 qu\u1ea3\", \"ch\u1ea5t b\u00e9o\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 583,
    "completion_tokens": 441,
    "total_tokens": 1024,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:44:35,767 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 14:44:35,768 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:44:39,203 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:44:39,203 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfN0Z8nwGcjD44cHYrQLvSzAVnGM",
  "object": "chat.completion",
  "created": 1746171910,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o tr\u1ee9ng g\u00e0 phong c\u00e1ch Ph\u00e1p\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\", \"t\u1ecfi\", \"d\u1ea7u oliu, mu\u1ed1i, ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 50000,\n      \"servings\": 2,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"8g\",\n        \"calories\": \"200 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o\",\n      \"food_groups\": [\"rau c\u1ee7\", \"tr\u1ee9ng\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a phong c\u00e1ch Ph\u00e1p\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"\u0111\u01b0\u1eddng, d\u1ea7u \u0103n\"],\n      \"preparation_time\": 70,\n      \"estimated_cost\": 95000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"22g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"12g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"rim/braise\",\n      \"food_groups\": [\"th\u1ecbt\", \"tr\u00e1i c\u00e2y\", \"rau c\u1ee7\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 657,
    "completion_tokens": 350,
    "total_tokens": 1007,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:44:39,204 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 14:44:39,204 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:44:42,664 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:44:42,665 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfN3iHq4F0zasGaOm2OigC1Hihak",
  "object": "chat.completion",
  "created": 1746171913,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Salad B\u00ed \u0111\u1ecf v\u00e0 Tr\u1ee9ng G\u00e0 Ph\u00e1p\",\n      \"ingredients\": [\n        \"B\u00ed \u0111\u1ecf (100g)\",\n        \"Tr\u1ee9ng g\u00e0 (2 qu\u1ea3)\",\n        \"Rau c\u1ea3i xoong\",\n        \"D\u1ea7u \u00f4-liu\",\n        \"Mu\u1ed1i, ti\u00eau\"\n      ],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 30000,\n      \"servings\": 2,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"10g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"N\u01b0\u1edbng b\u00ed \u0111\u1ecf, lu\u1ed9c tr\u1ee9ng, tr\u1ed9n salad\",\n      \"food_groups\": [\"protein\", \"vegetables\", \"fats\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a phong c\u00e1ch Ph\u00e1p\",\n      \"ingredients\": [\n        \"S\u01b0\u1eddn heo (300g)\",\n        \"D\u1ee9a t\u01b0\u01a1i (100g)\",\n        \"T\u1ecfi (\u00edt)\",\n        \"N\u01b0\u1edbc m\u1eafm\",\n        \"H\u1ea1t ti\u00eau\",\n        \"D\u1ea7u \u0103n\"\n      ],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"servings\": 2,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"25g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m/rim\",\n      \"food_groups\": [\"protein\", \"vegetables\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 709,
    "completion_tokens": 381,
    "total_tokens": 1090,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 14:44:42,665 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 14:44:42,665 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 14:44:45,187 - api.openai_api - INFO - Raw API Response:
2025-05-02 14:44:45,188 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfN72aSvwYMbCNeR8GR2LtHLlWP9",
  "object": "chat.completion",
  "created": 1746171917,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Salad B\u00ed \u0111\u1ecf v\u00e0 Tr\u1ee9ng G\u00e0 Ph\u00e1p\",\n      \"ingredients\": [\n        \"b\u00ed \u0111\u1ecf\",\n        \"tr\u1ee9ng g\u00e0\",\n        \"t\u1ecfi\",\n        \"n\u01b0\u1edbc m\u1eafm\",\n        \"h\u1ea1t ti\u00eau\",\n        \"d\u1ea7u oliu\"\n      ],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 20000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"b\u00ed \u0111\u1ecf\", \"tr\u1ee9ng g\u00e0\", \"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"10g\",\n        \"calories\": \"250kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o b\u00ed \u0111\u1ecf v\u00e0 lu\u1ed9c tr\u1ee9ng, sau \u0111\u00f3 tr\u1ed9n salad\",\n      \"food_groups\": [\"rau c\u1ee7\", \"protein\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt ba ch\u1ec9 rang mu\u1ed1i ki\u1ec3u Ph\u00e1p\",\n      \"ingredients\": [\n        \"th\u1ecbt ba ch\u1ec9\",\n        \"t\u1ecfi\",\n        \"\u1edbt\",\n        \"ng\u00f4 ng\u1ecdt\",\n        \"n\u01b0\u1edbc m\u1eafm\",\n        \"h\u1ea1t ti\u00eau\",\n        \"d\u1ea7u \u0103n\"\n      ],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 40000,\n      \"servings\": 2,\n      \"reused_ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"t\u1ecfi\", \"\u1edbt\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"15g\",\n        \"calories\": \"300kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o th\u1ecbt v\u00e0 ng\u00f4 ng\u1ecdt, \u01b0\u1edbp gia v\u1ecb n\u00eam n\u1ebfm x\u01b0\u01a1ng l\u01b0\u1ee3ng ph\u00f9 h\u1ee3p\",\n      \"food_groups\": [\"protein\", \"rau c\u1ee7\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 759,
    "completion_tokens": 417,
    "total_tokens": 1176,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 15:03:03,702 - api.openai_api - INFO - Generating menu for Thứ hai
2025-05-02 15:03:03,702 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 15:03:07,355 - api.openai_api - INFO - Raw API Response:
2025-05-02 15:03:07,355 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfesMksLokxZHZFDg3d3Tkhn45Dw",
  "object": "chat.completion",
  "created": 1746173018,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 hai\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Ch\u00e1o b\u00ed \u0111\u1ecf th\u1ecbt ngan h\u1ea5p\",\n      \"ingredients\": [\"b\u00ed \u0111\u1ecf\", \"g\u1ea1o\", \"th\u1ecbt ngan\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 65000,\n      \"servings\": 4,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"65g\",\n        \"fat\": \"10g\",\n        \"calories\": \"400kcal\"\n      },\n      \"cooking_method\": \"h\u1ea7m v\u00e0 h\u1ea5p\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"beta-carotene\", \"ng\u0169 c\u1ed1c\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a\", \"n\u01b0\u1edbc m\u1eafm\", \"t\u1ecfi\", \"h\u1ea1t ti\u00eau\", \"\u0111\u01b0\u1eddng\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 68000,\n      \"servings\": 4,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"22g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"20g\",\n        \"calories\": \"350kcal\"\n      },\n      \"cooking_method\": \"rim v\u00e0 kho\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"hoa qu\u1ea3\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Ng\u00f4 x\u00e0o t\u1ecfi v\u00e0 c\u1ea3i xoong\",\n      \"ingredients\": [\"ng\u00f4 ng\u1ecdt\", \"c\u1ea3i xoong\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"\u1edbt\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 62000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"7g\",\n        \"carbs\": \"36g\",\n        \"fat\": \"5g\",\n        \"calories\": \"200kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o\",\n      \"food_groups\": [\"ng\u0169 c\u1ed1c\", \"rau xanh\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 658,
    "completion_tokens": 496,
    "total_tokens": 1154,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 15:03:07,356 - api.openai_api - INFO - Generating menu for Thứ ba
2025-05-02 15:03:07,356 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 15:03:10,990 - api.openai_api - INFO - Raw API Response:
2025-05-02 15:03:10,990 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfevmPgR96d3SFd3QO8TEHImyquF",
  "object": "chat.completion",
  "created": 1746173021,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 ba\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la b\u00ed \u0111\u1ecf\",\n      \"ingredients\": [\"B\u00ed \u0111\u1ecf\", \"Tr\u1ee9ng g\u00e0\", \"B\u00e1nh m\u00ec\", \"D\u1ea7u \u0103n\", \"\u1edat\", \"H\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"\u1edbt\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"10g\",\n        \"calories\": \"330 kcal\"\n      },\n      \"cooking_method\": \"Chi\u00ean/ n\u01b0\u1edbng\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"b\u1ed9t \u0111\u01b0\u1eddng\", \"rau c\u1ee7\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim n\u01b0\u1edbc m\u1eafm ti\u00eau\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\", \"\u1edat\", \"T\u1ecfi\", \"\u0110\u01b0\u1eddng\", \"N\u01b0\u1edbc l\u1ecdc\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 69000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"\u1edbt\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"10g\",\n        \"fat\": \"25g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m/ rim\",\n      \"food_groups\": [\"\u0111\u1ea1m\", \"d\u1ea7u b\u00e9o\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"B\u00ed \u0111\u1ecf x\u00e0o t\u1ecfi v\u00e0 c\u1ea3i xoong tr\u1ed9n\",\n      \"ingredients\": [\"B\u00ed \u0111\u1ecf\", \"C\u1ea3i xoong\", \"T\u1ecfi\", \"D\u1ea7u \u0103n\", \"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 62000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"4g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"7g\",\n        \"calories\": \"150 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o\",\n      \"food_groups\": [\"rau c\u1ee7\", \"\u0111\u1ea1m\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 714,
    "completion_tokens": 546,
    "total_tokens": 1260,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 15:03:10,991 - api.openai_api - INFO - Generating menu for Thứ tư
2025-05-02 15:03:10,992 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 15:03:14,390 - api.openai_api - INFO - Raw API Response:
2025-05-02 15:03:14,390 - api.openai_api - INFO - {
  "id": "chatcmpl-BSfezKnE0zgcfWhGv9KZkO7y05EQr",
  "object": "chat.completion",
  "created": 1746173025,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 t\u01b0\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la b\u00ed \u0111\u1ecf\",\n      \"ingredients\": [\"b\u00e1nh m\u00ec\", \"tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf\", \"d\u1ea7u \u0103n\", \"gia v\u1ecb (mu\u1ed1i, ti\u00eau)\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"ti\u00eau v\u00e0 mu\u1ed1i\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"40g\",\n        \"fat\": \"15g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"chi\u00ean tr\u1ee9ng v\u00e0 n\u01b0\u1edbng b\u00e1nh m\u00ec\",\n      \"food_groups\": [\"protein\", \"carbohydrate\", \"vegetable\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"C\u1ea3i xoong x\u00e0o th\u1ecbt ba ch\u1ec9\",\n      \"ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"c\u1ea3i xoong\", \"t\u1ecfi\", \"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\"],\n      \"preparation_time\": 25,\n      \"estimated_cost\": 68000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm, ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"13g\",\n        \"carbs\": \"8g\",\n        \"fat\": \"20g\",\n        \"calories\": \"280 kcal\"\n      },\n      \"cooking_method\": \"x\u00e0o nhanh v\u1edbi t\u1ecfi v\u00e0 gia v\u1ecb\",\n      \"food_groups\": [\"protein\", \"vegetable\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\"s\u01b0\u1eddn heo\", \"d\u1ee9a t\u01b0\u01a1i\", \"t\u1ecfi\", \"n\u01b0\u1edbc m\u1eafm\", \"h\u1ea1t ti\u00eau\", \"\u0111\u01b0\u1eddng, d\u1ea7u \u0103n\"],\n      \"preparation_time\": 35,\n      \"estimated_cost\": 69500,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm, ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"16g\",\n        \"carbs\": \"18g\",\n        \"fat\": \"12g\",\n        \"calories\": \"290 kcal\"\n      },\n      \"cooking_method\": \"rim theo ki\u1ec3u mi\u1ec1n Trung, d\u00f9ng d\u1ee9a \u0111\u1ec3 t\u1ea1o v\u1ecb chua, ng\u1ecdt\",\n      \"food_groups\": [\"protein\", \"fruit\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 786,
    "completion_tokens": 543,
    "total_tokens": 1329,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 15:03:14,391 - api.openai_api - INFO - Generating menu for Thứ năm
2025-05-02 15:03:14,391 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 15:03:18,618 - api.openai_api - INFO - Raw API Response:
2025-05-02 15:03:18,618 - api.openai_api - INFO - {
  "id": "chatcmpl-BSff2m6eduNkWyCh8o4zlGMpKZWbW",
  "object": "chat.completion",
  "created": 1746173028,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 n\u0103m\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"B\u00e1nh m\u00ec tr\u1ee9ng \u1ed1p la b\u00ed \u0111\u1ecf k\u00e8m c\u1ea3i xoong\",\n      \"ingredients\": [\n        \"B\u00ed \u0111\u1ecf\",\n        \"Tr\u1ee9ng g\u00e0\",\n        \"B\u00e1nh m\u00ec\",\n        \"C\u1ea3i xoong\",\n        \"D\u1ea7u \u0103n\",\n        \"N\u01b0\u1edbc m\u1eafm\",\n        \"Ti\u00eau\"\n      ],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 69000,\n      \"servings\": 4,\n      \"reused_ingredients\": [],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"45g\",\n        \"fat\": \"20g\",\n        \"calories\": \"380kcal\"\n      },\n      \"cooking_method\": \"Chi\u00ean (tr\u1ee9ng, b\u00ed \u0111\u1ecf), n\u01b0\u1edbng b\u00e1nh m\u00ec, x\u00e0o c\u1ea3i xoong\",\n      \"food_groups\": [\"protein\", \"carbohydrate\", \"vegetables\", \"dairy\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\n        \"S\u01b0\u1eddn heo\",\n        \"D\u1ee9a\",\n        \"N\u01b0\u1edbc m\u1eafm\",\n        \"H\u1ea1t ti\u00eau\",\n        \"T\u1ecfi (t\u00f9y ch\u1ecdn, n\u1ebfu kh\u00f4ng th\u00edch h\u00e0nh l\u00e1)\"\n      ],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 69000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"H\u1ea1t ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"25g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"18g\",\n        \"calories\": \"330kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o v\u00e0 rim\",\n      \"food_groups\": [\"protein\", \"fruit\", \"fat\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Canh b\u00ed \u0111\u1ecf t\u00f4m s\u00fa\",\n      \"ingredients\": [\n        \"B\u00ed \u0111\u1ecf\",\n        \"T\u00f4m s\u00fa\",\n        \"N\u01b0\u1edbc m\u1eafm\",\n        \"Ti\u00eau\",\n        \"C\u1ea3i xoong\"\n      ],\n      \"preparation_time\": 30,\n      \"estimated_cost\": 69000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\", \"C\u1ea3i xoong\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"4g\",\n        \"calories\": \"150kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m/lu\u1ed9c\",\n      \"food_groups\": [\"protein\", \"vegetables\", \"soup\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 850,
    "completion_tokens": 586,
    "total_tokens": 1436,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 15:03:18,618 - api.openai_api - INFO - Generating menu for Thứ sáu
2025-05-02 15:03:18,620 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 15:03:22,471 - api.openai_api - INFO - Raw API Response:
2025-05-02 15:03:22,471 - api.openai_api - INFO - {
  "id": "chatcmpl-BSff73lJZ7UY5PP4xQn4HvlYnJJMX",
  "object": "chat.completion",
  "created": 1746173033,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 s\u00e1u\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng chi\u00ean b\u00ed \u0111\u1ecf v\u00e0 c\u1ea3i xoong\",\n      \"ingredients\": [\n        \"Tr\u1ee9ng g\u00e0\",\n        \"B\u00ed \u0111\u1ecf\",\n        \"C\u1ea3i xoong\",\n        \"D\u1ea7u \u0103n\",\n        \"Gia v\u1ecb: mu\u1ed1i, ti\u00eau\"\n      ],\n      \"preparation_time\": 15,\n      \"estimated_cost\": 65000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf\", \"c\u1ea3i xoong\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"15g\",\n        \"calories\": \"250 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o v\u00e0 chi\u00ean\",\n      \"food_groups\": [\"Protein\", \"rau c\u1ee7\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"S\u01b0\u1eddn heo rim n\u01b0\u1edbc m\u1eafm ti\u00eau\",\n      \"ingredients\": [\n        \"S\u01b0\u1eddn heo\",\n        \"N\u01b0\u1edbc m\u1eafm\",\n        \"Ti\u00eau\",\n        \"T\u1ecfi\",\n        \"\u0110\u01b0\u1eddng\",\n        \"N\u01b0\u1edbc l\u1ecdc\"\n      ],\n      \"preparation_time\": 40,\n      \"estimated_cost\": 70000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"s\u01b0\u1eddn heo\"],\n      \"nutrition_info\": {\n        \"protein\": \"18g\",\n        \"carbs\": \"5g\",\n        \"fat\": \"12g\",\n        \"calories\": \"220 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m v\u00e0 rim\",\n      \"food_groups\": [\"Protein\", \"D\u1ea7u m\u1ee1\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u v\u1edbi b\u00ed \u0111\u1ecf\",\n      \"ingredients\": [\n        \"Th\u1ecbt ba ch\u1ec9\",\n        \"Tr\u1ee9ng g\u00e0\",\n        \"N\u01b0\u1edbc m\u1eafm\",\n        \"Ti\u00eau\",\n        \"T\u1ecfi\",\n        \"B\u00ed \u0111\u1ecf\",\n        \"Gia v\u1ecb: mu\u1ed1i, \u0111\u01b0\u1eddng\"\n      ],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"th\u1ecbt ba ch\u1ec9\", \"tr\u1ee9ng g\u00e0\", \"b\u00ed \u0111\u1ecf\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbs\": \"25g\",\n        \"fat\": \"18g\",\n        \"calories\": \"330 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m v\u00e0 kho\",\n      \"food_groups\": [\"Protein\", \"rau c\u1ee7\", \"D\u1ea7u m\u1ee1\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 920,
    "completion_tokens": 573,
    "total_tokens": 1493,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 15:03:22,472 - api.openai_api - INFO - Generating menu for Thứ bảy
2025-05-02 15:03:22,472 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 15:03:25,969 - api.openai_api - INFO - Raw API Response:
2025-05-02 15:03:25,969 - api.openai_api - INFO - {
  "id": "chatcmpl-BSffBW0oi6sm8GcoHo4o93ZI70KWZ",
  "object": "chat.completion",
  "created": 1746173037,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Th\u1ee9 b\u1ea3y\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng g\u00e0 h\u1ea5p b\u00ed \u0111\u1ecf v\u00e0 c\u1ea3i xoong\",\n      \"ingredients\": [\"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"C\u1ea3i xoong\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\"],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 65000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"12g\",\n        \"carbs\": \"15g\",\n        \"fat\": \"10g\",\n        \"calories\": \"200kcal\"\n      },\n      \"cooking_method\": \"H\u1ea5p\",\n      \"food_groups\": [\"Protein\", \"Vegetables\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u b\u00ed \u0111\u1ecf\",\n      \"ingredients\": [\"Th\u1ecbt ba ch\u1ec9\", \"Tr\u1ee9ng g\u00e0\", \"B\u00ed \u0111\u1ecf\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\"],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 70000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"15g\",\n        \"carbs\": \"20g\",\n        \"fat\": \"18g\",\n        \"calories\": \"300kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m kho\",\n      \"food_groups\": [\"Protein\", \"Vegetables\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a\",\n      \"ingredients\": [\"S\u01b0\u1eddn heo\", \"D\u1ee9a\", \"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\"],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 68000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"N\u01b0\u1edbc m\u1eafm\", \"Ti\u00eau\"],\n      \"nutrition_info\": {\n        \"protein\": \"17g\",\n        \"carbs\": \"22g\",\n        \"fat\": \"12g\",\n        \"calories\": \"250kcal\"\n      },\n      \"cooking_method\": \"rim\",\n      \"food_groups\": [\"Protein\", \"Fruits\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 982,
    "completion_tokens": 496,
    "total_tokens": 1478,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
2025-05-02 15:03:25,970 - api.openai_api - INFO - Generating menu for Chủ nhật
2025-05-02 15:03:25,971 - api.openai_api - INFO - Sending request to OpenAI API
2025-05-02 15:03:29,248 - api.openai_api - INFO - Raw API Response:
2025-05-02 15:03:29,248 - api.openai_api - INFO - {
  "id": "chatcmpl-BSffE9RDqU1FlUc7reCMAMcvee39m",
  "object": "chat.completion",
  "created": 1746173040,
  "model": "gpt-4.1-nano-2025-04-14",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "{\n  \"Ch\u1ee7 nh\u1eadt\": {\n    \"B\u1eefa s\u00e1ng\": {\n      \"name\": \"Tr\u1ee9ng g\u00e0 m\u1ec1m x\u00e0o b\u00ed \u0111\u1ecf t\u1ecfi\",\n      \"ingredients\": [\n        \"Tr\u1ee9ng g\u00e0 x 4 qu\u1ea3\",\n        \"B\u00ed \u0111\u1ecf x\u1eaft l\u00e1t nh\u1ecf x 300g\",\n        \"T\u1ecfi b\u0103m\",\n        \"D\u1ea7u \u0103n\"\n      ],\n      \"preparation_time\": 20,\n      \"estimated_cost\": 55000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\"],\n      \"nutrition_info\": {\n        \"protein\": \"14g\",\n        \"carbs\": \"30g\",\n        \"fat\": \"12g\",\n        \"calories\": \"280 kcal\"\n      },\n      \"cooking_method\": \"X\u00e0o\",\n      \"food_groups\": [\"Protein\", \"Carbohydrates\", \"Vegetables\"]\n    },\n    \"B\u1eefa tr\u01b0a\": {\n      \"name\": \"Th\u1ecbt kho t\u00e0u b\u00ed \u0111\u1ecf\",\n      \"ingredients\": [\n        \"Th\u1ecbt ba ch\u1ec9 300g\",\n        \"B\u00ed \u0111\u1ecf x\u1eaft kh\u1ed1i 200g\",\n        \"N\u01b0\u1edbc m\u1eafm, ti\u00eau\",\n        \"H\u00e0nh t\u00edm\",\n        \"D\u1ea7u \u0103n\"\n      ],\n      \"preparation_time\": 45,\n      \"estimated_cost\": 69000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"d\u1ea7u \u0103n\", \"n\u01b0\u1edbc m\u1eafm\"],\n      \"nutrition_info\": {\n        \"protein\": \"16g\",\n        \"carbohydrates\": \"20g\",\n        \"fat\": \"25g\",\n        \"calories\": \"350 kcal\"\n      },\n      \"cooking_method\": \"H\u1ea7m kho\",\n      \"food_groups\": [\"Protein\", \"Vegetables\", \"Fats\"]\n    },\n    \"B\u1eefa t\u1ed1i\": {\n      \"name\": \"S\u01b0\u1eddn heo rim d\u1ee9a v\u00e0 c\u01a1m tr\u1eafng\",\n      \"ingredients\": [\n        \"S\u01b0\u1eddn heo 300g\",\n        \"D\u1ee9a t\u01b0\u01a1i ho\u1eb7c \u0111\u00f3ng h\u1ed9p 150g\",\n        \"N\u01b0\u1edbc m\u1eafm, ti\u00eau, t\u1ecfi\",\n        \"C\u01a1m tr\u1eafng\"\n      ],\n      \"preparation_time\": 50,\n      \"estimated_cost\": 68000,\n      \"servings\": 4,\n      \"reused_ingredients\": [\"n\u01b0\u1edbc m\u1eafm\", \"ti\u00eau\", \"t\u1ecfi\"],\n      \"nutrition_info\": {\n        \"protein\": \"20g\",\n        \"carbohydrates\": \"45g\",\n        \"fat\": \"10g\",\n        \"calories\": \"420 kcal\"\n      },\n      \"cooking_method\": \"N\u1ea5u rim\",\n      \"food_groups\": [\"Protein\", \"Fruits\", \"Carbohydrates\"]\n    }\n  }\n}",
        "refusal": null,
        "annotations": []
      },
      "logprobs": null,
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 1037,
    "completion_tokens": 574,
    "total_tokens": 1611,
    "prompt_tokens_details": {
      "cached_tokens": 0,
      "audio_tokens": 0
    },
    "completion_tokens_details": {
      "reasoning_tokens": 0,
      "audio_tokens": 0,
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0
    }
  },
  "service_tier": "default",
  "system_fingerprint": "fp_8fd43718b3"
}
